<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Spades</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
              display: ['Outfit', 'sans-serif'],
              mono: ['JetBrains Mono', 'monospace'],
            },
            colors: {
              brand: {
                obsidian: '#050505',
                charcoal: '#0a0a0a',
                card: '#121212',
                red: '#d92323',
                deepRed: '#500808',
                gold: '#e2b15b',
                goldDim: '#8a6d3b',
              }
            },
            animation: {
              'pulse-slow': 'pulse 8s cubic-bezier(0.4, 0, 0.6, 1) infinite',
              'float': 'float 10s ease-in-out infinite',
              'shine': 'shine 6s linear infinite',
              'shimmer': 'shimmer 3s ease-in-out infinite alternate',
              'glow': 'glow 4s ease-in-out infinite alternate',
            },
            keyframes: {
              float: {
                '0%, 100%': { transform: 'translateY(0)' },
                '50%': { transform: 'translateY(-15px)' },
              },
              shine: {
                '0%': { backgroundPosition: '200% center' },
                '100%': { backgroundPosition: '-200% center' },
              },
              shimmer: {
                '0%': { opacity: 0.5 },
                '100%': { opacity: 1 },
              },
              glow: {
                '0%': { boxShadow: '0 0 10px rgba(217, 35, 35, 0.1)' },
                '100%': { boxShadow: '0 0 30px rgba(217, 35, 35, 0.3), 0 0 15px rgba(226, 177, 91, 0.1)' }
              }
            }
          }
        }
      }
    </script>
    <style>
      body {
        background-color: #020202;
        color: #f5f5f5;
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      
      /* Ultra-Premium Background */
      .cinematic-bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        z-index: -1;
        background: radial-gradient(circle at 50% -20%, #1a0505 0%, #020202 50%);
        pointer-events: none;
      }

      .noise-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        opacity: 0.04;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        pointer-events: none;
        mix-blend-mode: overlay;
      }

      /* Refined Scrollbar */
      ::-webkit-scrollbar {
        width: 4px;
      }
      ::-webkit-scrollbar-track {
        background: #020202;
      }
      ::-webkit-scrollbar-thumb {
        background: #333;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #d92323;
      }
      
      /* High-End Glassmorphism */
      .glass-panel {
        background: rgba(10, 10, 10, 0.6);
        backdrop-filter: blur(24px) saturate(180%);
        -webkit-backdrop-filter: blur(24px) saturate(180%);
        border: 1px solid rgba(255, 255, 255, 0.05);
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
      }
      
      .glass-card-hover {
        transition: all 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
      }
      .glass-card-hover:hover {
        background: rgba(20, 20, 20, 0.8);
        border-color: rgba(255, 255, 255, 0.1);
        transform: translateY(-4px);
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7);
      }

      /* Gold Text Effect */
      .text-gradient-gold {
        background: linear-gradient(135deg, #fceeb5 0%, #e2b15b 50%, #8a6d3b 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-size: 100% auto;
      }
      
      /* Red Text Effect */
      .text-gradient-red {
        background: linear-gradient(135deg, #ff8080 0%, #d92323 60%, #500808 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }
    </style>


  <script type="module" crossorigin>(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(r){if(r.ep)return;r.ep=!0;const d=o(r);fetch(r.href,d)}})();function kh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ru={exports:{}},el={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function Wv(){if(Op)return el;Op=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(s,r,d){var p=null;if(d!==void 0&&(p=""+d),r.key!==void 0&&(p=""+r.key),"key"in r){d={};for(var v in r)v!=="key"&&(d[v]=r[v])}else d=r;return r=d.ref,{$$typeof:i,type:s,key:p,ref:r!==void 0?r:null,props:d}}return el.Fragment=t,el.jsx=o,el.jsxs=o,el}var Fp;function ey(){return Fp||(Fp=1,ru.exports=Wv()),ru.exports}var g=ey(),uu={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function ty(){if(Yp)return ve;Yp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function _(A){return A===null||typeof A!="object"?null:(A=b&&A[b]||A["@@iterator"],typeof A=="function"?A:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,R={};function P(A,V,X){this.props=A,this.context=V,this.refs=R,this.updater=X||w}P.prototype.isReactComponent={},P.prototype.setState=function(A,V){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,V,"setState")},P.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function j(){}j.prototype=P.prototype;function G(A,V,X){this.props=A,this.context=V,this.refs=R,this.updater=X||w}var J=G.prototype=new j;J.constructor=G,k(J,P.prototype),J.isPureReactComponent=!0;var $=Array.isArray;function ne(){}var K={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function te(A,V,X){var Z=X.ref;return{$$typeof:i,type:A,key:V,ref:Z!==void 0?Z:null,props:X}}function ge(A,V){return te(A.type,V,A.props)}function Te(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}function Y(A){var V={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(X){return V[X]})}var ie=/\/+/g;function ue(A,V){return typeof A=="object"&&A!==null&&A.key!=null?Y(""+A.key):V.toString(36)}function B(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(ne,ne):(A.status="pending",A.then(function(V){A.status==="pending"&&(A.status="fulfilled",A.value=V)},function(V){A.status==="pending"&&(A.status="rejected",A.reason=V)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function M(A,V,X,Z,se){var ye=typeof A;(ye==="undefined"||ye==="boolean")&&(A=null);var me=!1;if(A===null)me=!0;else switch(ye){case"bigint":case"string":case"number":me=!0;break;case"object":switch(A.$$typeof){case i:case t:me=!0;break;case x:return me=A._init,M(me(A._payload),V,X,Z,se)}}if(me)return se=se(A),me=Z===""?"."+ue(A,0):Z,$(se)?(X="",me!=null&&(X=me.replace(ie,"$&/")+"/"),M(se,V,X,"",function(Jn){return Jn})):se!=null&&(Te(se)&&(se=ge(se,X+(se.key==null||A&&A.key===se.key?"":(""+se.key).replace(ie,"$&/")+"/")+me)),V.push(se)),1;me=0;var je=Z===""?".":Z+":";if($(A))for(var Pe=0;Pe<A.length;Pe++)Z=A[Pe],ye=je+ue(Z,Pe),me+=M(Z,V,X,ye,se);else if(Pe=_(A),typeof Pe=="function")for(A=Pe.call(A),Pe=0;!(Z=A.next()).done;)Z=Z.value,ye=je+ue(Z,Pe++),me+=M(Z,V,X,ye,se);else if(ye==="object"){if(typeof A.then=="function")return M(B(A),V,X,Z,se);throw V=String(A),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return me}function F(A,V,X){if(A==null)return A;var Z=[],se=0;return M(A,Z,"","",function(ye){return V.call(X,ye,se++)}),Z}function le(A){if(A._status===-1){var V=A._result;V=V(),V.then(function(X){(A._status===0||A._status===-1)&&(A._status=1,A._result=X)},function(X){(A._status===0||A._status===-1)&&(A._status=2,A._result=X)}),A._status===-1&&(A._status=0,A._result=V)}if(A._status===1)return A._result.default;throw A._result}var Q=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},ce={map:F,forEach:function(A,V,X){F(A,function(){V.apply(this,arguments)},X)},count:function(A){var V=0;return F(A,function(){V++}),V},toArray:function(A){return F(A,function(V){return V})||[]},only:function(A){if(!Te(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return ve.Activity=T,ve.Children=ce,ve.Component=P,ve.Fragment=o,ve.Profiler=r,ve.PureComponent=G,ve.StrictMode=s,ve.Suspense=y,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,ve.__COMPILER_RUNTIME={__proto__:null,c:function(A){return K.H.useMemoCache(A)}},ve.cache=function(A){return function(){return A.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(A,V,X){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var Z=k({},A.props),se=A.key;if(V!=null)for(ye in V.key!==void 0&&(se=""+V.key),V)!fe.call(V,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&V.ref===void 0||(Z[ye]=V[ye]);var ye=arguments.length-2;if(ye===1)Z.children=X;else if(1<ye){for(var me=Array(ye),je=0;je<ye;je++)me[je]=arguments[je+2];Z.children=me}return te(A.type,se,Z)},ve.createContext=function(A){return A={$$typeof:p,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:d,_context:A},A},ve.createElement=function(A,V,X){var Z,se={},ye=null;if(V!=null)for(Z in V.key!==void 0&&(ye=""+V.key),V)fe.call(V,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(se[Z]=V[Z]);var me=arguments.length-2;if(me===1)se.children=X;else if(1<me){for(var je=Array(me),Pe=0;Pe<me;Pe++)je[Pe]=arguments[Pe+2];se.children=je}if(A&&A.defaultProps)for(Z in me=A.defaultProps,me)se[Z]===void 0&&(se[Z]=me[Z]);return te(A,ye,se)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(A){return{$$typeof:v,render:A}},ve.isValidElement=Te,ve.lazy=function(A){return{$$typeof:x,_payload:{_status:-1,_result:A},_init:le}},ve.memo=function(A,V){return{$$typeof:h,type:A,compare:V===void 0?null:V}},ve.startTransition=function(A){var V=K.T,X={};K.T=X;try{var Z=A(),se=K.S;se!==null&&se(X,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(ne,Q)}catch(ye){Q(ye)}finally{V!==null&&X.types!==null&&(V.types=X.types),K.T=V}},ve.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},ve.use=function(A){return K.H.use(A)},ve.useActionState=function(A,V,X){return K.H.useActionState(A,V,X)},ve.useCallback=function(A,V){return K.H.useCallback(A,V)},ve.useContext=function(A){return K.H.useContext(A)},ve.useDebugValue=function(){},ve.useDeferredValue=function(A,V){return K.H.useDeferredValue(A,V)},ve.useEffect=function(A,V){return K.H.useEffect(A,V)},ve.useEffectEvent=function(A){return K.H.useEffectEvent(A)},ve.useId=function(){return K.H.useId()},ve.useImperativeHandle=function(A,V,X){return K.H.useImperativeHandle(A,V,X)},ve.useInsertionEffect=function(A,V){return K.H.useInsertionEffect(A,V)},ve.useLayoutEffect=function(A,V){return K.H.useLayoutEffect(A,V)},ve.useMemo=function(A,V){return K.H.useMemo(A,V)},ve.useOptimistic=function(A,V){return K.H.useOptimistic(A,V)},ve.useReducer=function(A,V,X){return K.H.useReducer(A,V,X)},ve.useRef=function(A){return K.H.useRef(A)},ve.useState=function(A){return K.H.useState(A)},ve.useSyncExternalStore=function(A,V,X){return K.H.useSyncExternalStore(A,V,X)},ve.useTransition=function(){return K.H.useTransition()},ve.version="19.2.3",ve}var Jp;function Mu(){return Jp||(Jp=1,uu.exports=ty()),uu.exports}var W=Mu();const ny=kh(W);var cu={exports:{}},tl={},du={exports:{}},fu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function iy(){return Xp||(Xp=1,(function(i){function t(M,F){var le=M.length;M.push(F);e:for(;0<le;){var Q=le-1>>>1,ce=M[Q];if(0<r(ce,F))M[Q]=F,M[le]=ce,le=Q;else break e}}function o(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var F=M[0],le=M.pop();if(le!==F){M[0]=le;e:for(var Q=0,ce=M.length,A=ce>>>1;Q<A;){var V=2*(Q+1)-1,X=M[V],Z=V+1,se=M[Z];if(0>r(X,le))Z<ce&&0>r(se,X)?(M[Q]=se,M[Z]=le,Q=Z):(M[Q]=X,M[V]=le,Q=V);else if(Z<ce&&0>r(se,le))M[Q]=se,M[Z]=le,Q=Z;else break e}}return F}function r(M,F){var le=M.sortIndex-F.sortIndex;return le!==0?le:M.id-F.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var p=Date,v=p.now();i.unstable_now=function(){return p.now()-v}}var y=[],h=[],x=1,T=null,b=3,_=!1,w=!1,k=!1,R=!1,P=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function J(M){for(var F=o(h);F!==null;){if(F.callback===null)s(h);else if(F.startTime<=M)s(h),F.sortIndex=F.expirationTime,t(y,F);else break;F=o(h)}}function $(M){if(k=!1,J(M),!w)if(o(y)!==null)w=!0,ne||(ne=!0,Y());else{var F=o(h);F!==null&&B($,F.startTime-M)}}var ne=!1,K=-1,fe=5,te=-1;function ge(){return R?!0:!(i.unstable_now()-te<fe)}function Te(){if(R=!1,ne){var M=i.unstable_now();te=M;var F=!0;try{e:{w=!1,k&&(k=!1,j(K),K=-1),_=!0;var le=b;try{t:{for(J(M),T=o(y);T!==null&&!(T.expirationTime>M&&ge());){var Q=T.callback;if(typeof Q=="function"){T.callback=null,b=T.priorityLevel;var ce=Q(T.expirationTime<=M);if(M=i.unstable_now(),typeof ce=="function"){T.callback=ce,J(M),F=!0;break t}T===o(y)&&s(y),J(M)}else s(y);T=o(y)}if(T!==null)F=!0;else{var A=o(h);A!==null&&B($,A.startTime-M),F=!1}}break e}finally{T=null,b=le,_=!1}F=void 0}}finally{F?Y():ne=!1}}}var Y;if(typeof G=="function")Y=function(){G(Te)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ue=ie.port2;ie.port1.onmessage=Te,Y=function(){ue.postMessage(null)}}else Y=function(){P(Te,0)};function B(M,F){K=P(function(){M(i.unstable_now())},F)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(M){switch(b){case 1:case 2:case 3:var F=3;break;default:F=b}var le=b;b=F;try{return M()}finally{b=le}},i.unstable_requestPaint=function(){R=!0},i.unstable_runWithPriority=function(M,F){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var le=b;b=M;try{return F()}finally{b=le}},i.unstable_scheduleCallback=function(M,F,le){var Q=i.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Q+le:Q):le=Q,M){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=le+ce,M={id:x++,callback:F,priorityLevel:M,startTime:le,expirationTime:ce,sortIndex:-1},le>Q?(M.sortIndex=le,t(h,M),o(y)===null&&M===o(h)&&(k?(j(K),K=-1):k=!0,B($,le-Q))):(M.sortIndex=ce,t(y,M),w||_||(w=!0,ne||(ne=!0,Y()))),M},i.unstable_shouldYield=ge,i.unstable_wrapCallback=function(M){var F=b;return function(){var le=b;b=F;try{return M.apply(this,arguments)}finally{b=le}}}})(fu)),fu}var Kp;function oy(){return Kp||(Kp=1,du.exports=iy()),du.exports}var pu={exports:{}},lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function ly(){if(jp)return lt;jp=1;var i=Mu();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function d(y,h,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:y,containerInfo:h,implementation:x}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,lt.createPortal=function(y,h){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return d(y,h,null,x)},lt.flushSync=function(y){var h=p.T,x=s.p;try{if(p.T=null,s.p=2,y)return y()}finally{p.T=h,s.p=x,s.d.f()}},lt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(y,h))},lt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},lt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var x=h.as,T=v(x,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;x==="style"?s.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:_}):x==="script"&&s.d.X(y,{crossOrigin:T,integrity:b,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},lt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var x=v(h.as,h.crossOrigin);s.d.M(y,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(y)},lt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var x=h.as,T=v(x,h.crossOrigin);s.d.L(y,x,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},lt.preloadModule=function(y,h){if(typeof y=="string")if(h){var x=v(h.as,h.crossOrigin);s.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(y)},lt.requestFormReset=function(y){s.d.r(y)},lt.unstable_batchedUpdates=function(y,h){return y(h)},lt.useFormState=function(y,h,x){return p.H.useFormState(y,h,x)},lt.useFormStatus=function(){return p.H.useHostTransitionStatus()},lt.version="19.2.3",lt}var Qp;function sy(){if(Qp)return pu.exports;Qp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),pu.exports=ly(),pu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function ay(){if(Zp)return tl;Zp=1;var i=oy(),t=Mu(),o=sy();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(s(188))}function h(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(s(188));return n!==e?null:e}for(var l=e,a=n;;){var f=l.return;if(f===null)break;var m=f.alternate;if(m===null){if(a=f.return,a!==null){l=a;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===l)return y(f),e;if(m===a)return y(f),n;m=m.sibling}throw Error(s(188))}if(l.return!==a.return)l=f,a=m;else{for(var S=!1,E=f.child;E;){if(E===l){S=!0,l=f,a=m;break}if(E===a){S=!0,a=f,l=m;break}E=E.sibling}if(!S){for(E=m.child;E;){if(E===l){S=!0,l=m,a=f;break}if(E===a){S=!0,a=m,l=f;break}E=E.sibling}if(!S)throw Error(s(189))}}if(l.alternate!==a)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),G=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),ge=Symbol.for("react.memo_cache_sentinel"),Te=Symbol.iterator;function Y(e){return e===null||typeof e!="object"?null:(e=Te&&e[Te]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Symbol.for("react.client.reference");function ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ie?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case P:return"Profiler";case R:return"StrictMode";case $:return"Suspense";case ne:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case G:return e.displayName||"Context";case j:return(e._context.displayName||"Context")+".Consumer";case J:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return n=e.displayName||null,n!==null?n:ue(e.type)||"Memo";case fe:n=e._payload,e=e._init;try{return ue(e(n))}catch{}}return null}var B=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Q=[],ce=-1;function A(e){return{current:e}}function V(e){0>ce||(e.current=Q[ce],Q[ce]=null,ce--)}function X(e,n){ce++,Q[ce]=e.current,e.current=n}var Z=A(null),se=A(null),ye=A(null),me=A(null);function je(e,n){switch(X(ye,n),X(se,e),X(Z,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?fp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=fp(n),e=pp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(Z),X(Z,e)}function Pe(){V(Z),V(se),V(ye)}function Jn(e){e.memoizedState!==null&&X(me,e);var n=Z.current,l=pp(n,e.type);n!==l&&(X(se,e),X(Z,l))}function mi(e){se.current===e&&(V(Z),V(se)),me.current===e&&(V(me),Qo._currentValue=le)}var Fs,qu;function Xn(e){if(Fs===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Fs=n&&n[1]||"",qu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fs+e+qu}var Ys=!1;function Js(e,n){if(!e||Ys)return"";Ys=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(n){var O=function(){throw Error()};if(Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(H){var L=H}Reflect.construct(e,[],O)}else{try{O.call()}catch(H){L=H}e.call(O.prototype)}}else{try{throw Error()}catch(H){L=H}(O=e())&&typeof O.catch=="function"&&O.catch(function(){})}}catch(H){if(H&&L&&typeof H.stack=="string")return[H.stack,L.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=a.DetermineComponentFrameRoot(),S=m[0],E=m[1];if(S&&E){var C=S.split(`
`),U=E.split(`
`);for(f=a=0;a<C.length&&!C[a].includes("DetermineComponentFrameRoot");)a++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(a===C.length||f===U.length)for(a=C.length-1,f=U.length-1;1<=a&&0<=f&&C[a]!==U[f];)f--;for(;1<=a&&0<=f;a--,f--)if(C[a]!==U[f]){if(a!==1||f!==1)do if(a--,f--,0>f||C[a]!==U[f]){var z=`
`+C[a].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=a&&0<=f);break}}}finally{Ys=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Xn(l):""}function Mg(e,n){switch(e.tag){case 26:case 27:case 5:return Xn(e.type);case 16:return Xn("Lazy");case 13:return e.child!==n&&n!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return Js(e.type,!1);case 11:return Js(e.type.render,!1);case 1:return Js(e.type,!0);case 31:return Xn("Activity");default:return""}}function Bu(e){try{var n="",l=null;do n+=Mg(e,l),l=e,e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Xs=Object.prototype.hasOwnProperty,Ks=i.unstable_scheduleCallback,js=i.unstable_cancelCallback,Ig=i.unstable_shouldYield,Dg=i.unstable_requestPaint,vt=i.unstable_now,Ug=i.unstable_getCurrentPriorityLevel,Ou=i.unstable_ImmediatePriority,Fu=i.unstable_UserBlockingPriority,ll=i.unstable_NormalPriority,kg=i.unstable_LowPriority,Yu=i.unstable_IdlePriority,Lg=i.log,Pg=i.unstable_setDisableYieldValue,ao=null,yt=null;function yn(e){if(typeof Lg=="function"&&Pg(e),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(ao,e)}catch{}}var xt=Math.clz32?Math.clz32:Vg,Gg=Math.log,Hg=Math.LN2;function Vg(e){return e>>>=0,e===0?32:31-(Gg(e)/Hg|0)|0}var sl=256,al=262144,rl=4194304;function Kn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ul(e,n,l){var a=e.pendingLanes;if(a===0)return 0;var f=0,m=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var E=a&134217727;return E!==0?(a=E&~m,a!==0?f=Kn(a):(S&=E,S!==0?f=Kn(S):l||(l=E&~e,l!==0&&(f=Kn(l))))):(E=a&~m,E!==0?f=Kn(E):S!==0?f=Kn(S):l||(l=a&~e,l!==0&&(f=Kn(l)))),f===0?0:n!==0&&n!==f&&(n&m)===0&&(m=f&-f,l=n&-n,m>=l||m===32&&(l&4194048)!==0)?n:f}function ro(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function zg(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ju(){var e=rl;return rl<<=1,(rl&62914560)===0&&(rl=4194304),e}function Qs(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function uo(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qg(e,n,l,a,f,m){var S=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,U=e.hiddenUpdates;for(l=S&~l;0<l;){var z=31-xt(l),O=1<<z;E[z]=0,C[z]=-1;var L=U[z];if(L!==null)for(U[z]=null,z=0;z<L.length;z++){var H=L[z];H!==null&&(H.lane&=-536870913)}l&=~O}a!==0&&Xu(e,a,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(S&~n))}function Xu(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var a=31-xt(n);e.entangledLanes|=n,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function Ku(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var a=31-xt(l),f=1<<a;f&n|e[a]&n&&(e[a]|=n),l&=~f}}function ju(e,n){var l=n&-n;return l=(l&42)!==0?1:Zs(l),(l&(e.suspendedLanes|n))!==0?0:l}function Zs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $s(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qu(){var e=F.p;return e!==0?e:(e=window.event,e===void 0?32:Pp(e.type))}function Zu(e,n){var l=F.p;try{return F.p=e,n()}finally{F.p=l}}var xn=Math.random().toString(36).slice(2),et="__reactFiber$"+xn,ct="__reactProps$"+xn,hi="__reactContainer$"+xn,Ws="__reactEvents$"+xn,Bg="__reactListeners$"+xn,Og="__reactHandles$"+xn,$u="__reactResources$"+xn,co="__reactMarker$"+xn;function ea(e){delete e[et],delete e[ct],delete e[Ws],delete e[Bg],delete e[Og]}function gi(e){var n=e[et];if(n)return n;for(var l=e.parentNode;l;){if(n=l[hi]||l[et]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Sp(e);e!==null;){if(l=e[et])return l;e=Sp(e)}return n}e=l,l=e.parentNode}return null}function vi(e){if(e=e[et]||e[hi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fo(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function yi(e){var n=e[$u];return n||(n=e[$u]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ze(e){e[co]=!0}var Wu=new Set,ec={};function jn(e,n){xi(e,n),xi(e+"Capture",n)}function xi(e,n){for(ec[e]=n,e=0;e<n.length;e++)Wu.add(n[e])}var Fg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tc={},nc={};function Yg(e){return Xs.call(nc,e)?!0:Xs.call(tc,e)?!1:Fg.test(e)?nc[e]=!0:(tc[e]=!0,!1)}function cl(e,n,l){if(Yg(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var a=n.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function dl(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function jt(e,n,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+a)}}function Nt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ic(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Jg(e,n,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(S){l=""+S,m.call(this,S)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ta(e){if(!e._valueTracker){var n=ic(e)?"checked":"value";e._valueTracker=Jg(e,n,""+e[n])}}function oc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),a="";return e&&(a=ic(e)?e.checked?"true":"false":e.value),e=a,e!==l?(n.setValue(e),!0):!1}function fl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xg=/[\n"\\]/g;function wt(e){return e.replace(Xg,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function na(e,n,l,a,f,m,S,E){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Nt(n)):e.value!==""+Nt(n)&&(e.value=""+Nt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?ia(e,S,Nt(n)):l!=null?ia(e,S,Nt(l)):a!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Nt(E):e.removeAttribute("name")}function lc(e,n,l,a,f,m,S,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){ta(e);return}l=l!=null?""+Nt(l):"",n=n!=null?""+Nt(n):l,E||n===e.value||(e.value=n),e.defaultValue=n}a=a??f,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=E?e.checked:!!a,e.defaultChecked=!!a,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),ta(e)}function ia(e,n,l){n==="number"&&fl(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Si(e,n,l,a){if(e=e.options,n){n={};for(var f=0;f<l.length;f++)n["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=n.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Nt(l),n=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,a&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function sc(e,n,l){if(n!=null&&(n=""+Nt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+Nt(l):""}function ac(e,n,l,a){if(n==null){if(a!=null){if(l!=null)throw Error(s(92));if(B(a)){if(1<a.length)throw Error(s(93));a=a[0]}l=a}l==null&&(l=""),n=l}l=Nt(n),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),ta(e)}function Ti(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var Kg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rc(e,n,l){var a=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":a?e.setProperty(n,l):typeof l!="number"||l===0||Kg.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function uc(e,n,l){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||n!=null&&n.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var f in n)a=n[f],n.hasOwnProperty(f)&&l[f]!==a&&rc(e,f,a)}else for(var m in n)n.hasOwnProperty(m)&&rc(e,m,n[m])}function oa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pl(e){return Qg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qt(){}var la=null;function sa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bi=null,Ei=null;function cc(e){var n=vi(e);if(n&&(e=n.stateNode)){var l=e[ct]||null;e:switch(e=n.stateNode,n.type){case"input":if(na(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+wt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var a=l[n];if(a!==e&&a.form===e.form){var f=a[ct]||null;if(!f)throw Error(s(90));na(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<l.length;n++)a=l[n],a.form===e.form&&oc(a)}break e;case"textarea":sc(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Si(e,!!l.multiple,n,!1)}}}var aa=!1;function dc(e,n,l){if(aa)return e(n,l);aa=!0;try{var a=e(n);return a}finally{if(aa=!1,(bi!==null||Ei!==null)&&(es(),bi&&(n=bi,e=Ei,Ei=bi=null,cc(n),e)))for(n=0;n<e.length;n++)cc(e[n])}}function po(e,n){var l=e.stateNode;if(l===null)return null;var a=l[ct]||null;if(a===null)return null;l=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,n,typeof l));return l}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=!1;if(Zt)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){ra=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{ra=!1}var Sn=null,ua=null,ml=null;function fc(){if(ml)return ml;var e,n=ua,l=n.length,a,f="value"in Sn?Sn.value:Sn.textContent,m=f.length;for(e=0;e<l&&n[e]===f[e];e++);var S=l-e;for(a=1;a<=S&&n[l-a]===f[m-a];a++);return ml=f.slice(e,1<a?1-a:void 0)}function hl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function gl(){return!0}function pc(){return!1}function dt(e){function n(l,a,f,m,S){this._reactName=l,this._targetInst=f,this.type=a,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(l=e[E],this[E]=l?l(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?gl:pc,this.isPropagationStopped=pc,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=gl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=gl)},persist:function(){},isPersistent:gl}),n}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=dt(Qn),ho=T({},Qn,{view:0,detail:0}),Zg=dt(ho),ca,da,go,yl=T({},ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==go&&(go&&e.type==="mousemove"?(ca=e.screenX-go.screenX,da=e.screenY-go.screenY):da=ca=0,go=e),ca)},movementY:function(e){return"movementY"in e?e.movementY:da}}),mc=dt(yl),$g=T({},yl,{dataTransfer:0}),Wg=dt($g),e0=T({},ho,{relatedTarget:0}),fa=dt(e0),t0=T({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),n0=dt(t0),i0=T({},Qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),o0=dt(i0),l0=T({},Qn,{data:0}),hc=dt(l0),s0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=r0[e])?!!n[e]:!1}function pa(){return u0}var c0=T({},ho,{key:function(e){if(e.key){var n=s0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=hl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?a0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pa,charCode:function(e){return e.type==="keypress"?hl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),d0=dt(c0),f0=T({},yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gc=dt(f0),p0=T({},ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pa}),m0=dt(p0),h0=T({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),g0=dt(h0),v0=T({},yl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),y0=dt(v0),x0=T({},Qn,{newState:0,oldState:0}),S0=dt(x0),T0=[9,13,27,32],ma=Zt&&"CompositionEvent"in window,vo=null;Zt&&"documentMode"in document&&(vo=document.documentMode);var b0=Zt&&"TextEvent"in window&&!vo,vc=Zt&&(!ma||vo&&8<vo&&11>=vo),yc=" ",xc=!1;function Sc(e,n){switch(e){case"keyup":return T0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _i=!1;function E0(e,n){switch(e){case"compositionend":return Tc(n);case"keypress":return n.which!==32?null:(xc=!0,yc);case"textInput":return e=n.data,e===yc&&xc?null:e;default:return null}}function _0(e,n){if(_i)return e==="compositionend"||!ma&&Sc(e,n)?(e=fc(),ml=ua=Sn=null,_i=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vc&&n.locale!=="ko"?null:n.data;default:return null}}var C0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!C0[e.type]:n==="textarea"}function Ec(e,n,l,a){bi?Ei?Ei.push(a):Ei=[a]:bi=a,n=as(n,"onChange"),0<n.length&&(l=new vl("onChange","change",null,l,a),e.push({event:l,listeners:n}))}var yo=null,xo=null;function A0(e){sp(e,0)}function xl(e){var n=fo(e);if(oc(n))return e}function _c(e,n){if(e==="change")return n}var Cc=!1;if(Zt){var ha;if(Zt){var ga="oninput"in document;if(!ga){var Ac=document.createElement("div");Ac.setAttribute("oninput","return;"),ga=typeof Ac.oninput=="function"}ha=ga}else ha=!1;Cc=ha&&(!document.documentMode||9<document.documentMode)}function Nc(){yo&&(yo.detachEvent("onpropertychange",wc),xo=yo=null)}function wc(e){if(e.propertyName==="value"&&xl(xo)){var n=[];Ec(n,xo,e,sa(e)),dc(A0,n)}}function N0(e,n,l){e==="focusin"?(Nc(),yo=n,xo=l,yo.attachEvent("onpropertychange",wc)):e==="focusout"&&Nc()}function w0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xl(xo)}function R0(e,n){if(e==="click")return xl(n)}function M0(e,n){if(e==="input"||e==="change")return xl(n)}function I0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var St=typeof Object.is=="function"?Object.is:I0;function So(e,n){if(St(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),a=Object.keys(n);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var f=l[a];if(!Xs.call(n,f)||!St(e[f],n[f]))return!1}return!0}function Rc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mc(e,n){var l=Rc(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=n&&a>=n)return{node:l,offset:n-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Rc(l)}}function Ic(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ic(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Dc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=fl(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=fl(e.document)}return n}function va(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var D0=Zt&&"documentMode"in document&&11>=document.documentMode,Ci=null,ya=null,To=null,xa=!1;function Uc(e,n,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;xa||Ci==null||Ci!==fl(a)||(a=Ci,"selectionStart"in a&&va(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),To&&So(To,a)||(To=a,a=as(ya,"onSelect"),0<a.length&&(n=new vl("onSelect","select",null,n,l),e.push({event:n,listeners:a}),n.target=Ci)))}function Zn(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Ai={animationend:Zn("Animation","AnimationEnd"),animationiteration:Zn("Animation","AnimationIteration"),animationstart:Zn("Animation","AnimationStart"),transitionrun:Zn("Transition","TransitionRun"),transitionstart:Zn("Transition","TransitionStart"),transitioncancel:Zn("Transition","TransitionCancel"),transitionend:Zn("Transition","TransitionEnd")},Sa={},kc={};Zt&&(kc=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function $n(e){if(Sa[e])return Sa[e];if(!Ai[e])return e;var n=Ai[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in kc)return Sa[e]=n[l];return e}var Lc=$n("animationend"),Pc=$n("animationiteration"),Gc=$n("animationstart"),U0=$n("transitionrun"),k0=$n("transitionstart"),L0=$n("transitioncancel"),Hc=$n("transitionend"),Vc=new Map,Ta="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ta.push("scrollEnd");function Vt(e,n){Vc.set(e,n),jn(n,[e])}var Sl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rt=[],Ni=0,ba=0;function Tl(){for(var e=Ni,n=ba=Ni=0;n<e;){var l=Rt[n];Rt[n++]=null;var a=Rt[n];Rt[n++]=null;var f=Rt[n];Rt[n++]=null;var m=Rt[n];if(Rt[n++]=null,a!==null&&f!==null){var S=a.pending;S===null?f.next=f:(f.next=S.next,S.next=f),a.pending=f}m!==0&&zc(l,f,m)}}function bl(e,n,l,a){Rt[Ni++]=e,Rt[Ni++]=n,Rt[Ni++]=l,Rt[Ni++]=a,ba|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Ea(e,n,l,a){return bl(e,n,l,a),El(e)}function Wn(e,n){return bl(e,null,null,n),El(e)}function zc(e,n,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var f=!1,m=e.return;m!==null;)m.childLanes|=l,a=m.alternate,a!==null&&(a.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,f&&n!==null&&(f=31-xt(l),e=m.hiddenUpdates,a=e[f],a===null?e[f]=[n]:a.push(n),n.lane=l|536870912),m):null}function El(e){if(50<Oo)throw Oo=0,Dr=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var wi={};function P0(e,n,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,n,l,a){return new P0(e,n,l,a)}function _a(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $t(e,n){var l=e.alternate;return l===null?(l=Tt(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function qc(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _l(e,n,l,a,f,m){var S=0;if(a=e,typeof e=="function")_a(e)&&(S=1);else if(typeof e=="string")S=qv(e,l,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=Tt(31,l,n,f),e.elementType=te,e.lanes=m,e;case k:return ei(l.children,f,m,n);case R:S=8,f|=24;break;case P:return e=Tt(12,l,n,f|2),e.elementType=P,e.lanes=m,e;case $:return e=Tt(13,l,n,f),e.elementType=$,e.lanes=m,e;case ne:return e=Tt(19,l,n,f),e.elementType=ne,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:S=10;break e;case j:S=9;break e;case J:S=11;break e;case K:S=14;break e;case fe:S=16,a=null;break e}S=29,l=Error(s(130,e===null?"null":typeof e,"")),a=null}return n=Tt(S,l,n,f),n.elementType=e,n.type=a,n.lanes=m,n}function ei(e,n,l,a){return e=Tt(7,e,a,n),e.lanes=l,e}function Ca(e,n,l){return e=Tt(6,e,null,n),e.lanes=l,e}function Bc(e){var n=Tt(18,null,null,0);return n.stateNode=e,n}function Aa(e,n,l){return n=Tt(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Oc=new WeakMap;function Mt(e,n){if(typeof e=="object"&&e!==null){var l=Oc.get(e);return l!==void 0?l:(n={value:e,source:n,stack:Bu(n)},Oc.set(e,n),n)}return{value:e,source:n,stack:Bu(n)}}var Ri=[],Mi=0,Cl=null,bo=0,It=[],Dt=0,Tn=null,Yt=1,Jt="";function Wt(e,n){Ri[Mi++]=bo,Ri[Mi++]=Cl,Cl=e,bo=n}function Fc(e,n,l){It[Dt++]=Yt,It[Dt++]=Jt,It[Dt++]=Tn,Tn=e;var a=Yt;e=Jt;var f=32-xt(a)-1;a&=~(1<<f),l+=1;var m=32-xt(n)+f;if(30<m){var S=f-f%5;m=(a&(1<<S)-1).toString(32),a>>=S,f-=S,Yt=1<<32-xt(n)+f|l<<f|a,Jt=m+e}else Yt=1<<m|l<<f|a,Jt=e}function Na(e){e.return!==null&&(Wt(e,1),Fc(e,1,0))}function wa(e){for(;e===Cl;)Cl=Ri[--Mi],Ri[Mi]=null,bo=Ri[--Mi],Ri[Mi]=null;for(;e===Tn;)Tn=It[--Dt],It[Dt]=null,Jt=It[--Dt],It[Dt]=null,Yt=It[--Dt],It[Dt]=null}function Yc(e,n){It[Dt++]=Yt,It[Dt++]=Jt,It[Dt++]=Tn,Yt=n.id,Jt=n.overflow,Tn=e}var tt=null,He=null,Ae=!1,bn=null,Ut=!1,Ra=Error(s(519));function En(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Eo(Mt(n,e)),Ra}function Jc(e){var n=e.stateNode,l=e.type,a=e.memoizedProps;switch(n[et]=e,n[ct]=a,l){case"dialog":Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":case"embed":Ee("load",n);break;case"video":case"audio":for(l=0;l<Yo.length;l++)Ee(Yo[l],n);break;case"source":Ee("error",n);break;case"img":case"image":case"link":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"input":Ee("invalid",n),lc(n,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ee("invalid",n);break;case"textarea":Ee("invalid",n),ac(n,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||a.suppressHydrationWarning===!0||cp(n.textContent,l)?(a.popover!=null&&(Ee("beforetoggle",n),Ee("toggle",n)),a.onScroll!=null&&Ee("scroll",n),a.onScrollEnd!=null&&Ee("scrollend",n),a.onClick!=null&&(n.onclick=Qt),n=!0):n=!1,n||En(e,!0)}function Xc(e){for(tt=e.return;tt;)switch(tt.tag){case 5:case 31:case 13:Ut=!1;return;case 27:case 3:Ut=!0;return;default:tt=tt.return}}function Ii(e){if(e!==tt)return!1;if(!Ae)return Xc(e),Ae=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Xr(e.type,e.memoizedProps)),l=!l),l&&He&&En(e),Xc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));He=xp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));He=xp(e)}else n===27?(n=He,Gn(e.type)?(e=$r,$r=null,He=e):He=n):He=tt?Lt(e.stateNode.nextSibling):null;return!0}function ti(){He=tt=null,Ae=!1}function Ma(){var e=bn;return e!==null&&(ht===null?ht=e:ht.push.apply(ht,e),bn=null),e}function Eo(e){bn===null?bn=[e]:bn.push(e)}var Ia=A(null),ni=null,en=null;function _n(e,n,l){X(Ia,n._currentValue),n._currentValue=l}function tn(e){e._currentValue=Ia.current,V(Ia)}function Da(e,n,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===l)break;e=e.return}}function Ua(e,n,l,a){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var S=f.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=f;for(var C=0;C<n.length;C++)if(E.context===n[C]){m.lanes|=l,E=m.alternate,E!==null&&(E.lanes|=l),Da(m.return,l,e),a||(S=null);break e}m=E.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(s(341));S.lanes|=l,m=S.alternate,m!==null&&(m.lanes|=l),Da(S,l,e),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===e){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function Di(e,n,l,a){e=null;for(var f=n,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var E=f.type;St(f.pendingProps.value,S.value)||(e!==null?e.push(E):e=[E])}}else if(f===me.current){if(S=f.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Qo):e=[Qo])}f=f.return}e!==null&&Ua(n,e,l,a),n.flags|=262144}function Al(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ii(e){ni=e,en=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nt(e){return Kc(ni,e)}function Nl(e,n){return ni===null&&ii(e),Kc(e,n)}function Kc(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},en===null){if(e===null)throw Error(s(308));en=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else en=en.next=n;return l}var G0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},H0=i.unstable_scheduleCallback,V0=i.unstable_NormalPriority,Ye={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ka(){return{controller:new G0,data:new Map,refCount:0}}function _o(e){e.refCount--,e.refCount===0&&H0(V0,function(){e.controller.abort()})}var Co=null,La=0,Ui=0,ki=null;function z0(e,n){if(Co===null){var l=Co=[];La=0,Ui=Hr(),ki={status:"pending",value:void 0,then:function(a){l.push(a)}}}return La++,n.then(jc,jc),n}function jc(){if(--La===0&&Co!==null){ki!==null&&(ki.status="fulfilled");var e=Co;Co=null,Ui=0,ki=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function q0(e,n){var l=[],a={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){a.status="fulfilled",a.value=n;for(var f=0;f<l.length;f++)(0,l[f])(n)},function(f){for(a.status="rejected",a.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),a}var Qc=M.S;M.S=function(e,n){kf=vt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&z0(e,n),Qc!==null&&Qc(e,n)};var oi=A(null);function Pa(){var e=oi.current;return e!==null?e:Ge.pooledCache}function wl(e,n){n===null?X(oi,oi.current):X(oi,n.pool)}function Zc(){var e=Pa();return e===null?null:{parent:Ye._currentValue,pool:e}}var Li=Error(s(460)),Ga=Error(s(474)),Rl=Error(s(542)),Ml={then:function(){}};function $c(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wc(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(Qt,Qt),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,td(e),e;default:if(typeof n.status=="string")n.then(Qt,Qt);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(a){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=a}},function(a){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=a}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,td(e),e}throw si=n,Li}}function li(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(si=l,Li):l}}var si=null;function ed(){if(si===null)throw Error(s(459));var e=si;return si=null,e}function td(e){if(e===Li||e===Rl)throw Error(s(483))}var Pi=null,Ao=0;function Il(e){var n=Ao;return Ao+=1,Pi===null&&(Pi=[]),Wc(Pi,e,n)}function No(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Dl(e,n){throw n.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function nd(e){function n(I,N){if(e){var D=I.deletions;D===null?(I.deletions=[N],I.flags|=16):D.push(N)}}function l(I,N){if(!e)return null;for(;N!==null;)n(I,N),N=N.sibling;return null}function a(I){for(var N=new Map;I!==null;)I.key!==null?N.set(I.key,I):N.set(I.index,I),I=I.sibling;return N}function f(I,N){return I=$t(I,N),I.index=0,I.sibling=null,I}function m(I,N,D){return I.index=D,e?(D=I.alternate,D!==null?(D=D.index,D<N?(I.flags|=67108866,N):D):(I.flags|=67108866,N)):(I.flags|=1048576,N)}function S(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function E(I,N,D,q){return N===null||N.tag!==6?(N=Ca(D,I.mode,q),N.return=I,N):(N=f(N,D),N.return=I,N)}function C(I,N,D,q){var re=D.type;return re===k?z(I,N,D.props.children,q,D.key):N!==null&&(N.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===fe&&li(re)===N.type)?(N=f(N,D.props),No(N,D),N.return=I,N):(N=_l(D.type,D.key,D.props,null,I.mode,q),No(N,D),N.return=I,N)}function U(I,N,D,q){return N===null||N.tag!==4||N.stateNode.containerInfo!==D.containerInfo||N.stateNode.implementation!==D.implementation?(N=Aa(D,I.mode,q),N.return=I,N):(N=f(N,D.children||[]),N.return=I,N)}function z(I,N,D,q,re){return N===null||N.tag!==7?(N=ei(D,I.mode,q,re),N.return=I,N):(N=f(N,D),N.return=I,N)}function O(I,N,D){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ca(""+N,I.mode,D),N.return=I,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _:return D=_l(N.type,N.key,N.props,null,I.mode,D),No(D,N),D.return=I,D;case w:return N=Aa(N,I.mode,D),N.return=I,N;case fe:return N=li(N),O(I,N,D)}if(B(N)||Y(N))return N=ei(N,I.mode,D,null),N.return=I,N;if(typeof N.then=="function")return O(I,Il(N),D);if(N.$$typeof===G)return O(I,Nl(I,N),D);Dl(I,N)}return null}function L(I,N,D,q){var re=N!==null?N.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return re!==null?null:E(I,N,""+D,q);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _:return D.key===re?C(I,N,D,q):null;case w:return D.key===re?U(I,N,D,q):null;case fe:return D=li(D),L(I,N,D,q)}if(B(D)||Y(D))return re!==null?null:z(I,N,D,q,null);if(typeof D.then=="function")return L(I,N,Il(D),q);if(D.$$typeof===G)return L(I,N,Nl(I,D),q);Dl(I,D)}return null}function H(I,N,D,q,re){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return I=I.get(D)||null,E(N,I,""+q,re);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case _:return I=I.get(q.key===null?D:q.key)||null,C(N,I,q,re);case w:return I=I.get(q.key===null?D:q.key)||null,U(N,I,q,re);case fe:return q=li(q),H(I,N,D,q,re)}if(B(q)||Y(q))return I=I.get(D)||null,z(N,I,q,re,null);if(typeof q.then=="function")return H(I,N,D,Il(q),re);if(q.$$typeof===G)return H(I,N,D,Nl(N,q),re);Dl(N,q)}return null}function oe(I,N,D,q){for(var re=null,Ne=null,ae=N,Se=N=0,Ce=null;ae!==null&&Se<D.length;Se++){ae.index>Se?(Ce=ae,ae=null):Ce=ae.sibling;var we=L(I,ae,D[Se],q);if(we===null){ae===null&&(ae=Ce);break}e&&ae&&we.alternate===null&&n(I,ae),N=m(we,N,Se),Ne===null?re=we:Ne.sibling=we,Ne=we,ae=Ce}if(Se===D.length)return l(I,ae),Ae&&Wt(I,Se),re;if(ae===null){for(;Se<D.length;Se++)ae=O(I,D[Se],q),ae!==null&&(N=m(ae,N,Se),Ne===null?re=ae:Ne.sibling=ae,Ne=ae);return Ae&&Wt(I,Se),re}for(ae=a(ae);Se<D.length;Se++)Ce=H(ae,I,Se,D[Se],q),Ce!==null&&(e&&Ce.alternate!==null&&ae.delete(Ce.key===null?Se:Ce.key),N=m(Ce,N,Se),Ne===null?re=Ce:Ne.sibling=Ce,Ne=Ce);return e&&ae.forEach(function(Bn){return n(I,Bn)}),Ae&&Wt(I,Se),re}function de(I,N,D,q){if(D==null)throw Error(s(151));for(var re=null,Ne=null,ae=N,Se=N=0,Ce=null,we=D.next();ae!==null&&!we.done;Se++,we=D.next()){ae.index>Se?(Ce=ae,ae=null):Ce=ae.sibling;var Bn=L(I,ae,we.value,q);if(Bn===null){ae===null&&(ae=Ce);break}e&&ae&&Bn.alternate===null&&n(I,ae),N=m(Bn,N,Se),Ne===null?re=Bn:Ne.sibling=Bn,Ne=Bn,ae=Ce}if(we.done)return l(I,ae),Ae&&Wt(I,Se),re;if(ae===null){for(;!we.done;Se++,we=D.next())we=O(I,we.value,q),we!==null&&(N=m(we,N,Se),Ne===null?re=we:Ne.sibling=we,Ne=we);return Ae&&Wt(I,Se),re}for(ae=a(ae);!we.done;Se++,we=D.next())we=H(ae,I,Se,we.value,q),we!==null&&(e&&we.alternate!==null&&ae.delete(we.key===null?Se:we.key),N=m(we,N,Se),Ne===null?re=we:Ne.sibling=we,Ne=we);return e&&ae.forEach(function($v){return n(I,$v)}),Ae&&Wt(I,Se),re}function Le(I,N,D,q){if(typeof D=="object"&&D!==null&&D.type===k&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case _:e:{for(var re=D.key;N!==null;){if(N.key===re){if(re=D.type,re===k){if(N.tag===7){l(I,N.sibling),q=f(N,D.props.children),q.return=I,I=q;break e}}else if(N.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===fe&&li(re)===N.type){l(I,N.sibling),q=f(N,D.props),No(q,D),q.return=I,I=q;break e}l(I,N);break}else n(I,N);N=N.sibling}D.type===k?(q=ei(D.props.children,I.mode,q,D.key),q.return=I,I=q):(q=_l(D.type,D.key,D.props,null,I.mode,q),No(q,D),q.return=I,I=q)}return S(I);case w:e:{for(re=D.key;N!==null;){if(N.key===re)if(N.tag===4&&N.stateNode.containerInfo===D.containerInfo&&N.stateNode.implementation===D.implementation){l(I,N.sibling),q=f(N,D.children||[]),q.return=I,I=q;break e}else{l(I,N);break}else n(I,N);N=N.sibling}q=Aa(D,I.mode,q),q.return=I,I=q}return S(I);case fe:return D=li(D),Le(I,N,D,q)}if(B(D))return oe(I,N,D,q);if(Y(D)){if(re=Y(D),typeof re!="function")throw Error(s(150));return D=re.call(D),de(I,N,D,q)}if(typeof D.then=="function")return Le(I,N,Il(D),q);if(D.$$typeof===G)return Le(I,N,Nl(I,D),q);Dl(I,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,N!==null&&N.tag===6?(l(I,N.sibling),q=f(N,D),q.return=I,I=q):(l(I,N),q=Ca(D,I.mode,q),q.return=I,I=q),S(I)):l(I,N)}return function(I,N,D,q){try{Ao=0;var re=Le(I,N,D,q);return Pi=null,re}catch(ae){if(ae===Li||ae===Rl)throw ae;var Ne=Tt(29,ae,null,I.mode);return Ne.lanes=q,Ne.return=I,Ne}finally{}}}var ai=nd(!0),id=nd(!1),Cn=!1;function Ha(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Va(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function An(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Nn(e,n,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Me&2)!==0){var f=a.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),a.pending=n,n=El(e),zc(e,null,l),n}return bl(e,a,n,l),El(e)}function wo(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var a=n.lanes;a&=e.pendingLanes,l|=a,n.lanes=l,Ku(e,l)}}function za(e,n){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var f=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?f=m=S:m=m.next=S,l=l.next}while(l!==null);m===null?f=m=n:m=m.next=n}else f=m=n;l={baseState:a.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var qa=!1;function Ro(){if(qa){var e=ki;if(e!==null)throw e}}function Mo(e,n,l,a){qa=!1;var f=e.updateQueue;Cn=!1;var m=f.firstBaseUpdate,S=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var C=E,U=C.next;C.next=null,S===null?m=U:S.next=U,S=C;var z=e.alternate;z!==null&&(z=z.updateQueue,E=z.lastBaseUpdate,E!==S&&(E===null?z.firstBaseUpdate=U:E.next=U,z.lastBaseUpdate=C))}if(m!==null){var O=f.baseState;S=0,z=U=C=null,E=m;do{var L=E.lane&-536870913,H=L!==E.lane;if(H?(_e&L)===L:(a&L)===L){L!==0&&L===Ui&&(qa=!0),z!==null&&(z=z.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=e,de=E;L=n;var Le=l;switch(de.tag){case 1:if(oe=de.payload,typeof oe=="function"){O=oe.call(Le,O,L);break e}O=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=de.payload,L=typeof oe=="function"?oe.call(Le,O,L):oe,L==null)break e;O=T({},O,L);break e;case 2:Cn=!0}}L=E.callback,L!==null&&(e.flags|=64,H&&(e.flags|=8192),H=f.callbacks,H===null?f.callbacks=[L]:H.push(L))}else H={lane:L,tag:E.tag,payload:E.payload,callback:E.callback,next:null},z===null?(U=z=H,C=O):z=z.next=H,S|=L;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;H=E,E=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);z===null&&(C=O),f.baseState=C,f.firstBaseUpdate=U,f.lastBaseUpdate=z,m===null&&(f.shared.lanes=0),Dn|=S,e.lanes=S,e.memoizedState=O}}function od(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function ld(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)od(l[e],n)}var Gi=A(null),Ul=A(0);function sd(e,n){e=dn,X(Ul,e),X(Gi,n),dn=e|n.baseLanes}function Ba(){X(Ul,dn),X(Gi,Gi.current)}function Oa(){dn=Ul.current,V(Gi),V(Ul)}var bt=A(null),kt=null;function wn(e){var n=e.alternate;X(Oe,Oe.current&1),X(bt,e),kt===null&&(n===null||Gi.current!==null||n.memoizedState!==null)&&(kt=e)}function Fa(e){X(Oe,Oe.current),X(bt,e),kt===null&&(kt=e)}function ad(e){e.tag===22?(X(Oe,Oe.current),X(bt,e),kt===null&&(kt=e)):Rn()}function Rn(){X(Oe,Oe.current),X(bt,bt.current)}function Et(e){V(bt),kt===e&&(kt=null),V(Oe)}var Oe=A(0);function kl(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Qr(l)||Zr(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var nn=0,xe=null,Ue=null,Je=null,Ll=!1,Hi=!1,ri=!1,Pl=0,Io=0,Vi=null,B0=0;function qe(){throw Error(s(321))}function Ya(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!St(e[l],n[l]))return!1;return!0}function Ja(e,n,l,a,f,m){return nn=m,xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=e===null||e.memoizedState===null?Fd:ar,ri=!1,m=l(a,f),ri=!1,Hi&&(m=ud(n,l,a,f)),rd(e),m}function rd(e){M.H=ko;var n=Ue!==null&&Ue.next!==null;if(nn=0,Je=Ue=xe=null,Ll=!1,Io=0,Vi=null,n)throw Error(s(300));e===null||Xe||(e=e.dependencies,e!==null&&Al(e)&&(Xe=!0))}function ud(e,n,l,a){xe=e;var f=0;do{if(Hi&&(Vi=null),Io=0,Hi=!1,25<=f)throw Error(s(301));if(f+=1,Je=Ue=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}M.H=Yd,m=n(l,a)}while(Hi);return m}function O0(){var e=M.H,n=e.useState()[0];return n=typeof n.then=="function"?Do(n):n,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(xe.flags|=1024),n}function Xa(){var e=Pl!==0;return Pl=0,e}function Ka(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function ja(e){if(Ll){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ll=!1}nn=0,Je=Ue=xe=null,Hi=!1,Io=Pl=0,Vi=null}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?xe.memoizedState=Je=e:Je=Je.next=e,Je}function Fe(){if(Ue===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var n=Je===null?xe.memoizedState:Je.next;if(n!==null)Je=n,Ue=e;else{if(e===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Je===null?xe.memoizedState=Je=e:Je=Je.next=e}return Je}function Gl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Do(e){var n=Io;return Io+=1,Vi===null&&(Vi=[]),e=Wc(Vi,e,n),n=xe,(Je===null?n.memoizedState:Je.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?Fd:ar),e}function Hl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Do(e);if(e.$$typeof===G)return nt(e)}throw Error(s(438,String(e)))}function Qa(e){var n=null,l=xe.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var a=xe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(n={data:a.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=Gl(),xe.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),a=0;a<e;a++)l[a]=ge;return n.index++,l}function on(e,n){return typeof n=="function"?n(e):n}function Vl(e){var n=Fe();return Za(n,Ue,e)}function Za(e,n,l){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=l;var f=e.baseQueue,m=a.pending;if(m!==null){if(f!==null){var S=f.next;f.next=m.next,m.next=S}n.baseQueue=f=m,a.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{n=f.next;var E=S=null,C=null,U=n,z=!1;do{var O=U.lane&-536870913;if(O!==U.lane?(_e&O)===O:(nn&O)===O){var L=U.revertLane;if(L===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),O===Ui&&(z=!0);else if((nn&L)===L){U=U.next,L===Ui&&(z=!0);continue}else O={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(E=C=O,S=m):C=C.next=O,xe.lanes|=L,Dn|=L;O=U.action,ri&&l(m,O),m=U.hasEagerState?U.eagerState:l(m,O)}else L={lane:O,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(E=C=L,S=m):C=C.next=L,xe.lanes|=O,Dn|=O;U=U.next}while(U!==null&&U!==n);if(C===null?S=m:C.next=E,!St(m,e.memoizedState)&&(Xe=!0,z&&(l=ki,l!==null)))throw l;e.memoizedState=m,e.baseState=S,e.baseQueue=C,a.lastRenderedState=m}return f===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function $a(e){var n=Fe(),l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var a=l.dispatch,f=l.pending,m=n.memoizedState;if(f!==null){l.pending=null;var S=f=f.next;do m=e(m,S.action),S=S.next;while(S!==f);St(m,n.memoizedState)||(Xe=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),l.lastRenderedState=m}return[m,a]}function cd(e,n,l){var a=xe,f=Fe(),m=Ae;if(m){if(l===void 0)throw Error(s(407));l=l()}else l=n();var S=!St((Ue||f).memoizedState,l);if(S&&(f.memoizedState=l,Xe=!0),f=f.queue,tr(pd.bind(null,a,f,e),[e]),f.getSnapshot!==n||S||Je!==null&&Je.memoizedState.tag&1){if(a.flags|=2048,zi(9,{destroy:void 0},fd.bind(null,a,f,l,n),null),Ge===null)throw Error(s(349));m||(nn&127)!==0||dd(a,n,l)}return l}function dd(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=xe.updateQueue,n===null?(n=Gl(),xe.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function fd(e,n,l,a){n.value=l,n.getSnapshot=a,md(n)&&hd(e)}function pd(e,n,l){return l(function(){md(n)&&hd(e)})}function md(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!St(e,l)}catch{return!0}}function hd(e){var n=Wn(e,2);n!==null&&gt(n,e,2)}function Wa(e){var n=at();if(typeof e=="function"){var l=e;if(e=l(),ri){yn(!0);try{l()}finally{yn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:e},n}function gd(e,n,l,a){return e.baseState=l,Za(e,Ue,typeof a=="function"?a:on)}function F0(e,n,l,a,f){if(Bl(e))throw Error(s(485));if(e=n.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};M.T!==null?l(!0):m.isTransition=!1,a(m),l=n.pending,l===null?(m.next=n.pending=m,vd(n,m)):(m.next=l.next,n.pending=l.next=m)}}function vd(e,n){var l=n.action,a=n.payload,f=e.state;if(n.isTransition){var m=M.T,S={};M.T=S;try{var E=l(f,a),C=M.S;C!==null&&C(S,E),yd(e,n,E)}catch(U){er(e,n,U)}finally{m!==null&&S.types!==null&&(m.types=S.types),M.T=m}}else try{m=l(f,a),yd(e,n,m)}catch(U){er(e,n,U)}}function yd(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){xd(e,n,a)},function(a){return er(e,n,a)}):xd(e,n,l)}function xd(e,n,l){n.status="fulfilled",n.value=l,Sd(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,vd(e,l)))}function er(e,n,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do n.status="rejected",n.reason=l,Sd(n),n=n.next;while(n!==a)}e.action=null}function Sd(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Td(e,n){return n}function bd(e,n){if(Ae){var l=Ge.formState;if(l!==null){e:{var a=xe;if(Ae){if(He){t:{for(var f=He,m=Ut;f.nodeType!==8;){if(!m){f=null;break t}if(f=Lt(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){He=Lt(f.nextSibling),a=f.data==="F!";break e}}En(a)}a=!1}a&&(n=l[0])}}return l=at(),l.memoizedState=l.baseState=n,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Td,lastRenderedState:n},l.queue=a,l=qd.bind(null,xe,a),a.dispatch=l,a=Wa(!1),m=sr.bind(null,xe,!1,a.queue),a=at(),f={state:n,dispatch:null,action:e,pending:null},a.queue=f,l=F0.bind(null,xe,f,m,l),f.dispatch=l,a.memoizedState=e,[n,l,!1]}function Ed(e){var n=Fe();return _d(n,Ue,e)}function _d(e,n,l){if(n=Za(e,n,Td)[0],e=Vl(on)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var a=Do(n)}catch(S){throw S===Li?Rl:S}else a=n;n=Fe();var f=n.queue,m=f.dispatch;return l!==n.memoizedState&&(xe.flags|=2048,zi(9,{destroy:void 0},Y0.bind(null,f,l),null)),[a,m,e]}function Y0(e,n){e.action=n}function Cd(e){var n=Fe(),l=Ue;if(l!==null)return _d(n,l,e);Fe(),n=n.memoizedState,l=Fe();var a=l.queue.dispatch;return l.memoizedState=e,[n,a,!1]}function zi(e,n,l,a){return e={tag:e,create:l,deps:a,inst:n,next:null},n=xe.updateQueue,n===null&&(n=Gl(),xe.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,n.lastEffect=e),e}function Ad(){return Fe().memoizedState}function zl(e,n,l,a){var f=at();xe.flags|=e,f.memoizedState=zi(1|n,{destroy:void 0},l,a===void 0?null:a)}function ql(e,n,l,a){var f=Fe();a=a===void 0?null:a;var m=f.memoizedState.inst;Ue!==null&&a!==null&&Ya(a,Ue.memoizedState.deps)?f.memoizedState=zi(n,m,l,a):(xe.flags|=e,f.memoizedState=zi(1|n,m,l,a))}function Nd(e,n){zl(8390656,8,e,n)}function tr(e,n){ql(2048,8,e,n)}function J0(e){xe.flags|=4;var n=xe.updateQueue;if(n===null)n=Gl(),xe.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function wd(e){var n=Fe().memoizedState;return J0({ref:n,nextImpl:e}),function(){if((Me&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Rd(e,n){return ql(4,2,e,n)}function Md(e,n){return ql(4,4,e,n)}function Id(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Dd(e,n,l){l=l!=null?l.concat([e]):null,ql(4,4,Id.bind(null,n,e),l)}function nr(){}function Ud(e,n){var l=Fe();n=n===void 0?null:n;var a=l.memoizedState;return n!==null&&Ya(n,a[1])?a[0]:(l.memoizedState=[e,n],e)}function kd(e,n){var l=Fe();n=n===void 0?null:n;var a=l.memoizedState;if(n!==null&&Ya(n,a[1]))return a[0];if(a=e(),ri){yn(!0);try{e()}finally{yn(!1)}}return l.memoizedState=[a,n],a}function ir(e,n,l){return l===void 0||(nn&1073741824)!==0&&(_e&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=Pf(),xe.lanes|=e,Dn|=e,l)}function Ld(e,n,l,a){return St(l,n)?l:Gi.current!==null?(e=ir(e,l,a),St(e,n)||(Xe=!0),e):(nn&42)===0||(nn&1073741824)!==0&&(_e&261930)===0?(Xe=!0,e.memoizedState=l):(e=Pf(),xe.lanes|=e,Dn|=e,n)}function Pd(e,n,l,a,f){var m=F.p;F.p=m!==0&&8>m?m:8;var S=M.T,E={};M.T=E,sr(e,!1,n,l);try{var C=f(),U=M.S;if(U!==null&&U(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var z=q0(C,a);Uo(e,n,z,At(e))}else Uo(e,n,a,At(e))}catch(O){Uo(e,n,{then:function(){},status:"rejected",reason:O},At())}finally{F.p=m,S!==null&&E.types!==null&&(S.types=E.types),M.T=S}}function X0(){}function or(e,n,l,a){if(e.tag!==5)throw Error(s(476));var f=Gd(e).queue;Pd(e,f,n,le,l===null?X0:function(){return Hd(e),l(a)})}function Gd(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:le},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Hd(e){var n=Gd(e);n.next===null&&(n=e.alternate.memoizedState),Uo(e,n.next.queue,{},At())}function lr(){return nt(Qo)}function Vd(){return Fe().memoizedState}function zd(){return Fe().memoizedState}function K0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=At();e=An(l);var a=Nn(n,e,l);a!==null&&(gt(a,n,l),wo(a,n,l)),n={cache:ka()},e.payload=n;return}n=n.return}}function j0(e,n,l){var a=At();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Bl(e)?Bd(n,l):(l=Ea(e,n,l,a),l!==null&&(gt(l,e,a),Od(l,n,a)))}function qd(e,n,l){var a=At();Uo(e,n,l,a)}function Uo(e,n,l,a){var f={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Bl(e))Bd(n,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var S=n.lastRenderedState,E=m(S,l);if(f.hasEagerState=!0,f.eagerState=E,St(E,S))return bl(e,n,f,0),Ge===null&&Tl(),!1}catch{}finally{}if(l=Ea(e,n,f,a),l!==null)return gt(l,e,a),Od(l,n,a),!0}return!1}function sr(e,n,l,a){if(a={lane:2,revertLane:Hr(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Bl(e)){if(n)throw Error(s(479))}else n=Ea(e,l,a,2),n!==null&&gt(n,e,2)}function Bl(e){var n=e.alternate;return e===xe||n!==null&&n===xe}function Bd(e,n){Hi=Ll=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Od(e,n,l){if((l&4194048)!==0){var a=n.lanes;a&=e.pendingLanes,l|=a,n.lanes=l,Ku(e,l)}}var ko={readContext:nt,use:Hl,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe};ko.useEffectEvent=qe;var Fd={readContext:nt,use:Hl,useCallback:function(e,n){return at().memoizedState=[e,n===void 0?null:n],e},useContext:nt,useEffect:Nd,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,zl(4194308,4,Id.bind(null,n,e),l)},useLayoutEffect:function(e,n){return zl(4194308,4,e,n)},useInsertionEffect:function(e,n){zl(4,2,e,n)},useMemo:function(e,n){var l=at();n=n===void 0?null:n;var a=e();if(ri){yn(!0);try{e()}finally{yn(!1)}}return l.memoizedState=[a,n],a},useReducer:function(e,n,l){var a=at();if(l!==void 0){var f=l(n);if(ri){yn(!0);try{l(n)}finally{yn(!1)}}}else f=n;return a.memoizedState=a.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},a.queue=e,e=e.dispatch=j0.bind(null,xe,e),[a.memoizedState,e]},useRef:function(e){var n=at();return e={current:e},n.memoizedState=e},useState:function(e){e=Wa(e);var n=e.queue,l=qd.bind(null,xe,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:nr,useDeferredValue:function(e,n){var l=at();return ir(l,e,n)},useTransition:function(){var e=Wa(!1);return e=Pd.bind(null,xe,e.queue,!0,!1),at().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var a=xe,f=at();if(Ae){if(l===void 0)throw Error(s(407));l=l()}else{if(l=n(),Ge===null)throw Error(s(349));(_e&127)!==0||dd(a,n,l)}f.memoizedState=l;var m={value:l,getSnapshot:n};return f.queue=m,Nd(pd.bind(null,a,m,e),[e]),a.flags|=2048,zi(9,{destroy:void 0},fd.bind(null,a,m,l,n),null),l},useId:function(){var e=at(),n=Ge.identifierPrefix;if(Ae){var l=Jt,a=Yt;l=(a&~(1<<32-xt(a)-1)).toString(32)+l,n="_"+n+"R_"+l,l=Pl++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=B0++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:lr,useFormState:bd,useActionState:bd,useOptimistic:function(e){var n=at();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=sr.bind(null,xe,!0,l),l.dispatch=n,[e,n]},useMemoCache:Qa,useCacheRefresh:function(){return at().memoizedState=K0.bind(null,xe)},useEffectEvent:function(e){var n=at(),l={impl:e};return n.memoizedState=l,function(){if((Me&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},ar={readContext:nt,use:Hl,useCallback:Ud,useContext:nt,useEffect:tr,useImperativeHandle:Dd,useInsertionEffect:Rd,useLayoutEffect:Md,useMemo:kd,useReducer:Vl,useRef:Ad,useState:function(){return Vl(on)},useDebugValue:nr,useDeferredValue:function(e,n){var l=Fe();return Ld(l,Ue.memoizedState,e,n)},useTransition:function(){var e=Vl(on)[0],n=Fe().memoizedState;return[typeof e=="boolean"?e:Do(e),n]},useSyncExternalStore:cd,useId:Vd,useHostTransitionStatus:lr,useFormState:Ed,useActionState:Ed,useOptimistic:function(e,n){var l=Fe();return gd(l,Ue,e,n)},useMemoCache:Qa,useCacheRefresh:zd};ar.useEffectEvent=wd;var Yd={readContext:nt,use:Hl,useCallback:Ud,useContext:nt,useEffect:tr,useImperativeHandle:Dd,useInsertionEffect:Rd,useLayoutEffect:Md,useMemo:kd,useReducer:$a,useRef:Ad,useState:function(){return $a(on)},useDebugValue:nr,useDeferredValue:function(e,n){var l=Fe();return Ue===null?ir(l,e,n):Ld(l,Ue.memoizedState,e,n)},useTransition:function(){var e=$a(on)[0],n=Fe().memoizedState;return[typeof e=="boolean"?e:Do(e),n]},useSyncExternalStore:cd,useId:Vd,useHostTransitionStatus:lr,useFormState:Cd,useActionState:Cd,useOptimistic:function(e,n){var l=Fe();return Ue!==null?gd(l,Ue,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Qa,useCacheRefresh:zd};Yd.useEffectEvent=wd;function rr(e,n,l,a){n=e.memoizedState,l=l(a,n),l=l==null?n:T({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var ur={enqueueSetState:function(e,n,l){e=e._reactInternals;var a=At(),f=An(a);f.payload=n,l!=null&&(f.callback=l),n=Nn(e,f,a),n!==null&&(gt(n,e,a),wo(n,e,a))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var a=At(),f=An(a);f.tag=1,f.payload=n,l!=null&&(f.callback=l),n=Nn(e,f,a),n!==null&&(gt(n,e,a),wo(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=At(),a=An(l);a.tag=2,n!=null&&(a.callback=n),n=Nn(e,a,l),n!==null&&(gt(n,e,l),wo(n,e,l))}};function Jd(e,n,l,a,f,m,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,m,S):n.prototype&&n.prototype.isPureReactComponent?!So(l,a)||!So(f,m):!0}function Xd(e,n,l,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,a),n.state!==e&&ur.enqueueReplaceState(n,n.state,null)}function ui(e,n){var l=n;if("ref"in n){l={};for(var a in n)a!=="ref"&&(l[a]=n[a])}if(e=e.defaultProps){l===n&&(l=T({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}function Kd(e){Sl(e)}function jd(e){console.error(e)}function Qd(e){Sl(e)}function Ol(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(a){setTimeout(function(){throw a})}}function Zd(e,n,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function cr(e,n,l){return l=An(l),l.tag=3,l.payload={element:null},l.callback=function(){Ol(e,n)},l}function $d(e){return e=An(e),e.tag=3,e}function Wd(e,n,l,a){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var m=a.value;e.payload=function(){return f(m)},e.callback=function(){Zd(n,l,a)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Zd(n,l,a),typeof f!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var E=a.stack;this.componentDidCatch(a.value,{componentStack:E!==null?E:""})})}function Q0(e,n,l,a,f){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(n=l.alternate,n!==null&&Di(n,l,f,!0),l=bt.current,l!==null){switch(l.tag){case 31:case 13:return kt===null?ts():l.alternate===null&&Be===0&&(Be=3),l.flags&=-257,l.flags|=65536,l.lanes=f,a===Ml?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([a]):n.add(a),Lr(e,a,f)),!1;case 22:return l.flags|=65536,a===Ml?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([a]):l.add(a)),Lr(e,a,f)),!1}throw Error(s(435,l.tag))}return Lr(e,a,f),ts(),!1}if(Ae)return n=bt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,a!==Ra&&(e=Error(s(422),{cause:a}),Eo(Mt(e,l)))):(a!==Ra&&(n=Error(s(423),{cause:a}),Eo(Mt(n,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,a=Mt(a,l),f=cr(e.stateNode,a,f),za(e,f),Be!==4&&(Be=2)),!1;var m=Error(s(520),{cause:a});if(m=Mt(m,l),Bo===null?Bo=[m]:Bo.push(m),Be!==4&&(Be=2),n===null)return!0;a=Mt(a,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=cr(l.stateNode,a,e),za(l,e),!1;case 1:if(n=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Un===null||!Un.has(m))))return l.flags|=65536,f&=-f,l.lanes|=f,f=$d(f),Wd(f,e,l,a),za(l,f),!1}l=l.return}while(l!==null);return!1}var dr=Error(s(461)),Xe=!1;function it(e,n,l,a){n.child=e===null?id(n,null,l,a):ai(n,e.child,l,a)}function ef(e,n,l,a,f){l=l.render;var m=n.ref;if("ref"in a){var S={};for(var E in a)E!=="ref"&&(S[E]=a[E])}else S=a;return ii(n),a=Ja(e,n,l,S,m,f),E=Xa(),e!==null&&!Xe?(Ka(e,n,f),ln(e,n,f)):(Ae&&E&&Na(n),n.flags|=1,it(e,n,a,f),n.child)}function tf(e,n,l,a,f){if(e===null){var m=l.type;return typeof m=="function"&&!_a(m)&&m.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=m,nf(e,n,m,a,f)):(e=_l(l.type,null,a,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!xr(e,f)){var S=m.memoizedProps;if(l=l.compare,l=l!==null?l:So,l(S,a)&&e.ref===n.ref)return ln(e,n,f)}return n.flags|=1,e=$t(m,a),e.ref=n.ref,e.return=n,n.child=e}function nf(e,n,l,a,f){if(e!==null){var m=e.memoizedProps;if(So(m,a)&&e.ref===n.ref)if(Xe=!1,n.pendingProps=a=m,xr(e,f))(e.flags&131072)!==0&&(Xe=!0);else return n.lanes=e.lanes,ln(e,n,f)}return fr(e,n,l,a,f)}function of(e,n,l,a){var f=a.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,e!==null){for(a=n.child=e.child,f=0;a!==null;)f=f|a.lanes|a.childLanes,a=a.sibling;a=f&~m}else a=0,n.child=null;return lf(e,n,m,l,a)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&wl(n,m!==null?m.cachePool:null),m!==null?sd(n,m):Ba(),ad(n);else return a=n.lanes=536870912,lf(e,n,m!==null?m.baseLanes|l:l,l,a)}else m!==null?(wl(n,m.cachePool),sd(n,m),Rn(),n.memoizedState=null):(e!==null&&wl(n,null),Ba(),Rn());return it(e,n,f,l),n.child}function Lo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function lf(e,n,l,a,f){var m=Pa();return m=m===null?null:{parent:Ye._currentValue,pool:m},n.memoizedState={baseLanes:l,cachePool:m},e!==null&&wl(n,null),Ba(),ad(n),e!==null&&Di(e,n,a,!0),n.childLanes=f,null}function Fl(e,n){return n=Jl({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function sf(e,n,l){return ai(n,e.child,null,l),e=Fl(n,n.pendingProps),e.flags|=2,Et(n),n.memoizedState=null,e}function Z0(e,n,l){var a=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ae){if(a.mode==="hidden")return e=Fl(n,a),n.lanes=536870912,Lo(null,e);if(Fa(n),(e=He)?(e=yp(e,Ut),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Tn!==null?{id:Yt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},l=Bc(e),l.return=n,n.child=l,tt=n,He=null)):e=null,e===null)throw En(n);return n.lanes=536870912,null}return Fl(n,a)}var m=e.memoizedState;if(m!==null){var S=m.dehydrated;if(Fa(n),f)if(n.flags&256)n.flags&=-257,n=sf(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Xe||Di(e,n,l,!1),f=(l&e.childLanes)!==0,Xe||f){if(a=Ge,a!==null&&(S=ju(a,l),S!==0&&S!==m.retryLane))throw m.retryLane=S,Wn(e,S),gt(a,e,S),dr;ts(),n=sf(e,n,l)}else e=m.treeContext,He=Lt(S.nextSibling),tt=n,Ae=!0,bn=null,Ut=!1,e!==null&&Yc(n,e),n=Fl(n,a),n.flags|=4096;return n}return e=$t(e.child,{mode:a.mode,children:a.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Yl(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function fr(e,n,l,a,f){return ii(n),l=Ja(e,n,l,a,void 0,f),a=Xa(),e!==null&&!Xe?(Ka(e,n,f),ln(e,n,f)):(Ae&&a&&Na(n),n.flags|=1,it(e,n,l,f),n.child)}function af(e,n,l,a,f,m){return ii(n),n.updateQueue=null,l=ud(n,a,l,f),rd(e),a=Xa(),e!==null&&!Xe?(Ka(e,n,m),ln(e,n,m)):(Ae&&a&&Na(n),n.flags|=1,it(e,n,l,m),n.child)}function rf(e,n,l,a,f){if(ii(n),n.stateNode===null){var m=wi,S=l.contextType;typeof S=="object"&&S!==null&&(m=nt(S)),m=new l(a,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ur,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=a,m.state=n.memoizedState,m.refs={},Ha(n),S=l.contextType,m.context=typeof S=="object"&&S!==null?nt(S):wi,m.state=n.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(rr(n,l,S,a),m.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&ur.enqueueReplaceState(m,m.state,null),Mo(n,a,m,f),Ro(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),a=!0}else if(e===null){m=n.stateNode;var E=n.memoizedProps,C=ui(l,E);m.props=C;var U=m.context,z=l.contextType;S=wi,typeof z=="object"&&z!==null&&(S=nt(z));var O=l.getDerivedStateFromProps;z=typeof O=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||U!==S)&&Xd(n,m,a,S),Cn=!1;var L=n.memoizedState;m.state=L,Mo(n,a,m,f),Ro(),U=n.memoizedState,E||L!==U||Cn?(typeof O=="function"&&(rr(n,l,O,a),U=n.memoizedState),(C=Cn||Jd(n,l,C,a,L,U,S))?(z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=U),m.props=a,m.state=U,m.context=S,a=C):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{m=n.stateNode,Va(e,n),S=n.memoizedProps,z=ui(l,S),m.props=z,O=n.pendingProps,L=m.context,U=l.contextType,C=wi,typeof U=="object"&&U!==null&&(C=nt(U)),E=l.getDerivedStateFromProps,(U=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==O||L!==C)&&Xd(n,m,a,C),Cn=!1,L=n.memoizedState,m.state=L,Mo(n,a,m,f),Ro();var H=n.memoizedState;S!==O||L!==H||Cn||e!==null&&e.dependencies!==null&&Al(e.dependencies)?(typeof E=="function"&&(rr(n,l,E,a),H=n.memoizedState),(z=Cn||Jd(n,l,z,a,L,H,C)||e!==null&&e.dependencies!==null&&Al(e.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,H,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,H,C)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=H),m.props=a,m.state=H,m.context=C,a=z):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),a=!1)}return m=a,Yl(e,n),a=(n.flags&128)!==0,m||a?(m=n.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&a?(n.child=ai(n,e.child,null,f),n.child=ai(n,null,l,f)):it(e,n,l,f),n.memoizedState=m.state,e=n.child):e=ln(e,n,f),e}function uf(e,n,l,a){return ti(),n.flags|=256,it(e,n,l,a),n.child}var pr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mr(e){return{baseLanes:e,cachePool:Zc()}}function hr(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=Ct),e}function cf(e,n,l){var a=n.pendingProps,f=!1,m=(n.flags&128)!==0,S;if((S=m)||(S=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),S&&(f=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ae){if(f?wn(n):Rn(),(e=He)?(e=yp(e,Ut),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Tn!==null?{id:Yt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},l=Bc(e),l.return=n,n.child=l,tt=n,He=null)):e=null,e===null)throw En(n);return Zr(e)?n.lanes=32:n.lanes=536870912,null}var E=a.children;return a=a.fallback,f?(Rn(),f=n.mode,E=Jl({mode:"hidden",children:E},f),a=ei(a,f,l,null),E.return=n,a.return=n,E.sibling=a,n.child=E,a=n.child,a.memoizedState=mr(l),a.childLanes=hr(e,S,l),n.memoizedState=pr,Lo(null,a)):(wn(n),gr(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(m)n.flags&256?(wn(n),n.flags&=-257,n=vr(e,n,l)):n.memoizedState!==null?(Rn(),n.child=e.child,n.flags|=128,n=null):(Rn(),E=a.fallback,f=n.mode,a=Jl({mode:"visible",children:a.children},f),E=ei(E,f,l,null),E.flags|=2,a.return=n,E.return=n,a.sibling=E,n.child=a,ai(n,e.child,null,l),a=n.child,a.memoizedState=mr(l),a.childLanes=hr(e,S,l),n.memoizedState=pr,n=Lo(null,a));else if(wn(n),Zr(E)){if(S=E.nextSibling&&E.nextSibling.dataset,S)var U=S.dgst;S=U,a=Error(s(419)),a.stack="",a.digest=S,Eo({value:a,source:null,stack:null}),n=vr(e,n,l)}else if(Xe||Di(e,n,l,!1),S=(l&e.childLanes)!==0,Xe||S){if(S=Ge,S!==null&&(a=ju(S,l),a!==0&&a!==C.retryLane))throw C.retryLane=a,Wn(e,a),gt(S,e,a),dr;Qr(E)||ts(),n=vr(e,n,l)}else Qr(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,He=Lt(E.nextSibling),tt=n,Ae=!0,bn=null,Ut=!1,e!==null&&Yc(n,e),n=gr(n,a.children),n.flags|=4096);return n}return f?(Rn(),E=a.fallback,f=n.mode,C=e.child,U=C.sibling,a=$t(C,{mode:"hidden",children:a.children}),a.subtreeFlags=C.subtreeFlags&65011712,U!==null?E=$t(U,E):(E=ei(E,f,l,null),E.flags|=2),E.return=n,a.return=n,a.sibling=E,n.child=a,Lo(null,a),a=n.child,E=e.child.memoizedState,E===null?E=mr(l):(f=E.cachePool,f!==null?(C=Ye._currentValue,f=f.parent!==C?{parent:C,pool:C}:f):f=Zc(),E={baseLanes:E.baseLanes|l,cachePool:f}),a.memoizedState=E,a.childLanes=hr(e,S,l),n.memoizedState=pr,Lo(e.child,a)):(wn(n),l=e.child,e=l.sibling,l=$t(l,{mode:"visible",children:a.children}),l.return=n,l.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=l,n.memoizedState=null,l)}function gr(e,n){return n=Jl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Jl(e,n){return e=Tt(22,e,null,n),e.lanes=0,e}function vr(e,n,l){return ai(n,e.child,null,l),e=gr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function df(e,n,l){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),Da(e.return,n,l)}function yr(e,n,l,a,f,m){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:f,treeForkCount:m}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=a,S.tail=l,S.tailMode=f,S.treeForkCount=m)}function ff(e,n,l){var a=n.pendingProps,f=a.revealOrder,m=a.tail;a=a.children;var S=Oe.current,E=(S&2)!==0;if(E?(S=S&1|2,n.flags|=128):S&=1,X(Oe,S),it(e,n,a,l),a=Ae?bo:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&df(e,l,n);else if(e.tag===19)df(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(l=n.child,f=null;l!==null;)e=l.alternate,e!==null&&kl(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=n.child,n.child=null):(f=l.sibling,l.sibling=null),yr(n,!1,f,l,m,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&kl(e)===null){n.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}yr(n,!0,l,null,m,a);break;case"together":yr(n,!1,null,null,void 0,a);break;default:n.memoizedState=null}return n.child}function ln(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),Dn|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(Di(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,l=$t(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=$t(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function xr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Al(e)))}function $0(e,n,l){switch(n.tag){case 3:je(n,n.stateNode.containerInfo),_n(n,Ye,e.memoizedState.cache),ti();break;case 27:case 5:Jn(n);break;case 4:je(n,n.stateNode.containerInfo);break;case 10:_n(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Fa(n),null;break;case 13:var a=n.memoizedState;if(a!==null)return a.dehydrated!==null?(wn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?cf(e,n,l):(wn(n),e=ln(e,n,l),e!==null?e.sibling:null);wn(n);break;case 19:var f=(e.flags&128)!==0;if(a=(l&n.childLanes)!==0,a||(Di(e,n,l,!1),a=(l&n.childLanes)!==0),f){if(a)return ff(e,n,l);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),X(Oe,Oe.current),a)break;return null;case 22:return n.lanes=0,of(e,n,l,n.pendingProps);case 24:_n(n,Ye,e.memoizedState.cache)}return ln(e,n,l)}function pf(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)Xe=!0;else{if(!xr(e,l)&&(n.flags&128)===0)return Xe=!1,$0(e,n,l);Xe=(e.flags&131072)!==0}else Xe=!1,Ae&&(n.flags&1048576)!==0&&Fc(n,bo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var a=n.pendingProps;if(e=li(n.elementType),n.type=e,typeof e=="function")_a(e)?(a=ui(e,a),n.tag=1,n=rf(null,n,e,a,l)):(n.tag=0,n=fr(null,n,e,a,l));else{if(e!=null){var f=e.$$typeof;if(f===J){n.tag=11,n=ef(null,n,e,a,l);break e}else if(f===K){n.tag=14,n=tf(null,n,e,a,l);break e}}throw n=ue(e)||e,Error(s(306,n,""))}}return n;case 0:return fr(e,n,n.type,n.pendingProps,l);case 1:return a=n.type,f=ui(a,n.pendingProps),rf(e,n,a,f,l);case 3:e:{if(je(n,n.stateNode.containerInfo),e===null)throw Error(s(387));a=n.pendingProps;var m=n.memoizedState;f=m.element,Va(e,n),Mo(n,a,null,l);var S=n.memoizedState;if(a=S.cache,_n(n,Ye,a),a!==m.cache&&Ua(n,[Ye],l,!0),Ro(),a=S.element,m.isDehydrated)if(m={element:a,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=uf(e,n,a,l);break e}else if(a!==f){f=Mt(Error(s(424)),n),Eo(f),n=uf(e,n,a,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=Lt(e.firstChild),tt=n,Ae=!0,bn=null,Ut=!0,l=id(n,null,a,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ti(),a===f){n=ln(e,n,l);break e}it(e,n,a,l)}n=n.child}return n;case 26:return Yl(e,n),e===null?(l=_p(n.type,null,n.pendingProps,null))?n.memoizedState=l:Ae||(l=n.type,e=n.pendingProps,a=rs(ye.current).createElement(l),a[et]=n,a[ct]=e,ot(a,l,e),Ze(a),n.stateNode=a):n.memoizedState=_p(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Jn(n),e===null&&Ae&&(a=n.stateNode=Tp(n.type,n.pendingProps,ye.current),tt=n,Ut=!0,f=He,Gn(n.type)?($r=f,He=Lt(a.firstChild)):He=f),it(e,n,n.pendingProps.children,l),Yl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ae&&((f=a=He)&&(a=wv(a,n.type,n.pendingProps,Ut),a!==null?(n.stateNode=a,tt=n,He=Lt(a.firstChild),Ut=!1,f=!0):f=!1),f||En(n)),Jn(n),f=n.type,m=n.pendingProps,S=e!==null?e.memoizedProps:null,a=m.children,Xr(f,m)?a=null:S!==null&&Xr(f,S)&&(n.flags|=32),n.memoizedState!==null&&(f=Ja(e,n,O0,null,null,l),Qo._currentValue=f),Yl(e,n),it(e,n,a,l),n.child;case 6:return e===null&&Ae&&((e=l=He)&&(l=Rv(l,n.pendingProps,Ut),l!==null?(n.stateNode=l,tt=n,He=null,e=!0):e=!1),e||En(n)),null;case 13:return cf(e,n,l);case 4:return je(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=ai(n,null,a,l):it(e,n,a,l),n.child;case 11:return ef(e,n,n.type,n.pendingProps,l);case 7:return it(e,n,n.pendingProps,l),n.child;case 8:return it(e,n,n.pendingProps.children,l),n.child;case 12:return it(e,n,n.pendingProps.children,l),n.child;case 10:return a=n.pendingProps,_n(n,n.type,a.value),it(e,n,a.children,l),n.child;case 9:return f=n.type._context,a=n.pendingProps.children,ii(n),f=nt(f),a=a(f),n.flags|=1,it(e,n,a,l),n.child;case 14:return tf(e,n,n.type,n.pendingProps,l);case 15:return nf(e,n,n.type,n.pendingProps,l);case 19:return ff(e,n,l);case 31:return Z0(e,n,l);case 22:return of(e,n,l,n.pendingProps);case 24:return ii(n),a=nt(Ye),e===null?(f=Pa(),f===null&&(f=Ge,m=ka(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=l),f=m),n.memoizedState={parent:a,cache:f},Ha(n),_n(n,Ye,f)):((e.lanes&l)!==0&&(Va(e,n),Mo(n,null,null,l),Ro()),f=e.memoizedState,m=n.memoizedState,f.parent!==a?(f={parent:a,cache:a},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),_n(n,Ye,a)):(a=m.cache,_n(n,Ye,a),a!==f.cache&&Ua(n,[Ye],l,!0))),it(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function sn(e){e.flags|=4}function Sr(e,n,l,a,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(zf())e.flags|=8192;else throw si=Ml,Ga}else e.flags&=-16777217}function mf(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Rp(n))if(zf())e.flags|=8192;else throw si=Ml,Ga}function Xl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ju():536870912,e.lanes|=n,Fi|=n)}function Po(e,n){if(!Ae)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ve(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(n)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,a|=f.subtreeFlags&65011712,a|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,a|=f.subtreeFlags,a|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=a,e.childLanes=l,n}function W0(e,n,l){var a=n.pendingProps;switch(wa(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(n),null;case 1:return Ve(n),null;case 3:return l=n.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),tn(Ye),Pe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ii(n)?sn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ma())),Ve(n),null;case 26:var f=n.type,m=n.memoizedState;return e===null?(sn(n),m!==null?(Ve(n),mf(n,m)):(Ve(n),Sr(n,f,null,a,l))):m?m!==e.memoizedState?(sn(n),Ve(n),mf(n,m)):(Ve(n),n.flags&=-16777217):(e=e.memoizedProps,e!==a&&sn(n),Ve(n),Sr(n,f,e,a,l)),null;case 27:if(mi(n),l=ye.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&sn(n);else{if(!a){if(n.stateNode===null)throw Error(s(166));return Ve(n),null}e=Z.current,Ii(n)?Jc(n):(e=Tp(f,a,l),n.stateNode=e,sn(n))}return Ve(n),null;case 5:if(mi(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&sn(n);else{if(!a){if(n.stateNode===null)throw Error(s(166));return Ve(n),null}if(m=Z.current,Ii(n))Jc(n);else{var S=rs(ye.current);switch(m){case 1:m=S.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=S.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=S.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof a.is=="string"?S.createElement("select",{is:a.is}):S.createElement("select"),a.multiple?m.multiple=!0:a.size&&(m.size=a.size);break;default:m=typeof a.is=="string"?S.createElement(f,{is:a.is}):S.createElement(f)}}m[et]=n,m[ct]=a;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)m.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=m;e:switch(ot(m,f,a),f){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&sn(n)}}return Ve(n),Sr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==a&&sn(n);else{if(typeof a!="string"&&n.stateNode===null)throw Error(s(166));if(e=ye.current,Ii(n)){if(e=n.stateNode,l=n.memoizedProps,a=null,f=tt,f!==null)switch(f.tag){case 27:case 5:a=f.memoizedProps}e[et]=n,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||cp(e.nodeValue,l)),e||En(n,!0)}else e=rs(e).createTextNode(a),e[et]=n,n.stateNode=e}return Ve(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(a=Ii(n),l!==null){if(e===null){if(!a)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[et]=n}else ti(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ve(n),e=!1}else l=Ma(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(Et(n),n):(Et(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Ve(n),null;case 13:if(a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ii(n),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[et]=n}else ti(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ve(n),f=!1}else f=Ma(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Et(n),n):(Et(n),null)}return Et(n),(n.flags&128)!==0?(n.lanes=l,n):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=n.child,f=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(f=a.alternate.memoizedState.cachePool.pool),m=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),m!==f&&(a.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),Xl(n,n.updateQueue),Ve(n),null);case 4:return Pe(),e===null&&Br(n.stateNode.containerInfo),Ve(n),null;case 10:return tn(n.type),Ve(n),null;case 19:if(V(Oe),a=n.memoizedState,a===null)return Ve(n),null;if(f=(n.flags&128)!==0,m=a.rendering,m===null)if(f)Po(a,!1);else{if(Be!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=kl(e),m!==null){for(n.flags|=128,Po(a,!1),e=m.updateQueue,n.updateQueue=e,Xl(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)qc(l,e),l=l.sibling;return X(Oe,Oe.current&1|2),Ae&&Wt(n,a.treeForkCount),n.child}e=e.sibling}a.tail!==null&&vt()>$l&&(n.flags|=128,f=!0,Po(a,!1),n.lanes=4194304)}else{if(!f)if(e=kl(m),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,Xl(n,e),Po(a,!0),a.tail===null&&a.tailMode==="hidden"&&!m.alternate&&!Ae)return Ve(n),null}else 2*vt()-a.renderingStartTime>$l&&l!==536870912&&(n.flags|=128,f=!0,Po(a,!1),n.lanes=4194304);a.isBackwards?(m.sibling=n.child,n.child=m):(e=a.last,e!==null?e.sibling=m:n.child=m,a.last=m)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=vt(),e.sibling=null,l=Oe.current,X(Oe,f?l&1|2:l&1),Ae&&Wt(n,a.treeForkCount),e):(Ve(n),null);case 22:case 23:return Et(n),Oa(),a=n.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(n.flags|=8192):a&&(n.flags|=8192),a?(l&536870912)!==0&&(n.flags&128)===0&&(Ve(n),n.subtreeFlags&6&&(n.flags|=8192)):Ve(n),l=n.updateQueue,l!==null&&Xl(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==l&&(n.flags|=2048),e!==null&&V(oi),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),tn(Ye),Ve(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function ev(e,n){switch(wa(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return tn(Ye),Pe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return mi(n),null;case 31:if(n.memoizedState!==null){if(Et(n),n.alternate===null)throw Error(s(340));ti()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Et(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ti()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return V(Oe),null;case 4:return Pe(),null;case 10:return tn(n.type),null;case 22:case 23:return Et(n),Oa(),e!==null&&V(oi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return tn(Ye),null;case 25:return null;default:return null}}function hf(e,n){switch(wa(n),n.tag){case 3:tn(Ye),Pe();break;case 26:case 27:case 5:mi(n);break;case 4:Pe();break;case 31:n.memoizedState!==null&&Et(n);break;case 13:Et(n);break;case 19:V(Oe);break;case 10:tn(n.type);break;case 22:case 23:Et(n),Oa(),e!==null&&V(oi);break;case 24:tn(Ye)}}function Go(e,n){try{var l=n.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var f=a.next;l=f;do{if((l.tag&e)===e){a=void 0;var m=l.create,S=l.inst;a=m(),S.destroy=a}l=l.next}while(l!==f)}}catch(E){De(n,n.return,E)}}function Mn(e,n,l){try{var a=n.updateQueue,f=a!==null?a.lastEffect:null;if(f!==null){var m=f.next;a=m;do{if((a.tag&e)===e){var S=a.inst,E=S.destroy;if(E!==void 0){S.destroy=void 0,f=n;var C=l,U=E;try{U()}catch(z){De(f,C,z)}}}a=a.next}while(a!==m)}}catch(z){De(n,n.return,z)}}function gf(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{ld(n,l)}catch(a){De(e,e.return,a)}}}function vf(e,n,l){l.props=ui(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){De(e,n,a)}}function Ho(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(f){De(e,n,f)}}function Xt(e,n){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(f){De(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){De(e,n,f)}else l.current=null}function yf(e){var n=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(f){De(e,e.return,f)}}function Tr(e,n,l){try{var a=e.stateNode;bv(a,e.type,l,n),a[ct]=n}catch(f){De(e,e.return,f)}}function xf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gn(e.type)||e.tag===4}function br(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Er(e,n,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=Qt));else if(a!==4&&(a===27&&Gn(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Er(e,n,l),e=e.sibling;e!==null;)Er(e,n,l),e=e.sibling}function Kl(e,n,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(a!==4&&(a===27&&Gn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Kl(e,n,l),e=e.sibling;e!==null;)Kl(e,n,l),e=e.sibling}function Sf(e){var n=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);ot(n,a,l),n[et]=e,n[ct]=l}catch(m){De(e,e.return,m)}}var an=!1,Ke=!1,_r=!1,Tf=typeof WeakSet=="function"?WeakSet:Set,$e=null;function tv(e,n){if(e=e.containerInfo,Yr=hs,e=Dc(e),va(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var f=a.anchorOffset,m=a.focusNode;a=a.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var S=0,E=-1,C=-1,U=0,z=0,O=e,L=null;t:for(;;){for(var H;O!==l||f!==0&&O.nodeType!==3||(E=S+f),O!==m||a!==0&&O.nodeType!==3||(C=S+a),O.nodeType===3&&(S+=O.nodeValue.length),(H=O.firstChild)!==null;)L=O,O=H;for(;;){if(O===e)break t;if(L===l&&++U===f&&(E=S),L===m&&++z===a&&(C=S),(H=O.nextSibling)!==null)break;O=L,L=O.parentNode}O=H}l=E===-1||C===-1?null:{start:E,end:C}}else l=null}l=l||{start:0,end:0}}else l=null;for(Jr={focusedElem:e,selectionRange:l},hs=!1,$e=n;$e!==null;)if(n=$e,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,$e=e;else for(;$e!==null;){switch(n=$e,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)f=e[l],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=n,f=m.memoizedProps,m=m.memoizedState,a=l.stateNode;try{var oe=ui(l.type,f);e=a.getSnapshotBeforeUpdate(oe,m),a.__reactInternalSnapshotBeforeUpdate=e}catch(de){De(l,l.return,de)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)jr(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,$e=e;break}$e=n.return}}function bf(e,n,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:un(e,l),a&4&&Go(5,l);break;case 1:if(un(e,l),a&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(S){De(l,l.return,S)}else{var f=ui(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){De(l,l.return,S)}}a&64&&gf(l),a&512&&Ho(l,l.return);break;case 3:if(un(e,l),a&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{ld(e,n)}catch(S){De(l,l.return,S)}}break;case 27:n===null&&a&4&&Sf(l);case 26:case 5:un(e,l),n===null&&a&4&&yf(l),a&512&&Ho(l,l.return);break;case 12:un(e,l);break;case 31:un(e,l),a&4&&Cf(e,l);break;case 13:un(e,l),a&4&&Af(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=cv.bind(null,l),Mv(e,l))));break;case 22:if(a=l.memoizedState!==null||an,!a){n=n!==null&&n.memoizedState!==null||Ke,f=an;var m=Ke;an=a,(Ke=n)&&!m?cn(e,l,(l.subtreeFlags&8772)!==0):un(e,l),an=f,Ke=m}break;case 30:break;default:un(e,l)}}function Ef(e){var n=e.alternate;n!==null&&(e.alternate=null,Ef(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ea(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,ft=!1;function rn(e,n,l){for(l=l.child;l!==null;)_f(e,n,l),l=l.sibling}function _f(e,n,l){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(ao,l)}catch{}switch(l.tag){case 26:Ke||Xt(l,n),rn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ke||Xt(l,n);var a=ze,f=ft;Gn(l.type)&&(ze=l.stateNode,ft=!1),rn(e,n,l),Xo(l.stateNode),ze=a,ft=f;break;case 5:Ke||Xt(l,n);case 6:if(a=ze,f=ft,ze=null,rn(e,n,l),ze=a,ft=f,ze!==null)if(ft)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(l.stateNode)}catch(m){De(l,n,m)}else try{ze.removeChild(l.stateNode)}catch(m){De(l,n,m)}break;case 18:ze!==null&&(ft?(e=ze,gp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),$i(e)):gp(ze,l.stateNode));break;case 4:a=ze,f=ft,ze=l.stateNode.containerInfo,ft=!0,rn(e,n,l),ze=a,ft=f;break;case 0:case 11:case 14:case 15:Mn(2,l,n),Ke||Mn(4,l,n),rn(e,n,l);break;case 1:Ke||(Xt(l,n),a=l.stateNode,typeof a.componentWillUnmount=="function"&&vf(l,n,a)),rn(e,n,l);break;case 21:rn(e,n,l);break;case 22:Ke=(a=Ke)||l.memoizedState!==null,rn(e,n,l),Ke=a;break;default:rn(e,n,l)}}function Cf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$i(e)}catch(l){De(n,n.return,l)}}}function Af(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$i(e)}catch(l){De(n,n.return,l)}}function nv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Tf),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Tf),n;default:throw Error(s(435,e.tag))}}function jl(e,n){var l=nv(e);n.forEach(function(a){if(!l.has(a)){l.add(a);var f=dv.bind(null,e,a);a.then(f,f)}})}function pt(e,n){var l=n.deletions;if(l!==null)for(var a=0;a<l.length;a++){var f=l[a],m=e,S=n,E=S;e:for(;E!==null;){switch(E.tag){case 27:if(Gn(E.type)){ze=E.stateNode,ft=!1;break e}break;case 5:ze=E.stateNode,ft=!1;break e;case 3:case 4:ze=E.stateNode.containerInfo,ft=!0;break e}E=E.return}if(ze===null)throw Error(s(160));_f(m,S,f),ze=null,ft=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Nf(n,e),n=n.sibling}var zt=null;function Nf(e,n){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(n,e),mt(e),a&4&&(Mn(3,e,e.return),Go(3,e),Mn(5,e,e.return));break;case 1:pt(n,e),mt(e),a&512&&(Ke||l===null||Xt(l,l.return)),a&64&&an&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var f=zt;if(pt(n,e),mt(e),a&512&&(Ke||l===null||Xt(l,l.return)),a&4){var m=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,f=f.ownerDocument||f;t:switch(a){case"title":m=f.getElementsByTagName("title")[0],(!m||m[co]||m[et]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(a),f.head.insertBefore(m,f.querySelector("head > title"))),ot(m,a,l),m[et]=e,Ze(m),a=m;break e;case"link":var S=Np("link","href",f).get(a+(l.href||""));if(S){for(var E=0;E<S.length;E++)if(m=S[E],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(E,1);break t}}m=f.createElement(a),ot(m,a,l),f.head.appendChild(m);break;case"meta":if(S=Np("meta","content",f).get(a+(l.content||""))){for(E=0;E<S.length;E++)if(m=S[E],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(E,1);break t}}m=f.createElement(a),ot(m,a,l),f.head.appendChild(m);break;default:throw Error(s(468,a))}m[et]=e,Ze(m),a=m}e.stateNode=a}else wp(f,e.type,e.stateNode);else e.stateNode=Ap(f,a,e.memoizedProps);else m!==a?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,a===null?wp(f,e.type,e.stateNode):Ap(f,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Tr(e,e.memoizedProps,l.memoizedProps)}break;case 27:pt(n,e),mt(e),a&512&&(Ke||l===null||Xt(l,l.return)),l!==null&&a&4&&Tr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(pt(n,e),mt(e),a&512&&(Ke||l===null||Xt(l,l.return)),e.flags&32){f=e.stateNode;try{Ti(f,"")}catch(oe){De(e,e.return,oe)}}a&4&&e.stateNode!=null&&(f=e.memoizedProps,Tr(e,f,l!==null?l.memoizedProps:f)),a&1024&&(_r=!0);break;case 6:if(pt(n,e),mt(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(oe){De(e,e.return,oe)}}break;case 3:if(ds=null,f=zt,zt=us(n.containerInfo),pt(n,e),zt=f,mt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{$i(n.containerInfo)}catch(oe){De(e,e.return,oe)}_r&&(_r=!1,wf(e));break;case 4:a=zt,zt=us(e.stateNode.containerInfo),pt(n,e),mt(e),zt=a;break;case 12:pt(n,e),mt(e);break;case 31:pt(n,e),mt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,jl(e,a)));break;case 13:pt(n,e),mt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Zl=vt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,jl(e,a)));break;case 22:f=e.memoizedState!==null;var C=l!==null&&l.memoizedState!==null,U=an,z=Ke;if(an=U||f,Ke=z||C,pt(n,e),Ke=z,an=U,mt(e),a&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(l===null||C||an||Ke||ci(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){C=l=n;try{if(m=C.stateNode,f)S=m.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{E=C.stateNode;var O=C.memoizedProps.style,L=O!=null&&O.hasOwnProperty("display")?O.display:null;E.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(oe){De(C,C.return,oe)}}}else if(n.tag===6){if(l===null){C=n;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(oe){De(C,C.return,oe)}}}else if(n.tag===18){if(l===null){C=n;try{var H=C.stateNode;f?vp(H,!0):vp(C.stateNode,!1)}catch(oe){De(C,C.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,jl(e,l))));break;case 19:pt(n,e),mt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,jl(e,a)));break;case 30:break;case 21:break;default:pt(n,e),mt(e)}}function mt(e){var n=e.flags;if(n&2){try{for(var l,a=e.return;a!==null;){if(xf(a)){l=a;break}a=a.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var f=l.stateNode,m=br(e);Kl(e,m,f);break;case 5:var S=l.stateNode;l.flags&32&&(Ti(S,""),l.flags&=-33);var E=br(e);Kl(e,E,S);break;case 3:case 4:var C=l.stateNode.containerInfo,U=br(e);Er(e,U,C);break;default:throw Error(s(161))}}catch(z){De(e,e.return,z)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function wf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;wf(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function un(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)bf(e,n.alternate,n),n=n.sibling}function ci(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Mn(4,n,n.return),ci(n);break;case 1:Xt(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&vf(n,n.return,l),ci(n);break;case 27:Xo(n.stateNode);case 26:case 5:Xt(n,n.return),ci(n);break;case 22:n.memoizedState===null&&ci(n);break;case 30:ci(n);break;default:ci(n)}e=e.sibling}}function cn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var a=n.alternate,f=e,m=n,S=m.flags;switch(m.tag){case 0:case 11:case 15:cn(f,m,l),Go(4,m);break;case 1:if(cn(f,m,l),a=m,f=a.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){De(a,a.return,U)}if(a=m,f=a.updateQueue,f!==null){var E=a.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)od(C[f],E)}catch(U){De(a,a.return,U)}}l&&S&64&&gf(m),Ho(m,m.return);break;case 27:Sf(m);case 26:case 5:cn(f,m,l),l&&a===null&&S&4&&yf(m),Ho(m,m.return);break;case 12:cn(f,m,l);break;case 31:cn(f,m,l),l&&S&4&&Cf(f,m);break;case 13:cn(f,m,l),l&&S&4&&Af(f,m);break;case 22:m.memoizedState===null&&cn(f,m,l),Ho(m,m.return);break;case 30:break;default:cn(f,m,l)}n=n.sibling}}function Cr(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&_o(l))}function Ar(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&_o(e))}function qt(e,n,l,a){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Rf(e,n,l,a),n=n.sibling}function Rf(e,n,l,a){var f=n.flags;switch(n.tag){case 0:case 11:case 15:qt(e,n,l,a),f&2048&&Go(9,n);break;case 1:qt(e,n,l,a);break;case 3:qt(e,n,l,a),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&_o(e)));break;case 12:if(f&2048){qt(e,n,l,a),e=n.stateNode;try{var m=n.memoizedProps,S=m.id,E=m.onPostCommit;typeof E=="function"&&E(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){De(n,n.return,C)}}else qt(e,n,l,a);break;case 31:qt(e,n,l,a);break;case 13:qt(e,n,l,a);break;case 23:break;case 22:m=n.stateNode,S=n.alternate,n.memoizedState!==null?m._visibility&2?qt(e,n,l,a):Vo(e,n):m._visibility&2?qt(e,n,l,a):(m._visibility|=2,qi(e,n,l,a,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Cr(S,n);break;case 24:qt(e,n,l,a),f&2048&&Ar(n.alternate,n);break;default:qt(e,n,l,a)}}function qi(e,n,l,a,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,S=n,E=l,C=a,U=S.flags;switch(S.tag){case 0:case 11:case 15:qi(m,S,E,C,f),Go(8,S);break;case 23:break;case 22:var z=S.stateNode;S.memoizedState!==null?z._visibility&2?qi(m,S,E,C,f):Vo(m,S):(z._visibility|=2,qi(m,S,E,C,f)),f&&U&2048&&Cr(S.alternate,S);break;case 24:qi(m,S,E,C,f),f&&U&2048&&Ar(S.alternate,S);break;default:qi(m,S,E,C,f)}n=n.sibling}}function Vo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,a=n,f=a.flags;switch(a.tag){case 22:Vo(l,a),f&2048&&Cr(a.alternate,a);break;case 24:Vo(l,a),f&2048&&Ar(a.alternate,a);break;default:Vo(l,a)}n=n.sibling}}var zo=8192;function Bi(e,n,l){if(e.subtreeFlags&zo)for(e=e.child;e!==null;)Mf(e,n,l),e=e.sibling}function Mf(e,n,l){switch(e.tag){case 26:Bi(e,n,l),e.flags&zo&&e.memoizedState!==null&&Bv(l,zt,e.memoizedState,e.memoizedProps);break;case 5:Bi(e,n,l);break;case 3:case 4:var a=zt;zt=us(e.stateNode.containerInfo),Bi(e,n,l),zt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=zo,zo=16777216,Bi(e,n,l),zo=a):Bi(e,n,l));break;default:Bi(e,n,l)}}function If(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function qo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var a=n[l];$e=a,Uf(a,e)}If(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Df(e),e=e.sibling}function Df(e){switch(e.tag){case 0:case 11:case 15:qo(e),e.flags&2048&&Mn(9,e,e.return);break;case 3:qo(e);break;case 12:qo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ql(e)):qo(e);break;default:qo(e)}}function Ql(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var a=n[l];$e=a,Uf(a,e)}If(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Mn(8,n,n.return),Ql(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,Ql(n));break;default:Ql(n)}e=e.sibling}}function Uf(e,n){for(;$e!==null;){var l=$e;switch(l.tag){case 0:case 11:case 15:Mn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:_o(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,$e=a;else e:for(l=e;$e!==null;){a=$e;var f=a.sibling,m=a.return;if(Ef(a),a===l){$e=null;break e}if(f!==null){f.return=m,$e=f;break e}$e=m}}}var iv={getCacheForType:function(e){var n=nt(Ye),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return nt(Ye).controller.signal}},ov=typeof WeakMap=="function"?WeakMap:Map,Me=0,Ge=null,be=null,_e=0,Ie=0,_t=null,In=!1,Oi=!1,Nr=!1,dn=0,Be=0,Dn=0,di=0,wr=0,Ct=0,Fi=0,Bo=null,ht=null,Rr=!1,Zl=0,kf=0,$l=1/0,Wl=null,Un=null,Qe=0,kn=null,Yi=null,fn=0,Mr=0,Ir=null,Lf=null,Oo=0,Dr=null;function At(){return(Me&2)!==0&&_e!==0?_e&-_e:M.T!==null?Hr():Qu()}function Pf(){if(Ct===0)if((_e&536870912)===0||Ae){var e=al;al<<=1,(al&3932160)===0&&(al=262144),Ct=e}else Ct=536870912;return e=bt.current,e!==null&&(e.flags|=32),Ct}function gt(e,n,l){(e===Ge&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)&&(Ji(e,0),Ln(e,_e,Ct,!1)),uo(e,l),((Me&2)===0||e!==Ge)&&(e===Ge&&((Me&2)===0&&(di|=l),Be===4&&Ln(e,_e,Ct,!1)),Kt(e))}function Gf(e,n,l){if((Me&6)!==0)throw Error(s(327));var a=!l&&(n&127)===0&&(n&e.expiredLanes)===0||ro(e,n),f=a?av(e,n):kr(e,n,!0),m=a;do{if(f===0){Oi&&!a&&Ln(e,n,0,!1);break}else{if(l=e.current.alternate,m&&!lv(l)){f=kr(e,n,!1),m=!1;continue}if(f===2){if(m=n,e.errorRecoveryDisabledLanes&m)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var E=e;f=Bo;var C=E.current.memoizedState.isDehydrated;if(C&&(Ji(E,S).flags|=256),S=kr(E,S,!1),S!==2){if(Nr&&!C){E.errorRecoveryDisabledLanes|=m,di|=m,f=4;break e}m=ht,ht=f,m!==null&&(ht===null?ht=m:ht.push.apply(ht,m))}f=S}if(m=!1,f!==2)continue}}if(f===1){Ji(e,0),Ln(e,n,0,!0);break}e:{switch(a=e,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ln(a,n,Ct,!In);break e;case 2:ht=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=Zl+300-vt(),10<f)){if(Ln(a,n,Ct,!In),ul(a,0,!0)!==0)break e;fn=n,a.timeoutHandle=mp(Hf.bind(null,a,l,ht,Wl,Rr,n,Ct,di,Fi,In,m,"Throttled",-0,0),f);break e}Hf(a,l,ht,Wl,Rr,n,Ct,di,Fi,In,m,null,-0,0)}}break}while(!0);Kt(e)}function Hf(e,n,l,a,f,m,S,E,C,U,z,O,L,H){if(e.timeoutHandle=-1,O=n.subtreeFlags,O&8192||(O&16785408)===16785408){O={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qt},Mf(n,m,O);var oe=(m&62914560)===m?Zl-vt():(m&4194048)===m?kf-vt():0;if(oe=Ov(O,oe),oe!==null){fn=m,e.cancelPendingCommit=oe(Jf.bind(null,e,n,m,l,a,f,S,E,C,z,O,null,L,H)),Ln(e,m,S,!U);return}}Jf(e,n,m,l,a,f,S,E,C)}function lv(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var f=l[a],m=f.getSnapshot;f=f.value;try{if(!St(m(),f))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ln(e,n,l,a){n&=~wr,n&=~di,e.suspendedLanes|=n,e.pingedLanes&=~n,a&&(e.warmLanes|=n),a=e.expirationTimes;for(var f=n;0<f;){var m=31-xt(f),S=1<<m;a[m]=-1,f&=~S}l!==0&&Xu(e,l,n)}function es(){return(Me&6)===0?(Fo(0),!1):!0}function Ur(){if(be!==null){if(Ie===0)var e=be.return;else e=be,en=ni=null,ja(e),Pi=null,Ao=0,e=be;for(;e!==null;)hf(e.alternate,e),e=e.return;be=null}}function Ji(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Cv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),fn=0,Ur(),Ge=e,be=l=$t(e.current,null),_e=n,Ie=0,_t=null,In=!1,Oi=ro(e,n),Nr=!1,Fi=Ct=wr=di=Dn=Be=0,ht=Bo=null,Rr=!1,(n&8)!==0&&(n|=n&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=n;0<a;){var f=31-xt(a),m=1<<f;n|=e[f],a&=~m}return dn=n,Tl(),l}function Vf(e,n){xe=null,M.H=ko,n===Li||n===Rl?(n=ed(),Ie=3):n===Ga?(n=ed(),Ie=4):Ie=n===dr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_t=n,be===null&&(Be=1,Ol(e,Mt(n,e.current)))}function zf(){var e=bt.current;return e===null?!0:(_e&4194048)===_e?kt===null:(_e&62914560)===_e||(_e&536870912)!==0?e===kt:!1}function qf(){var e=M.H;return M.H=ko,e===null?ko:e}function Bf(){var e=M.A;return M.A=iv,e}function ts(){Be=4,In||(_e&4194048)!==_e&&bt.current!==null||(Oi=!0),(Dn&134217727)===0&&(di&134217727)===0||Ge===null||Ln(Ge,_e,Ct,!1)}function kr(e,n,l){var a=Me;Me|=2;var f=qf(),m=Bf();(Ge!==e||_e!==n)&&(Wl=null,Ji(e,n)),n=!1;var S=Be;e:do try{if(Ie!==0&&be!==null){var E=be,C=_t;switch(Ie){case 8:Ur(),S=6;break e;case 3:case 2:case 9:case 6:bt.current===null&&(n=!0);var U=Ie;if(Ie=0,_t=null,Xi(e,E,C,U),l&&Oi){S=0;break e}break;default:U=Ie,Ie=0,_t=null,Xi(e,E,C,U)}}sv(),S=Be;break}catch(z){Vf(e,z)}while(!0);return n&&e.shellSuspendCounter++,en=ni=null,Me=a,M.H=f,M.A=m,be===null&&(Ge=null,_e=0,Tl()),S}function sv(){for(;be!==null;)Of(be)}function av(e,n){var l=Me;Me|=2;var a=qf(),f=Bf();Ge!==e||_e!==n?(Wl=null,$l=vt()+500,Ji(e,n)):Oi=ro(e,n);e:do try{if(Ie!==0&&be!==null){n=be;var m=_t;t:switch(Ie){case 1:Ie=0,_t=null,Xi(e,n,m,1);break;case 2:case 9:if($c(m)){Ie=0,_t=null,Ff(n);break}n=function(){Ie!==2&&Ie!==9||Ge!==e||(Ie=7),Kt(e)},m.then(n,n);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:$c(m)?(Ie=0,_t=null,Ff(n)):(Ie=0,_t=null,Xi(e,n,m,7));break;case 5:var S=null;switch(be.tag){case 26:S=be.memoizedState;case 5:case 27:var E=be;if(S?Rp(S):E.stateNode.complete){Ie=0,_t=null;var C=E.sibling;if(C!==null)be=C;else{var U=E.return;U!==null?(be=U,ns(U)):be=null}break t}}Ie=0,_t=null,Xi(e,n,m,5);break;case 6:Ie=0,_t=null,Xi(e,n,m,6);break;case 8:Ur(),Be=6;break e;default:throw Error(s(462))}}rv();break}catch(z){Vf(e,z)}while(!0);return en=ni=null,M.H=a,M.A=f,Me=l,be!==null?0:(Ge=null,_e=0,Tl(),Be)}function rv(){for(;be!==null&&!Ig();)Of(be)}function Of(e){var n=pf(e.alternate,e,dn);e.memoizedProps=e.pendingProps,n===null?ns(e):be=n}function Ff(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=af(l,n,n.pendingProps,n.type,void 0,_e);break;case 11:n=af(l,n,n.pendingProps,n.type.render,n.ref,_e);break;case 5:ja(n);default:hf(l,n),n=be=qc(n,dn),n=pf(l,n,dn)}e.memoizedProps=e.pendingProps,n===null?ns(e):be=n}function Xi(e,n,l,a){en=ni=null,ja(n),Pi=null,Ao=0;var f=n.return;try{if(Q0(e,f,n,l,_e)){Be=1,Ol(e,Mt(l,e.current)),be=null;return}}catch(m){if(f!==null)throw be=f,m;Be=1,Ol(e,Mt(l,e.current)),be=null;return}n.flags&32768?(Ae||a===1?e=!0:Oi||(_e&536870912)!==0?e=!1:(In=e=!0,(a===2||a===9||a===3||a===6)&&(a=bt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Yf(n,e)):ns(n)}function ns(e){var n=e;do{if((n.flags&32768)!==0){Yf(n,In);return}e=n.return;var l=W0(n.alternate,n,dn);if(l!==null){be=l;return}if(n=n.sibling,n!==null){be=n;return}be=n=e}while(n!==null);Be===0&&(Be=5)}function Yf(e,n){do{var l=ev(e.alternate,e);if(l!==null){l.flags&=32767,be=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){be=e;return}be=e=l}while(e!==null);Be=6,be=null}function Jf(e,n,l,a,f,m,S,E,C){e.cancelPendingCommit=null;do is();while(Qe!==0);if((Me&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=ba,qg(e,l,m,S,E,C),e===Ge&&(be=Ge=null,_e=0),Yi=n,kn=e,fn=l,Mr=m,Ir=f,Lf=a,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,fv(ll,function(){return Zf(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||a){a=M.T,M.T=null,f=F.p,F.p=2,S=Me,Me|=4;try{tv(e,n,l)}finally{Me=S,F.p=f,M.T=a}}Qe=1,Xf(),Kf(),jf()}}function Xf(){if(Qe===1){Qe=0;var e=kn,n=Yi,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=M.T,M.T=null;var a=F.p;F.p=2;var f=Me;Me|=4;try{Nf(n,e);var m=Jr,S=Dc(e.containerInfo),E=m.focusedElem,C=m.selectionRange;if(S!==E&&E&&E.ownerDocument&&Ic(E.ownerDocument.documentElement,E)){if(C!==null&&va(E)){var U=C.start,z=C.end;if(z===void 0&&(z=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(z,E.value.length);else{var O=E.ownerDocument||document,L=O&&O.defaultView||window;if(L.getSelection){var H=L.getSelection(),oe=E.textContent.length,de=Math.min(C.start,oe),Le=C.end===void 0?de:Math.min(C.end,oe);!H.extend&&de>Le&&(S=Le,Le=de,de=S);var I=Mc(E,de),N=Mc(E,Le);if(I&&N&&(H.rangeCount!==1||H.anchorNode!==I.node||H.anchorOffset!==I.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var D=O.createRange();D.setStart(I.node,I.offset),H.removeAllRanges(),de>Le?(H.addRange(D),H.extend(N.node,N.offset)):(D.setEnd(N.node,N.offset),H.addRange(D))}}}}for(O=[],H=E;H=H.parentNode;)H.nodeType===1&&O.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<O.length;E++){var q=O[E];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}hs=!!Yr,Jr=Yr=null}finally{Me=f,F.p=a,M.T=l}}e.current=n,Qe=2}}function Kf(){if(Qe===2){Qe=0;var e=kn,n=Yi,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=M.T,M.T=null;var a=F.p;F.p=2;var f=Me;Me|=4;try{bf(e,n.alternate,n)}finally{Me=f,F.p=a,M.T=l}}Qe=3}}function jf(){if(Qe===4||Qe===3){Qe=0,Dg();var e=kn,n=Yi,l=fn,a=Lf;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qe=5:(Qe=0,Yi=kn=null,Qf(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Un=null),$s(l),n=n.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(ao,n,void 0,(n.current.flags&128)===128)}catch{}if(a!==null){n=M.T,f=F.p,F.p=2,M.T=null;try{for(var m=e.onRecoverableError,S=0;S<a.length;S++){var E=a[S];m(E.value,{componentStack:E.stack})}}finally{M.T=n,F.p=f}}(fn&3)!==0&&is(),Kt(e),f=e.pendingLanes,(l&261930)!==0&&(f&42)!==0?e===Dr?Oo++:(Oo=0,Dr=e):Oo=0,Fo(0)}}function Qf(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,_o(n)))}function is(){return Xf(),Kf(),jf(),Zf()}function Zf(){if(Qe!==5)return!1;var e=kn,n=Mr;Mr=0;var l=$s(fn),a=M.T,f=F.p;try{F.p=32>l?32:l,M.T=null,l=Ir,Ir=null;var m=kn,S=fn;if(Qe=0,Yi=kn=null,fn=0,(Me&6)!==0)throw Error(s(331));var E=Me;if(Me|=4,Df(m.current),Rf(m,m.current,S,l),Me=E,Fo(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(ao,m)}catch{}return!0}finally{F.p=f,M.T=a,Qf(e,n)}}function $f(e,n,l){n=Mt(l,n),n=cr(e.stateNode,n,2),e=Nn(e,n,2),e!==null&&(uo(e,2),Kt(e))}function De(e,n,l){if(e.tag===3)$f(e,e,l);else for(;n!==null;){if(n.tag===3){$f(n,e,l);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Un===null||!Un.has(a))){e=Mt(l,e),l=$d(2),a=Nn(n,l,2),a!==null&&(Wd(l,a,n,e),uo(a,2),Kt(a));break}}n=n.return}}function Lr(e,n,l){var a=e.pingCache;if(a===null){a=e.pingCache=new ov;var f=new Set;a.set(n,f)}else f=a.get(n),f===void 0&&(f=new Set,a.set(n,f));f.has(l)||(Nr=!0,f.add(l),e=uv.bind(null,e,n,l),n.then(e,e))}function uv(e,n,l){var a=e.pingCache;a!==null&&a.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ge===e&&(_e&l)===l&&(Be===4||Be===3&&(_e&62914560)===_e&&300>vt()-Zl?(Me&2)===0&&Ji(e,0):wr|=l,Fi===_e&&(Fi=0)),Kt(e)}function Wf(e,n){n===0&&(n=Ju()),e=Wn(e,n),e!==null&&(uo(e,n),Kt(e))}function cv(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),Wf(e,l)}function dv(e,n){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(n),Wf(e,l)}function fv(e,n){return Ks(e,n)}var os=null,Ki=null,Pr=!1,ls=!1,Gr=!1,Pn=0;function Kt(e){e!==Ki&&e.next===null&&(Ki===null?os=Ki=e:Ki=Ki.next=e),ls=!0,Pr||(Pr=!0,mv())}function Fo(e,n){if(!Gr&&ls){Gr=!0;do for(var l=!1,a=os;a!==null;){if(e!==0){var f=a.pendingLanes;if(f===0)var m=0;else{var S=a.suspendedLanes,E=a.pingedLanes;m=(1<<31-xt(42|e)+1)-1,m&=f&~(S&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,ip(a,m))}else m=_e,m=ul(a,a===Ge?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(m&3)===0||ro(a,m)||(l=!0,ip(a,m));a=a.next}while(l);Gr=!1}}function pv(){ep()}function ep(){ls=Pr=!1;var e=0;Pn!==0&&_v()&&(e=Pn);for(var n=vt(),l=null,a=os;a!==null;){var f=a.next,m=tp(a,n);m===0?(a.next=null,l===null?os=f:l.next=f,f===null&&(Ki=l)):(l=a,(e!==0||(m&3)!==0)&&(ls=!0)),a=f}Qe!==0&&Qe!==5||Fo(e),Pn!==0&&(Pn=0)}function tp(e,n){for(var l=e.suspendedLanes,a=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var S=31-xt(m),E=1<<S,C=f[S];C===-1?((E&l)===0||(E&a)!==0)&&(f[S]=zg(E,n)):C<=n&&(e.expiredLanes|=E),m&=~E}if(n=Ge,l=_e,l=ul(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===n&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&js(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||ro(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(a!==null&&js(a),$s(l)){case 2:case 8:l=Fu;break;case 32:l=ll;break;case 268435456:l=Yu;break;default:l=ll}return a=np.bind(null,e),l=Ks(l,a),e.callbackPriority=n,e.callbackNode=l,n}return a!==null&&a!==null&&js(a),e.callbackPriority=2,e.callbackNode=null,2}function np(e,n){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(is()&&e.callbackNode!==l)return null;var a=_e;return a=ul(e,e===Ge?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Gf(e,a,n),tp(e,vt()),e.callbackNode!=null&&e.callbackNode===l?np.bind(null,e):null)}function ip(e,n){if(is())return null;Gf(e,n,!0)}function mv(){Av(function(){(Me&6)!==0?Ks(Ou,pv):ep()})}function Hr(){if(Pn===0){var e=Ui;e===0&&(e=sl,sl<<=1,(sl&261888)===0&&(sl=256)),Pn=e}return Pn}function op(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pl(""+e)}function lp(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function hv(e,n,l,a,f){if(n==="submit"&&l&&l.stateNode===f){var m=op((f[ct]||null).action),S=a.submitter;S&&(n=(n=S[ct]||null)?op(n.formAction):S.getAttribute("formAction"),n!==null&&(m=n,S=null));var E=new vl("action","action",null,a,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Pn!==0){var C=S?lp(f,S):new FormData(f);or(l,{pending:!0,data:C,method:f.method,action:m},null,C)}}else typeof m=="function"&&(E.preventDefault(),C=S?lp(f,S):new FormData(f),or(l,{pending:!0,data:C,method:f.method,action:m},m,C))},currentTarget:f}]})}}for(var Vr=0;Vr<Ta.length;Vr++){var zr=Ta[Vr],gv=zr.toLowerCase(),vv=zr[0].toUpperCase()+zr.slice(1);Vt(gv,"on"+vv)}Vt(Lc,"onAnimationEnd"),Vt(Pc,"onAnimationIteration"),Vt(Gc,"onAnimationStart"),Vt("dblclick","onDoubleClick"),Vt("focusin","onFocus"),Vt("focusout","onBlur"),Vt(U0,"onTransitionRun"),Vt(k0,"onTransitionStart"),Vt(L0,"onTransitionCancel"),Vt(Hc,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yo));function sp(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],f=a.event;a=a.listeners;e:{var m=void 0;if(n)for(var S=a.length-1;0<=S;S--){var E=a[S],C=E.instance,U=E.currentTarget;if(E=E.listener,C!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=U;try{m(f)}catch(z){Sl(z)}f.currentTarget=null,m=C}else for(S=0;S<a.length;S++){if(E=a[S],C=E.instance,U=E.currentTarget,E=E.listener,C!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=U;try{m(f)}catch(z){Sl(z)}f.currentTarget=null,m=C}}}}function Ee(e,n){var l=n[Ws];l===void 0&&(l=n[Ws]=new Set);var a=e+"__bubble";l.has(a)||(ap(n,e,2,!1),l.add(a))}function qr(e,n,l){var a=0;n&&(a|=4),ap(l,e,a,n)}var ss="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[ss]){e[ss]=!0,Wu.forEach(function(l){l!=="selectionchange"&&(yv.has(l)||qr(l,!1,e),qr(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ss]||(n[ss]=!0,qr("selectionchange",!1,n))}}function ap(e,n,l,a){switch(Pp(n)){case 2:var f=Jv;break;case 8:f=Xv;break;default:f=iu}l=f.bind(null,n,l,e),f=void 0,!ra||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),a?f!==void 0?e.addEventListener(n,l,{capture:!0,passive:f}):e.addEventListener(n,l,!0):f!==void 0?e.addEventListener(n,l,{passive:f}):e.addEventListener(n,l,!1)}function Or(e,n,l,a,f){var m=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var S=a.tag;if(S===3||S===4){var E=a.stateNode.containerInfo;if(E===f)break;if(S===4)for(S=a.return;S!==null;){var C=S.tag;if((C===3||C===4)&&S.stateNode.containerInfo===f)return;S=S.return}for(;E!==null;){if(S=gi(E),S===null)return;if(C=S.tag,C===5||C===6||C===26||C===27){a=m=S;continue e}E=E.parentNode}}a=a.return}dc(function(){var U=m,z=sa(l),O=[];e:{var L=Vc.get(e);if(L!==void 0){var H=vl,oe=e;switch(e){case"keypress":if(hl(l)===0)break e;case"keydown":case"keyup":H=d0;break;case"focusin":oe="focus",H=fa;break;case"focusout":oe="blur",H=fa;break;case"beforeblur":case"afterblur":H=fa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Wg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m0;break;case Lc:case Pc:case Gc:H=n0;break;case Hc:H=g0;break;case"scroll":case"scrollend":H=Zg;break;case"wheel":H=y0;break;case"copy":case"cut":case"paste":H=o0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=gc;break;case"toggle":case"beforetoggle":H=S0}var de=(n&4)!==0,Le=!de&&(e==="scroll"||e==="scrollend"),I=de?L!==null?L+"Capture":null:L;de=[];for(var N=U,D;N!==null;){var q=N;if(D=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||D===null||I===null||(q=po(N,I),q!=null&&de.push(Jo(N,q,D))),Le)break;N=N.return}0<de.length&&(L=new H(L,oe,null,l,z),O.push({event:L,listeners:de}))}}if((n&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",L&&l!==la&&(oe=l.relatedTarget||l.fromElement)&&(gi(oe)||oe[hi]))break e;if((H||L)&&(L=z.window===z?z:(L=z.ownerDocument)?L.defaultView||L.parentWindow:window,H?(oe=l.relatedTarget||l.toElement,H=U,oe=oe?gi(oe):null,oe!==null&&(Le=d(oe),de=oe.tag,oe!==Le||de!==5&&de!==27&&de!==6)&&(oe=null)):(H=null,oe=U),H!==oe)){if(de=mc,q="onMouseLeave",I="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(de=gc,q="onPointerLeave",I="onPointerEnter",N="pointer"),Le=H==null?L:fo(H),D=oe==null?L:fo(oe),L=new de(q,N+"leave",H,l,z),L.target=Le,L.relatedTarget=D,q=null,gi(z)===U&&(de=new de(I,N+"enter",oe,l,z),de.target=D,de.relatedTarget=Le,q=de),Le=q,H&&oe)t:{for(de=xv,I=H,N=oe,D=0,q=I;q;q=de(q))D++;q=0;for(var re=N;re;re=de(re))q++;for(;0<D-q;)I=de(I),D--;for(;0<q-D;)N=de(N),q--;for(;D--;){if(I===N||N!==null&&I===N.alternate){de=I;break t}I=de(I),N=de(N)}de=null}else de=null;H!==null&&rp(O,L,H,de,!1),oe!==null&&Le!==null&&rp(O,Le,oe,de,!0)}}e:{if(L=U?fo(U):window,H=L.nodeName&&L.nodeName.toLowerCase(),H==="select"||H==="input"&&L.type==="file")var Ne=_c;else if(bc(L))if(Cc)Ne=M0;else{Ne=w0;var ae=N0}else H=L.nodeName,!H||H.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?U&&oa(U.elementType)&&(Ne=_c):Ne=R0;if(Ne&&(Ne=Ne(e,U))){Ec(O,Ne,l,z);break e}ae&&ae(e,L,U),e==="focusout"&&U&&L.type==="number"&&U.memoizedProps.value!=null&&ia(L,"number",L.value)}switch(ae=U?fo(U):window,e){case"focusin":(bc(ae)||ae.contentEditable==="true")&&(Ci=ae,ya=U,To=null);break;case"focusout":To=ya=Ci=null;break;case"mousedown":xa=!0;break;case"contextmenu":case"mouseup":case"dragend":xa=!1,Uc(O,l,z);break;case"selectionchange":if(D0)break;case"keydown":case"keyup":Uc(O,l,z)}var Se;if(ma)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else _i?Sc(e,l)&&(Ce="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(vc&&l.locale!=="ko"&&(_i||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&_i&&(Se=fc()):(Sn=z,ua="value"in Sn?Sn.value:Sn.textContent,_i=!0)),ae=as(U,Ce),0<ae.length&&(Ce=new hc(Ce,e,null,l,z),O.push({event:Ce,listeners:ae}),Se?Ce.data=Se:(Se=Tc(l),Se!==null&&(Ce.data=Se)))),(Se=b0?E0(e,l):_0(e,l))&&(Ce=as(U,"onBeforeInput"),0<Ce.length&&(ae=new hc("onBeforeInput","beforeinput",null,l,z),O.push({event:ae,listeners:Ce}),ae.data=Se)),hv(O,e,U,l,z)}sp(O,n)})}function Jo(e,n,l){return{instance:e,listener:n,currentTarget:l}}function as(e,n){for(var l=n+"Capture",a=[];e!==null;){var f=e,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=po(e,l),f!=null&&a.unshift(Jo(e,f,m)),f=po(e,n),f!=null&&a.push(Jo(e,f,m))),e.tag===3)return a;e=e.return}return[]}function xv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function rp(e,n,l,a,f){for(var m=n._reactName,S=[];l!==null&&l!==a;){var E=l,C=E.alternate,U=E.stateNode;if(E=E.tag,C!==null&&C===a)break;E!==5&&E!==26&&E!==27||U===null||(C=U,f?(U=po(l,m),U!=null&&S.unshift(Jo(l,U,C))):f||(U=po(l,m),U!=null&&S.push(Jo(l,U,C)))),l=l.return}S.length!==0&&e.push({event:n,listeners:S})}var Sv=/\r\n?/g,Tv=/\u0000|\uFFFD/g;function up(e){return(typeof e=="string"?e:""+e).replace(Sv,`
`).replace(Tv,"")}function cp(e,n){return n=up(n),up(e)===n}function ke(e,n,l,a,f,m){switch(l){case"children":typeof a=="string"?n==="body"||n==="textarea"&&a===""||Ti(e,a):(typeof a=="number"||typeof a=="bigint")&&n!=="body"&&Ti(e,""+a);break;case"className":dl(e,"class",a);break;case"tabIndex":dl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":dl(e,l,a);break;case"style":uc(e,a,m);break;case"data":if(n!=="object"){dl(e,"data",a);break}case"src":case"href":if(a===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=pl(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(n!=="input"&&ke(e,n,"name",f.name,f,null),ke(e,n,"formEncType",f.formEncType,f,null),ke(e,n,"formMethod",f.formMethod,f,null),ke(e,n,"formTarget",f.formTarget,f,null)):(ke(e,n,"encType",f.encType,f,null),ke(e,n,"method",f.method,f,null),ke(e,n,"target",f.target,f,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=pl(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Qt);break;case"onScroll":a!=null&&Ee("scroll",e);break;case"onScrollEnd":a!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=pl(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),cl(e,"popover",a);break;case"xlinkActuate":jt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":jt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":jt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":jt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":jt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":jt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":jt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":jt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":jt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":cl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=jg.get(l)||l,cl(e,l,a))}}function Fr(e,n,l,a,f,m){switch(l){case"style":uc(e,a,m);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Ti(e,a):(typeof a=="number"||typeof a=="bigint")&&Ti(e,""+a);break;case"onScroll":a!=null&&Ee("scroll",e);break;case"onScrollEnd":a!=null&&Ee("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Qt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ec.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),n=l.slice(2,f?l.length-7:void 0),m=e[ct]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(n,m,f),typeof a=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,a,f);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):cl(e,l,a)}}}function ot(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var a=!1,f=!1,m;for(m in l)if(l.hasOwnProperty(m)){var S=l[m];if(S!=null)switch(m){case"src":a=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ke(e,n,m,S,l,null)}}f&&ke(e,n,"srcSet",l.srcSet,l,null),a&&ke(e,n,"src",l.src,l,null);return;case"input":Ee("invalid",e);var E=m=S=f=null,C=null,U=null;for(a in l)if(l.hasOwnProperty(a)){var z=l[a];if(z!=null)switch(a){case"name":f=z;break;case"type":S=z;break;case"checked":C=z;break;case"defaultChecked":U=z;break;case"value":m=z;break;case"defaultValue":E=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:ke(e,n,a,z,l,null)}}lc(e,m,E,C,U,S,f,!1);return;case"select":Ee("invalid",e),a=S=m=null;for(f in l)if(l.hasOwnProperty(f)&&(E=l[f],E!=null))switch(f){case"value":m=E;break;case"defaultValue":S=E;break;case"multiple":a=E;default:ke(e,n,f,E,l,null)}n=m,l=S,e.multiple=!!a,n!=null?Si(e,!!a,n,!1):l!=null&&Si(e,!!a,l,!0);return;case"textarea":Ee("invalid",e),m=f=a=null;for(S in l)if(l.hasOwnProperty(S)&&(E=l[S],E!=null))switch(S){case"value":a=E;break;case"defaultValue":f=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:ke(e,n,S,E,l,null)}ac(e,a,f,m);return;case"option":for(C in l)if(l.hasOwnProperty(C)&&(a=l[C],a!=null))switch(C){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ke(e,n,C,a,l,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(a=0;a<Yo.length;a++)Ee(Yo[a],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in l)if(l.hasOwnProperty(U)&&(a=l[U],a!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ke(e,n,U,a,l,null)}return;default:if(oa(n)){for(z in l)l.hasOwnProperty(z)&&(a=l[z],a!==void 0&&Fr(e,n,z,a,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(a=l[E],a!=null&&ke(e,n,E,a,l,null))}function bv(e,n,l,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,S=null,E=null,C=null,U=null,z=null;for(H in l){var O=l[H];if(l.hasOwnProperty(H)&&O!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=O;default:a.hasOwnProperty(H)||ke(e,n,H,null,a,O)}}for(var L in a){var H=a[L];if(O=l[L],a.hasOwnProperty(L)&&(H!=null||O!=null))switch(L){case"type":m=H;break;case"name":f=H;break;case"checked":U=H;break;case"defaultChecked":z=H;break;case"value":S=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==O&&ke(e,n,L,H,a,O)}}na(e,S,E,C,U,z,m,f);return;case"select":H=S=E=L=null;for(m in l)if(C=l[m],l.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":H=C;default:a.hasOwnProperty(m)||ke(e,n,m,null,a,C)}for(f in a)if(m=a[f],C=l[f],a.hasOwnProperty(f)&&(m!=null||C!=null))switch(f){case"value":L=m;break;case"defaultValue":E=m;break;case"multiple":S=m;default:m!==C&&ke(e,n,f,m,a,C)}n=E,l=S,a=H,L!=null?Si(e,!!l,L,!1):!!a!=!!l&&(n!=null?Si(e,!!l,n,!0):Si(e,!!l,l?[]:"",!1));return;case"textarea":H=L=null;for(E in l)if(f=l[E],l.hasOwnProperty(E)&&f!=null&&!a.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ke(e,n,E,null,a,f)}for(S in a)if(f=a[S],m=l[S],a.hasOwnProperty(S)&&(f!=null||m!=null))switch(S){case"value":L=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&ke(e,n,S,f,a,m)}sc(e,L,H);return;case"option":for(var oe in l)if(L=l[oe],l.hasOwnProperty(oe)&&L!=null&&!a.hasOwnProperty(oe))switch(oe){case"selected":e.selected=!1;break;default:ke(e,n,oe,null,a,L)}for(C in a)if(L=a[C],H=l[C],a.hasOwnProperty(C)&&L!==H&&(L!=null||H!=null))switch(C){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:ke(e,n,C,L,a,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in l)L=l[de],l.hasOwnProperty(de)&&L!=null&&!a.hasOwnProperty(de)&&ke(e,n,de,null,a,L);for(U in a)if(L=a[U],H=l[U],a.hasOwnProperty(U)&&L!==H&&(L!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,n));break;default:ke(e,n,U,L,a,H)}return;default:if(oa(n)){for(var Le in l)L=l[Le],l.hasOwnProperty(Le)&&L!==void 0&&!a.hasOwnProperty(Le)&&Fr(e,n,Le,void 0,a,L);for(z in a)L=a[z],H=l[z],!a.hasOwnProperty(z)||L===H||L===void 0&&H===void 0||Fr(e,n,z,L,a,H);return}}for(var I in l)L=l[I],l.hasOwnProperty(I)&&L!=null&&!a.hasOwnProperty(I)&&ke(e,n,I,null,a,L);for(O in a)L=a[O],H=l[O],!a.hasOwnProperty(O)||L===H||L==null&&H==null||ke(e,n,O,L,a,H)}function dp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ev(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var f=l[a],m=f.transferSize,S=f.initiatorType,E=f.duration;if(m&&E&&dp(S)){for(S=0,E=f.responseEnd,a+=1;a<l.length;a++){var C=l[a],U=C.startTime;if(U>E)break;var z=C.transferSize,O=C.initiatorType;z&&dp(O)&&(C=C.responseEnd,S+=z*(C<E?1:(E-U)/(C-U)))}if(--a,n+=8*(m+S)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yr=null,Jr=null;function rs(e){return e.nodeType===9?e:e.ownerDocument}function fp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Xr(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kr=null;function _v(){var e=window.event;return e&&e.type==="popstate"?e===Kr?!1:(Kr=e,!0):(Kr=null,!1)}var mp=typeof setTimeout=="function"?setTimeout:void 0,Cv=typeof clearTimeout=="function"?clearTimeout:void 0,hp=typeof Promise=="function"?Promise:void 0,Av=typeof queueMicrotask=="function"?queueMicrotask:typeof hp<"u"?function(e){return hp.resolve(null).then(e).catch(Nv)}:mp;function Nv(e){setTimeout(function(){throw e})}function Gn(e){return e==="head"}function gp(e,n){var l=n,a=0;do{var f=l.nextSibling;if(e.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(f),$i(n);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Xo(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Xo(l);for(var m=l.firstChild;m;){var S=m.nextSibling,E=m.nodeName;m[co]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=S}}else l==="body"&&Xo(e.ownerDocument.body);l=f}while(l);$i(n)}function vp(e,n){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function jr(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":jr(l),ea(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function wv(e,n,l,a){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[co])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Lt(e.nextSibling),e===null)break}return null}function Rv(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Lt(e.nextSibling),e===null))return null;return e}function yp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Lt(e.nextSibling),e===null))return null;return e}function Qr(e){return e.data==="$?"||e.data==="$~"}function Zr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Mv(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var a=function(){n(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Lt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var $r=null;function xp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Lt(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Sp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function Tp(e,n,l){switch(n=rs(l),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Xo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ea(e)}var Pt=new Map,bp=new Set;function us(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pn=F.d;F.d={f:Iv,r:Dv,D:Uv,C:kv,L:Lv,m:Pv,X:Hv,S:Gv,M:Vv};function Iv(){var e=pn.f(),n=es();return e||n}function Dv(e){var n=vi(e);n!==null&&n.tag===5&&n.type==="form"?Hd(n):pn.r(e)}var ji=typeof document>"u"?null:document;function Ep(e,n,l){var a=ji;if(a&&typeof n=="string"&&n){var f=wt(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),bp.has(f)||(bp.add(f),e={rel:e,crossOrigin:l,href:n},a.querySelector(f)===null&&(n=a.createElement("link"),ot(n,"link",e),Ze(n),a.head.appendChild(n)))}}function Uv(e){pn.D(e),Ep("dns-prefetch",e,null)}function kv(e,n){pn.C(e,n),Ep("preconnect",e,n)}function Lv(e,n,l){pn.L(e,n,l);var a=ji;if(a&&e&&n){var f='link[rel="preload"][as="'+wt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+wt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+wt(l.imageSizes)+'"]')):f+='[href="'+wt(e)+'"]';var m=f;switch(n){case"style":m=Qi(e);break;case"script":m=Zi(e)}Pt.has(m)||(e=T({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),Pt.set(m,e),a.querySelector(f)!==null||n==="style"&&a.querySelector(Ko(m))||n==="script"&&a.querySelector(jo(m))||(n=a.createElement("link"),ot(n,"link",e),Ze(n),a.head.appendChild(n)))}}function Pv(e,n){pn.m(e,n);var l=ji;if(l&&e){var a=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+wt(a)+'"][href="'+wt(e)+'"]',m=f;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Zi(e)}if(!Pt.has(m)&&(e=T({rel:"modulepreload",href:e},n),Pt.set(m,e),l.querySelector(f)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(jo(m)))return}a=l.createElement("link"),ot(a,"link",e),Ze(a),l.head.appendChild(a)}}}function Gv(e,n,l){pn.S(e,n,l);var a=ji;if(a&&e){var f=yi(a).hoistableStyles,m=Qi(e);n=n||"default";var S=f.get(m);if(!S){var E={loading:0,preload:null};if(S=a.querySelector(Ko(m)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},l),(l=Pt.get(m))&&Wr(e,l);var C=S=a.createElement("link");Ze(C),ot(C,"link",e),C._p=new Promise(function(U,z){C.onload=U,C.onerror=z}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,cs(S,n,a)}S={type:"stylesheet",instance:S,count:1,state:E},f.set(m,S)}}}function Hv(e,n){pn.X(e,n);var l=ji;if(l&&e){var a=yi(l).hoistableScripts,f=Zi(e),m=a.get(f);m||(m=l.querySelector(jo(f)),m||(e=T({src:e,async:!0},n),(n=Pt.get(f))&&eu(e,n),m=l.createElement("script"),Ze(m),ot(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},a.set(f,m))}}function Vv(e,n){pn.M(e,n);var l=ji;if(l&&e){var a=yi(l).hoistableScripts,f=Zi(e),m=a.get(f);m||(m=l.querySelector(jo(f)),m||(e=T({src:e,async:!0,type:"module"},n),(n=Pt.get(f))&&eu(e,n),m=l.createElement("script"),Ze(m),ot(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},a.set(f,m))}}function _p(e,n,l,a){var f=(f=ye.current)?us(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=Qi(l.href),l=yi(f).hoistableStyles,a=l.get(n),a||(a={type:"style",instance:null,count:0,state:null},l.set(n,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Qi(l.href);var m=yi(f).hoistableStyles,S=m.get(e);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,S),(m=f.querySelector(Ko(e)))&&!m._p&&(S.instance=m,S.state.loading=5),Pt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Pt.set(e,l),m||zv(f,e,l,S.state))),n&&a===null)throw Error(s(528,""));return S}if(n&&a!==null)throw Error(s(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Zi(l),l=yi(f).hoistableScripts,a=l.get(n),a||(a={type:"script",instance:null,count:0,state:null},l.set(n,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Qi(e){return'href="'+wt(e)+'"'}function Ko(e){return'link[rel="stylesheet"]['+e+"]"}function Cp(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function zv(e,n,l,a){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?a.loading=1:(n=e.createElement("link"),a.preload=n,n.addEventListener("load",function(){return a.loading|=1}),n.addEventListener("error",function(){return a.loading|=2}),ot(n,"link",l),Ze(n),e.head.appendChild(n))}function Zi(e){return'[src="'+wt(e)+'"]'}function jo(e){return"script[async]"+e}function Ap(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var a=e.querySelector('style[data-href~="'+wt(l.href)+'"]');if(a)return n.instance=a,Ze(a),a;var f=T({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ze(a),ot(a,"style",f),cs(a,l.precedence,e),n.instance=a;case"stylesheet":f=Qi(l.href);var m=e.querySelector(Ko(f));if(m)return n.state.loading|=4,n.instance=m,Ze(m),m;a=Cp(l),(f=Pt.get(f))&&Wr(a,f),m=(e.ownerDocument||e).createElement("link"),Ze(m);var S=m;return S._p=new Promise(function(E,C){S.onload=E,S.onerror=C}),ot(m,"link",a),n.state.loading|=4,cs(m,l.precedence,e),n.instance=m;case"script":return m=Zi(l.src),(f=e.querySelector(jo(m)))?(n.instance=f,Ze(f),f):(a=l,(f=Pt.get(m))&&(a=T({},l),eu(a,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ze(f),ot(f,"link",a),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(a=n.instance,n.state.loading|=4,cs(a,l.precedence,e));return n.instance}function cs(e,n,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=a.length?a[a.length-1]:null,m=f,S=0;S<a.length;S++){var E=a[S];if(E.dataset.precedence===n)m=E;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function Wr(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function eu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ds=null;function Np(e,n,l){if(ds===null){var a=new Map,f=ds=new Map;f.set(l,a)}else f=ds,a=f.get(l),a||(a=new Map,f.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var m=l[f];if(!(m[co]||m[et]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(n)||"";S=e+S;var E=a.get(S);E?E.push(m):a.set(S,[m])}}return a}function wp(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function qv(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Rp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Bv(e,n,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=Qi(a.href),m=n.querySelector(Ko(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=fs.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=m,Ze(m);return}m=n.ownerDocument||n,a=Cp(a),(f=Pt.get(f))&&Wr(a,f),m=m.createElement("link"),Ze(m);var S=m;S._p=new Promise(function(E,C){S.onload=E,S.onerror=C}),ot(m,"link",a),l.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=fs.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var tu=0;function Ov(e,n){return e.stylesheets&&e.count===0&&ms(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&ms(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&tu===0&&(tu=62500*Ev());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ms(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>tu?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(f)}}:null}function fs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ms(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ps=null;function ms(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ps=new Map,n.forEach(Fv,e),ps=null,fs.call(e))}function Fv(e,n){if(!(n.state.loading&4)){var l=ps.get(e);if(l)var a=l.get(null);else{l=new Map,ps.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var S=f[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),a=S)}a&&l.set(null,a)}f=n.instance,S=f.getAttribute("data-precedence"),m=l.get(S)||a,m===a&&l.set(null,f),l.set(S,f),this.count++,a=fs.bind(this),f.addEventListener("load",a),f.addEventListener("error",a),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Qo={$$typeof:G,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function Yv(e,n,l,a,f,m,S,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qs(0),this.hiddenUpdates=Qs(null),this.identifierPrefix=a,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Mp(e,n,l,a,f,m,S,E,C,U,z,O){return e=new Yv(e,n,l,S,C,U,z,O,E),n=1,m===!0&&(n|=24),m=Tt(3,null,null,n),e.current=m,m.stateNode=e,n=ka(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:a,isDehydrated:l,cache:n},Ha(m),e}function Ip(e){return e?(e=wi,e):wi}function Dp(e,n,l,a,f,m){f=Ip(f),a.context===null?a.context=f:a.pendingContext=f,a=An(n),a.payload={element:l},m=m===void 0?null:m,m!==null&&(a.callback=m),l=Nn(e,a,n),l!==null&&(gt(l,e,n),wo(l,e,n))}function Up(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function nu(e,n){Up(e,n),(e=e.alternate)&&Up(e,n)}function kp(e){if(e.tag===13||e.tag===31){var n=Wn(e,67108864);n!==null&&gt(n,e,67108864),nu(e,67108864)}}function Lp(e){if(e.tag===13||e.tag===31){var n=At();n=Zs(n);var l=Wn(e,n);l!==null&&gt(l,e,n),nu(e,n)}}var hs=!0;function Jv(e,n,l,a){var f=M.T;M.T=null;var m=F.p;try{F.p=2,iu(e,n,l,a)}finally{F.p=m,M.T=f}}function Xv(e,n,l,a){var f=M.T;M.T=null;var m=F.p;try{F.p=8,iu(e,n,l,a)}finally{F.p=m,M.T=f}}function iu(e,n,l,a){if(hs){var f=ou(a);if(f===null)Or(e,n,a,gs,l),Gp(e,a);else if(jv(f,e,n,l,a))a.stopPropagation();else if(Gp(e,a),n&4&&-1<Kv.indexOf(e)){for(;f!==null;){var m=vi(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=Kn(m.pendingLanes);if(S!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;S;){var C=1<<31-xt(S);E.entanglements[1]|=C,S&=~C}Kt(m),(Me&6)===0&&($l=vt()+500,Fo(0))}}break;case 31:case 13:E=Wn(m,2),E!==null&&gt(E,m,2),es(),nu(m,2)}if(m=ou(a),m===null&&Or(e,n,a,gs,l),m===f)break;f=m}f!==null&&a.stopPropagation()}else Or(e,n,a,null,l)}}function ou(e){return e=sa(e),lu(e)}var gs=null;function lu(e){if(gs=null,e=gi(e),e!==null){var n=d(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=p(n),e!==null)return e;e=null}else if(l===31){if(e=v(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return gs=e,null}function Pp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ug()){case Ou:return 2;case Fu:return 8;case ll:case kg:return 32;case Yu:return 268435456;default:return 32}default:return 32}}var su=!1,Hn=null,Vn=null,zn=null,Zo=new Map,$o=new Map,qn=[],Kv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gp(e,n){switch(e){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":Zo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(n.pointerId)}}function Wo(e,n,l,a,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:l,eventSystemFlags:a,nativeEvent:m,targetContainers:[f]},n!==null&&(n=vi(n),n!==null&&kp(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function jv(e,n,l,a,f){switch(n){case"focusin":return Hn=Wo(Hn,e,n,l,a,f),!0;case"dragenter":return Vn=Wo(Vn,e,n,l,a,f),!0;case"mouseover":return zn=Wo(zn,e,n,l,a,f),!0;case"pointerover":var m=f.pointerId;return Zo.set(m,Wo(Zo.get(m)||null,e,n,l,a,f)),!0;case"gotpointercapture":return m=f.pointerId,$o.set(m,Wo($o.get(m)||null,e,n,l,a,f)),!0}return!1}function Hp(e){var n=gi(e.target);if(n!==null){var l=d(n);if(l!==null){if(n=l.tag,n===13){if(n=p(l),n!==null){e.blockedOn=n,Zu(e.priority,function(){Lp(l)});return}}else if(n===31){if(n=v(l),n!==null){e.blockedOn=n,Zu(e.priority,function(){Lp(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vs(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=ou(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);la=a,l.target.dispatchEvent(a),la=null}else return n=vi(l),n!==null&&kp(n),e.blockedOn=l,!1;n.shift()}return!0}function Vp(e,n,l){vs(e)&&l.delete(n)}function Qv(){su=!1,Hn!==null&&vs(Hn)&&(Hn=null),Vn!==null&&vs(Vn)&&(Vn=null),zn!==null&&vs(zn)&&(zn=null),Zo.forEach(Vp),$o.forEach(Vp)}function ys(e,n){e.blockedOn===n&&(e.blockedOn=null,su||(su=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Qv)))}var xs=null;function zp(e){xs!==e&&(xs=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){xs===e&&(xs=null);for(var n=0;n<e.length;n+=3){var l=e[n],a=e[n+1],f=e[n+2];if(typeof a!="function"){if(lu(a||l)===null)continue;break}var m=vi(l);m!==null&&(e.splice(n,3),n-=3,or(m,{pending:!0,data:f,method:l.method,action:a},a,f))}}))}function $i(e){function n(C){return ys(C,e)}Hn!==null&&ys(Hn,e),Vn!==null&&ys(Vn,e),zn!==null&&ys(zn,e),Zo.forEach(n),$o.forEach(n);for(var l=0;l<qn.length;l++){var a=qn[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<qn.length&&(l=qn[0],l.blockedOn===null);)Hp(l),l.blockedOn===null&&qn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var f=l[a],m=l[a+1],S=f[ct]||null;if(typeof m=="function")S||zp(l);else if(S){var E=null;if(m&&m.hasAttribute("formAction")){if(f=m,S=m[ct]||null)E=S.formAction;else if(lu(f)!==null)continue}else E=S.action;typeof E=="function"?l[a+1]=E:(l.splice(a,3),a-=3),zp(l)}}}function qp(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(S){return f=S})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function au(e){this._internalRoot=e}Ss.prototype.render=au.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var l=n.current,a=At();Dp(l,a,e,n,null,null)},Ss.prototype.unmount=au.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Dp(e.current,2,null,e,null,null),es(),n[hi]=null}};function Ss(e){this._internalRoot=e}Ss.prototype.unstable_scheduleHydration=function(e){if(e){var n=Qu();e={blockedOn:null,target:e,priority:n};for(var l=0;l<qn.length&&n!==0&&n<qn[l].priority;l++);qn.splice(l,0,e),l===0&&Hp(e)}};var Bp=t.version;if(Bp!=="19.2.3")throw Error(s(527,Bp,"19.2.3"));F.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=h(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Zv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ts.isDisabled&&Ts.supportsFiber)try{ao=Ts.inject(Zv),yt=Ts}catch{}}return tl.createRoot=function(e,n){if(!r(e))throw Error(s(299));var l=!1,a="",f=Kd,m=jd,S=Qd;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=Mp(e,1,!1,null,null,l,a,null,f,m,S,qp),e[hi]=n.current,Br(e),new au(n)},tl.hydrateRoot=function(e,n,l){if(!r(e))throw Error(s(299));var a=!1,f="",m=Kd,S=jd,E=Qd,C=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.formState!==void 0&&(C=l.formState)),n=Mp(e,1,!0,n,l??null,a,f,C,m,S,E,qp),n.context=Ip(null),l=n.current,a=At(),a=Zs(a),f=An(a),f.callback=null,Nn(l,f,a),l=a,n.current.lanes=l,uo(n,l),Kt(n),e[hi]=n.current,Br(e),new Ss(n)},tl.version="19.2.3",tl}var $p;function ry(){if($p)return cu.exports;$p=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),cu.exports=ay(),cu.exports}var uy=ry();const cy=kh(uy),dy=i=>new Promise(t=>setTimeout(t,i));class fy{get(t){const o=localStorage.getItem(t);return o?JSON.parse(o):null}set(t,o){localStorage.setItem(t,JSON.stringify(o)),window.dispatchEvent(new Event("storage_update"))}async getUser(t){return await dy(30),(this.get("users")||{})[t]||null}async userExists(t){return!!(this.get("users")||{})[t]}async saveUser(t){const o=this.get("users")||{};o[t.studentId]=t,this.set("users",o)}async deleteUser(t){const o=this.get("users")||{};delete o[t],this.set("users",o)}async updatePassword(t,o){const s=this.get("users")||{};s[t]&&(s[t].passwordHash=o,s[t].requiresPasswordChange=!1,this.set("users",s))}async updateUserStatus(t,o){const s=this.get("users")||{};s[t]&&(s[t]={...s[t],...o},this.set("users",s))}async getAllUsers(){const t=this.get("users")||{};return Object.values(t)}async getPosts(){return this.get("posts")||[]}async savePost(t){const o=this.get("posts")||[],s=o.findIndex(r=>r.id===t.id);s>=0?o[s]=t:o.unshift(t),this.set("posts",o)}async deletePost(t){const s=(this.get("posts")||[]).filter(r=>r.id!==t);this.set("posts",s)}async deleteComment(t,o){let s=this.get("posts")||[];const r=s.findIndex(d=>d.id===t);if(r!==-1){const d=s[r];if(d.comments){const p=d.comments.filter(y=>y.id!==o),v={...d,comments:p};s[r]=v,this.set("posts",s)}}}async getArtPieces(){return this.get("art_pieces")||[]}async uploadArt(t){const o=this.get("art_pieces")||[];o.unshift(t),this.set("art_pieces",o)}async deleteArt(t){const s=(this.get("art_pieces")||[]).filter(r=>r.id!==t);this.set("art_pieces",s)}async purchaseArt(t,o){const s=this.get("users")||{},r=this.get("art_pieces")||[],d=s[t],p=r.findIndex(x=>x.id===o);if(!d)return{success:!1,message:"User identity not found in database."};if(p===-1)return{success:!1,message:"Asset record not found."};const v=r[p];if(v.ownerId)return{success:!1,message:"Asset already requisitioned by another operative."};if(d.totalPoints<v.price)return{success:!1,message:"Insufficient point balance for acquisition."};d.totalPoints-=v.price,d.inventory=[...d.inventory||[],v.id],s[t]=d,v.ownerId=d.studentId,v.ownerName=d.username,r[p]=v,this.set("users",s),this.set("art_pieces",r);const y={id:`requisition-${Date.now()}`,buyerId:d.studentId,buyerName:d.username,artId:v.id,artTitle:v.title,price:v.price,timestamp:new Date().toISOString(),delivered:!1},h=this.get("purchase_logs")||[];return h.unshift(y),this.set("purchase_logs",h),{success:!0,message:"Asset secured successfully."}}async getPurchaseLogs(){return this.get("purchase_logs")||[]}async markDelivered(t){const o=this.get("purchase_logs")||[],s=o.findIndex(r=>r.id===t);s!==-1&&(o[s].delivered=!0,this.set("purchase_logs",o))}async getSettings(){return this.get("system_settings")||{minRankToPost:"2",allowPublicSignups:!0,allowGuestAccess:!0,emergencyLockdown:!1}}async updateSettings(t){const o=await this.getSettings();this.set("system_settings",{...o,...t})}async init(){if(!localStorage.getItem("users")){const t={studentId:"S253456",username:"Ace",passwordHash:"ayanokoji",currentRank:"Ace of Spades",currentCard:"A",totalPoints:1e6,joinDate:new Date().toISOString(),lastActive:new Date().toISOString(),yearGroup:13,house:"Phoenix",stats:{postsCreated:0,commentsCreated:0,votesGiven:0,resourcesShared:0,moderationsPerformed:0,minutesStudied:0},isAdmin:!0,requiresPasswordChange:!0,inventory:[]};this.set("users",{[t.studentId]:t})}localStorage.getItem("system_settings")||this.set("system_settings",{minRankToPost:"2",allowPublicSignups:!0,allowGuestAccess:!0,emergencyLockdown:!1})}}const pe=new fy,Fn={"2":{id:"2",name:"2 of Spades",minPoints:0,maxPoints:199,tier:"Prospect",permissions:["view","vote"],voteWeight:1},"3":{id:"3",name:"3 of Spades",minPoints:200,maxPoints:499,tier:"Student",permissions:["view","vote","post","comment"],voteWeight:1},"4":{id:"4",name:"4 of Spades",minPoints:500,maxPoints:999,tier:"Student",permissions:["view","vote","post","comment"],voteWeight:1},"5":{id:"5",name:"5 of Spades",minPoints:1e3,maxPoints:2499,tier:"Student",permissions:["view","vote","post","comment"],voteWeight:1},"6":{id:"6",name:"6 of Spades",minPoints:2500,maxPoints:4999,tier:"Contributor",permissions:["view","vote","post","comment","createPoll","award"],voteWeight:2},"7":{id:"7",name:"7 of Spades",minPoints:5e3,maxPoints:7999,tier:"Contributor",permissions:["view","vote","post","comment","createPoll","award"],voteWeight:2},"8":{id:"8",name:"8 of Spades",minPoints:8e3,maxPoints:11999,tier:"Contributor",permissions:["view","vote","post","comment","createPoll","award"],voteWeight:2},"9":{id:"9",name:"9 of Spades",minPoints:12e3,maxPoints:17999,tier:"Scholar",permissions:["view","vote","post","comment","createPoll","award","submitPolicy","studyGroups"],voteWeight:5},"10":{id:"10",name:"10 of Spades",minPoints:18e3,maxPoints:24999,tier:"Scholar",permissions:["view","vote","post","comment","createPoll","award","submitPolicy","studyGroups"],voteWeight:5},"J":{id:"J",name:"Jack of Spades",minPoints:25e3,maxPoints:34999,tier:"Voice",permissions:["view","vote","post","comment","createPoll","award","submitPolicy","studyGroups","instantPost","nominate"],voteWeight:10},"Q":{id:"Q",name:"Queen of Spades",minPoints:35e3,maxPoints:49999,tier:"Advisor",permissions:["view","vote","post","comment","createPoll","award","submitPolicy","studyGroups","instantPost","nominate","moderate","messageCouncil"],voteWeight:25},"K":{id:"K",name:"King of Spades",minPoints:5e4,maxPoints:74999,tier:"Council",permissions:["view","vote","post","comment","createPoll","award","submitPolicy","studyGroups","instantPost","nominate","moderate","messageCouncil","messageAce","createChallenge","finalModeration"],voteWeight:50},"A":{id:"A",name:"Ace of Spades",minPoints:75e3,maxPoints:9999999,tier:"President",permissions:["all"],voteWeight:100}},Rs={POST:0,VOTE_ACTION:10,STUDY_MINUTE:2},mn=({rankId:i,size:t="md",className:o=""})=>{const s={sm:"w-10 h-14 text-[10px] rounded",md:"w-28 h-40 text-xl rounded-xl",lg:"w-56 h-80 text-5xl rounded-2xl"},r="",d=i.replace("",""),p=["J","Q","K","A"].includes(d),v=d==="A";return g.jsxs("div",{className:`
      relative bg-[#080808] shadow-2xl 
      flex flex-col items-center justify-center font-display font-bold select-none
      border border-white/10 overflow-hidden text-neutral-200
      transition-all duration-500 group-hover:border-white/20
      ${s[t]} ${o}
      ${p?"shadow-[0_0_30px_rgba(226,177,91,0.1)] border-brand-gold/20":""}
      ${v?"shadow-[0_0_50px_rgba(217,35,35,0.25)] border-brand-red/40":""}
    `,children:[g.jsx("div",{className:"absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/brushed-alum.png')] mix-blend-overlay"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/5 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000 ease-in-out pointer-events-none z-20"}),g.jsx("div",{className:"absolute inset-0.5 border border-white/5 rounded-[inherit] pointer-events-none"}),g.jsxs("div",{className:"absolute top-1 left-1.5 leading-none flex flex-col items-center",children:[g.jsx("span",{className:`${v?"text-brand-red":p?"text-brand-gold":"text-neutral-300"} font-display tracking-tight`,children:d}),g.jsx("span",{className:"text-[0.5em] text-neutral-600",children:r})]}),g.jsx("div",{className:`relative z-10 transform group-hover:scale-110 transition-transform duration-500 flex items-center justify-center h-full
            ${v?"text-brand-red drop-shadow-[0_0_15px_rgba(217,35,35,0.6)] text-2xl md:text-6xl":p?"text-brand-gold drop-shadow-[0_0_10px_rgba(226,177,91,0.4)]":"text-neutral-800"}
        `,children:g.jsx("span",{className:t==="sm"&&v?"text-xl":"",children:r})}),t==="lg"&&g.jsx("div",{className:`absolute inset-0 flex items-center justify-center opacity-5 font-black text-9xl pointer-events-none 
                ${v?"text-brand-red":"text-white"}`,children:d}),g.jsxs("div",{className:"absolute bottom-1 right-1.5 leading-none flex flex-col items-center rotate-180",children:[g.jsx("span",{className:`${v?"text-brand-red":p?"text-brand-gold":"text-neutral-300"} font-display tracking-tight`,children:d}),g.jsx("span",{className:"text-[0.5em] text-neutral-600",children:r})]}),v&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-brand-red/10 to-transparent opacity-50"}),g.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-2/3 bg-gradient-to-t from-brand-red/20 to-transparent blur-xl opacity-30 animate-pulse-slow"})]}),!v&&p&&g.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-brand-gold/5 via-transparent to-brand-gold/5 pointer-events-none"})]})},py=({user:i,activeTab:t,onTabChange:o,onLogout:s})=>{const r=[{id:"dashboard",label:"Dashboard",icon:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"},{id:"guide",label:"#SYSTEM GUIDE",icon:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},{id:"focus",label:"Focus Realm",icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},{id:"feed",label:"Global Network",icon:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"},{id:"gallery",label:"The Vault",icon:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},{id:"council",label:"Council Chamber",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"},{id:"leaderboard",label:"Elite Rankings",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"},{id:"settings",label:"Settings",icon:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}];return i.isAdmin&&r.push({id:"admin",label:"Ace Controls",icon:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"}),g.jsxs(g.Fragment,{children:[g.jsxs("aside",{className:"hidden md:flex flex-col w-72 h-screen fixed left-0 top-0 glass-panel border-r border-white/5 z-50",children:[g.jsxs("div",{className:"p-8 border-b border-white/5 relative overflow-hidden group",children:[g.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-brand-red shadow-[0_0_10px_#dc2626]"}),g.jsx("div",{className:"absolute inset-0 bg-brand-red/5 opacity-0 group-hover:opacity-100 transition-opacity duration-1000"}),g.jsx("h1",{className:"text-3xl font-display font-black text-white tracking-widest leading-none",children:"SPADES"}),g.jsx("p",{className:"text-[10px] text-brand-red mt-2 uppercase tracking-[0.3em] font-bold",children:"Presidential System"})]}),g.jsx("div",{className:"flex-1 overflow-y-auto py-8 space-y-2 px-4",children:r.map(d=>g.jsxs("button",{onClick:()=>o(d.id),className:`group w-full flex items-center gap-4 px-4 py-4 rounded-xl transition-all duration-300 relative overflow-hidden ${t===d.id?"bg-gradient-to-r from-brand-red/20 to-transparent text-white border border-brand-red/10 shadow-[0_0_15px_rgba(220,38,38,0.1)]":"text-neutral-500 hover:bg-white/5 hover:text-white border border-transparent"}`,children:[g.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-0.5 transition-all duration-300 ${t===d.id?"bg-brand-red opacity-100":"bg-brand-red opacity-0 group-hover:opacity-50"}`}),g.jsx("svg",{className:`w-5 h-5 transition-transform duration-300 ${t===d.id?"scale-110 text-brand-red":"group-hover:scale-110"} ${d.id==="guide"?"text-brand-gold":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:d.icon})}),g.jsx("span",{className:`font-display font-medium tracking-wide text-sm ${d.id==="guide"?"text-brand-gold font-bold":""}`,children:d.label})]},d.id))}),g.jsxs("div",{className:"p-4 mx-4 mb-4 rounded-xl bg-black/40 border border-white/10 relative overflow-hidden group hover:border-brand-gold/30 transition-colors duration-500",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-brand-gold/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),g.jsxs("div",{className:"flex gap-4 items-center mb-3",children:[g.jsx("div",{className:"shrink-0 transform group-hover:scale-105 transition-transform duration-500",children:g.jsx(mn,{rankId:i.currentCard,size:"sm"})}),g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsx("p",{className:"text-sm font-bold text-white truncate font-display tracking-wide",children:i.username}),g.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[g.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-brand-red animate-pulse"}),g.jsxs("p",{className:"text-[10px] text-neutral-400 font-mono truncate",children:[i.totalPoints.toLocaleString()," PTS"]})]})]})]}),g.jsx("button",{type:"button",onClick:d=>{d.preventDefault(),d.stopPropagation(),s()},className:"w-full py-2.5 rounded-lg bg-neutral-900 border border-white/5 hover:bg-red-950/20 hover:text-red-400 hover:border-red-900/30 text-[10px] text-neutral-500 font-bold uppercase tracking-widest transition-all relative z-10",children:"Terminate Session"})]})]}),g.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-black/95 backdrop-blur-xl border-t border-white/10 z-50 pb-safe",children:g.jsx("div",{className:"flex justify-around items-center h-20 px-2 overflow-x-auto",children:r.map(d=>g.jsxs("button",{onClick:()=>o(d.id),className:`flex flex-col items-center justify-center min-w-[60px] h-full space-y-1.5 transition-all duration-300 ${t===d.id?"text-brand-red":"text-neutral-600"}`,children:[g.jsx("div",{className:`p-1.5 rounded-full ${t===d.id?"bg-brand-red/10":""}`,children:g.jsx("svg",{className:`w-5 h-5 ${d.id==="guide"?"text-brand-gold":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:d.icon})})}),g.jsx("span",{className:"text-[9px] uppercase font-bold tracking-wider",children:d.id==="guide"?"GUIDE":d.label.split(" ")[0]})]},d.id))})})]})};var my={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let hy,gy;function vy(){return{geminiUrl:hy,vertexUrl:gy}}function yy(i,t,o,s){var r,d;if(!(i!=null&&i.baseUrl)){const p=vy();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(d=p.geminiUrl)!==null&&d!==void 0?d:s}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gn{}function ee(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(s,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const d=t[r];return d!=null?String(d):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,o){for(let d=0;d<t.length-1;d++){const p=t[d];if(p.endsWith("[]")){const v=p.slice(0,-2);if(!(v in i))if(Array.isArray(o))i[v]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[v])){const y=i[v];if(Array.isArray(o))for(let h=0;h<y.length;h++){const x=y[h];c(x,t.slice(d+1),o[h])}else for(const h of y)c(h,t.slice(d+1),o)}return}else if(p.endsWith("[0]")){const v=p.slice(0,-3);v in i||(i[v]=[{}]);const y=i[v];c(y[0],t.slice(d+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const s=t[t.length-1],r=i[s];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[s]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let s=0;s<t.length;s++){if(typeof i!="object"||i===null)return o;const r=t[s];if(r.endsWith("[]")){const d=r.slice(0,-2);if(d in i){const p=i[d];return Array.isArray(p)?p.map(v=>u(v,t.slice(s+1),o)):o}else return o}else i=i[r]}return i}catch(s){if(s instanceof TypeError)return o;throw s}}function xy(i,t){for(const[o,s]of Object.entries(t)){const r=o.split("."),d=s.split("."),p=new Set;let v=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){v=y;break}if(v!==-1&&d.length>v)for(let y=v;y<d.length;y++){const h=d[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}gu(i,r,d,0,p)}}function gu(i,t,o,s,r){if(s>=t.length||typeof i!="object"||i===null)return;const d=t[s];if(d.endsWith("[]")){const p=d.slice(0,-2),v=i;if(p in v&&Array.isArray(v[p]))for(const y of v[p])gu(y,t,o,s+1,r)}else if(d==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,v=Object.keys(p).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of v)y[h]=p[h];for(const[h,x]of Object.entries(y)){const T=[];for(const b of o.slice(s))b==="*"?T.push(h):T.push(b);c(p,T,x)}for(const h of v)delete p[h]}}else{const p=i;d in p&&gu(p[d],t,o,s+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Iu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sy(i){const t={},o=u(i,["operationName"]);o!=null&&c(t,["operationName"],o);const s=u(i,["resourceName"]);return s!=null&&c(t,["_url","resourceName"],s),t}function Ty(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],Ey(p)),t}function by(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],_y(p)),t}function Ey(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>Cy(p))),c(t,["generatedVideos"],d)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function _y(i){const t={},o=u(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>Ay(p))),c(t,["generatedVideos"],d)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Cy(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],Dy(o)),t}function Ay(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],Uy(o)),t}function Ny(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function wy(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function Ry(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],My(p)),t}function My(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Lh(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],Iy(p)),t}function Iy(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Dy(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const s=u(i,["encodedVideo"]);s!=null&&c(t,["videoBytes"],Iu(s));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function Uy(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const s=u(i,["bytesBase64Encoded"]);s!=null&&c(t,["videoBytes"],Iu(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wp;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Wp||(Wp={}));var em;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(em||(em={}));var tm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(tm||(tm={}));var On;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(On||(On={}));var nm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(nm||(nm={}));var im;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(im||(im={}));var om;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(om||(om={}));var lm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(lm||(lm={}));var sm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(sm||(sm={}));var am;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(am||(am={}));var rm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(rm||(rm={}));var um;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(um||(um={}));var cm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(cm||(cm={}));var dm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(dm||(dm={}));var fm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(fm||(fm={}));var pm;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(pm||(pm={}));var mm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(mm||(mm={}));var hm;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(hm||(hm={}));var gm;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(gm||(gm={}));var Ms;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Ms||(Ms={}));var vm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(vm||(vm={}));var ym;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ym||(ym={}));var xm;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(xm||(xm={}));var vu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(vu||(vu={}));var Sm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Sm||(Sm={}));var Tm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Tm||(Tm={}));var bm;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(bm||(bm={}));var Em;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Em||(Em={}));var _m;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(_m||(_m={}));var Cm;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Cm||(Cm={}));var Am;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Am||(Am={}));var Nm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Nm||(Nm={}));var wm;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(wm||(wm={}));var Rm;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Rm||(Rm={}));var Mm;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Mm||(Mm={}));var Im;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Im||(Im={}));var Dm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Dm||(Dm={}));var Um;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Um||(Um={}));var km;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(km||(km={}));var Lm;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Lm||(Lm={}));var Pm;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Pm||(Pm={}));var Gm;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Gm||(Gm={}));var Hm;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Hm||(Hm={}));var Vm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Vm||(Vm={}));var zm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(zm||(zm={}));var qm;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(qm||(qm={}));var Bm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Bm||(Bm={}));var Om;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Om||(Om={}));var Fm;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Fm||(Fm={}));var Ym;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ym||(Ym={}));var Jm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Jm||(Jm={}));var Xm;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Xm||(Xm={}));var Km;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Km||(Km={}));var jm;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(jm||(jm={}));var Qm;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Qm||(Qm={}));var eo;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(eo||(eo={}));class yu{constructor(t){const o={};for(const s of t.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class nl{get text(){var t,o,s,r,d,p,v,y;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",x=!1;const T=[];for(const b of(y=(v=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||v===void 0?void 0:v.parts)!==null&&y!==void 0?y:[]){for(const[_,w]of Object.entries(b))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(w!==null||w!==void 0)&&T.push(_);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;x=!0,h+=b.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?h:void 0}get data(){var t,o,s,r,d,p,v,y;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const x=[];for(const T of(y=(v=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||v===void 0?void 0:v.parts)!==null&&y!==void 0?y:[]){for(const[b,_]of Object.entries(T))b!=="inlineData"&&(_!==null||_!==void 0)&&x.push(b);T.inlineData&&typeof T.inlineData.data=="string"&&(h+=atob(T.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,o,s,r,d,p,v,y;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(v=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||v===void 0?void 0:v.parts)===null||y===void 0?void 0:y.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,o,s,r,d,p,v,y,h;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(y=(v=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||v===void 0?void 0:v.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(h=x==null?void 0:x[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,o,s,r,d,p,v,y,h;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(y=(v=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||v===void 0?void 0:v.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(h=x==null?void 0:x[0])===null||h===void 0?void 0:h.output}}class Zm{}class $m{}class ky{}class Ly{}class Py{}class Gy{}class Wm{}class eh{}class th{}class Hy{}class Is{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new Is;let r;const d=t;return o?r=by(d):r=Ty(d),Object.assign(s,r),s}}class nh{}class ih{}class oh{}class lh{}class Vy{}class zy{}class qy{}class Du{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new Du,d=Ry(t);return Object.assign(s,d),s}}class By{}class Oy{}class Fy{}class sh{}class Yy{get text(){var t,o,s;let r="",d=!1;const p=[];for(const v of(s=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,h]of Object.entries(v))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;d=!0,r+=v.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?r:void 0}get data(){var t,o,s;let r="";const d=[];for(const p of(s=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[v,y]of Object.entries(p))v!=="inlineData"&&y!==null&&d.push(v);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Jy{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Uu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new Uu,d=Lh(t);return Object.assign(s,d),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Re(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Ph(i,t){const o=Re(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function Gh(i){return Array.isArray(i)?i.map(t=>Ds(t)):[Ds(i)]}function Ds(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Hh(i){const t=Ds(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Vh(i){const t=Ds(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function ah(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function zh(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>ah(t)):[ah(i)]}function xu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function rh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function uh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function st(i){if(i==null)throw new Error("ContentUnion is required");return xu(i)?i:{role:"user",parts:zh(i)}}function ku(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const s=st(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(i.isVertexAI()){const o=st(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>st(o)):[st(t)]}function Gt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(rh(i)||uh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[st(i)]}const t=[],o=[],s=xu(i[0]);for(const r of i){const d=xu(r);if(d!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)t.push(r);else{if(rh(r)||uh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return s||t.push({role:"user",parts:zh(o)}),t}function Xy(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(s=>s!=="null");if(o.length===1)t.type=Object.values(On).includes(o[0].toUpperCase())?o[0].toUpperCase():On.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const s of o)t.anyOf.push({type:Object.values(On).includes(s.toUpperCase())?s.toUpperCase():On.TYPE_UNSPECIFIED})}}function no(i){const t={},o=["items"],s=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=i.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(t.nullable=!0,i=d[1]):d[1].type==="null"&&(t.nullable=!0,i=d[0])),i.type instanceof Array&&Xy(i.type,t);for(const[p,v]of Object.entries(i))if(v!=null)if(p=="type"){if(v==="null")throw new Error("type: null can not be the only possible type for the field.");if(v instanceof Array)continue;t.type=Object.values(On).includes(v.toUpperCase())?v.toUpperCase():On.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=no(v);else if(s.includes(p)){const y=[];for(const h of v){if(h.type=="null"){t.nullable=!0;continue}y.push(no(h))}t[p]=y}else if(r.includes(p)){const y={};for(const[h,x]of Object.entries(v))y[h]=no(x);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=v}return t}function Lu(i){return no(i)}function Pu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Gu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function oo(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=no(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=no(t.response));return i}function lo(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function Ky(i,t,o,s=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===s;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function vn(i,t){if(typeof t!="string")throw new Error("name must be a string");return Ky(i,t,"cachedContents")}function qh(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Yn(i){return Iu(i)}function jy(i){return i!=null&&typeof i=="object"&&"name"in i}function Qy(i){return i!=null&&typeof i=="object"&&"video"in i}function Zy(i){return i!=null&&typeof i=="object"&&"uri"in i}function Bh(i){var t;let o;if(jy(i)&&(o=i.name),!(Zy(i)&&(o=i.uri,o===void 0))&&!(Qy(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Oh(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function Fh(i){for(const t of["models","tunedModels","publisherModels"])if($y(i,t))return i[t];return[]}function $y(i,t){return i!==null&&typeof i=="object"&&t in i}function Wy(i,t={}){const o=i,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),t.behavior&&(s.behavior=t.behavior),{functionDeclarations:[s]}}function ex(i,t={}){const o=[],s=new Set;for(const r of i){const d=r.name;if(s.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);s.add(d);const p=Wy(r,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function Yh(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function tx(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Jh(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let d=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function so(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Xh(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nx(i){const t={},o=u(i,["responsesFile"]);o!=null&&c(t,["fileName"],o);const s=u(i,["inlinedResponses","inlinedResponses"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>Px(p))),c(t,["inlinedResponses"],d)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["inlinedEmbedContentResponses"],d)}return t}function ix(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&c(t,["format"],o);const s=u(i,["gcsDestination","outputUriPrefix"]);s!=null&&c(t,["gcsUri"],s);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function ox(i){const t={},o=u(i,["format"]);o!=null&&c(t,["predictionsFormat"],o);const s=u(i,["gcsUri"]);s!=null&&c(t,["gcsDestination","outputUriPrefix"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ns(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata","displayName"]);s!=null&&c(t,["displayName"],s);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],Xh(r));const d=u(i,["metadata","createTime"]);d!=null&&c(t,["createTime"],d);const p=u(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const v=u(i,["metadata","updateTime"]);v!=null&&c(t,["updateTime"],v);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&c(t,["dest"],nx(Jh(h))),t}function Su(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["displayName"]);s!=null&&c(t,["displayName"],s);const r=u(i,["state"]);r!=null&&c(t,["state"],Xh(r));const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["createTime"]);p!=null&&c(t,["createTime"],p);const v=u(i,["startTime"]);v!=null&&c(t,["startTime"],v);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(t,["updateTime"],h);const x=u(i,["model"]);x!=null&&c(t,["model"],x);const T=u(i,["inputConfig"]);T!=null&&c(t,["src"],lx(T));const b=u(i,["outputConfig"]);b!=null&&c(t,["dest"],ix(Jh(b)));const _=u(i,["completionStats"]);return _!=null&&c(t,["completionStats"],_),t}function lx(i){const t={},o=u(i,["instancesFormat"]);o!=null&&c(t,["format"],o);const s=u(i,["gcsSource","uris"]);s!=null&&c(t,["gcsUri"],s);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function sx(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=u(t,["fileName"]);s!=null&&c(o,["fileName"],s);const r=u(t,["inlinedRequests"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>Lx(i,p))),c(o,["requests","requests"],d)}return o}function ax(i){const t={},o=u(i,["format"]);o!=null&&c(t,["instancesFormat"],o);const s=u(i,["gcsUri"]);s!=null&&c(t,["gcsSource","uris"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function rx(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function ux(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],so(i,s)),o}function cx(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],so(i,s)),o}function dx(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const s=u(i,["citationMetadata"]);s!=null&&c(t,["citationMetadata"],fx(s));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const v=u(i,["groundingMetadata"]);v!=null&&c(t,["groundingMetadata"],v);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const x=u(i,["safetyRatings"]);if(x!=null){let b=x;Array.isArray(b)&&(b=b.map(_=>_)),c(t,["safetyRatings"],b)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function fx(i){const t={},o=u(i,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(t,["citations"],s)}return t}function Kh(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>Ox(d))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function px(i,t){const o={},s=u(i,["displayName"]);if(t!==void 0&&s!=null&&c(t,["batch","displayName"],s),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function mx(i,t){const o={},s=u(i,["displayName"]);t!==void 0&&s!=null&&c(t,["displayName"],s);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],ox(tx(r))),o}function ch(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Re(i,s));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],sx(i,Yh(i,r)));const d=u(t,["config"]);return d!=null&&px(d,o),o}function hx(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["model"],Re(i,s));const r=u(t,["src"]);r!=null&&c(o,["inputConfig"],ax(Yh(i,r)));const d=u(t,["config"]);return d!=null&&mx(d,o),o}function gx(i,t){const o={},s=u(i,["displayName"]);return t!==void 0&&s!=null&&c(t,["batch","displayName"],s),o}function vx(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Re(i,s));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],_x(i,r));const d=u(t,["config"]);return d!=null&&gx(d,o),o}function yx(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],so(i,s)),o}function xx(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],so(i,s)),o}function Sx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);return d!=null&&c(t,["error"],d),t}function Tx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);return d!=null&&c(t,["error"],d),t}function bx(i,t){const o={},s=u(t,["contents"]);if(s!=null){let d=ku(i,s);Array.isArray(d)&&(d=d.map(p=>p)),c(o,["requests[]","request","content"],d)}const r=u(t,["config"]);return r!=null&&(c(o,["_self"],Ex(r,o)),xy(o,{"requests[].*":"requests[].request.*"})),o}function Ex(i,t){const o={},s=u(i,["taskType"]);t!==void 0&&s!=null&&c(t,["requests[]","taskType"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function _x(i,t){const o={},s=u(t,["fileName"]);s!=null&&c(o,["file_name"],s);const r=u(t,["inlinedRequests"]);return r!=null&&c(o,["requests"],bx(i,r)),o}function Cx(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function Ax(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Nx(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const s=u(i,["allowedFunctionNames"]);if(s!=null&&c(t,["allowedFunctionNames"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function wx(i,t,o){const s={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Kh(st(r)));const d=u(t,["temperature"]);d!=null&&c(s,["temperature"],d);const p=u(t,["topP"]);p!=null&&c(s,["topP"],p);const v=u(t,["topK"]);v!=null&&c(s,["topK"],v);const y=u(t,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const x=u(t,["stopSequences"]);x!=null&&c(s,["stopSequences"],x);const T=u(t,["responseLogprobs"]);T!=null&&c(s,["responseLogprobs"],T);const b=u(t,["logprobs"]);b!=null&&c(s,["logprobs"],b);const _=u(t,["presencePenalty"]);_!=null&&c(s,["presencePenalty"],_);const w=u(t,["frequencyPenalty"]);w!=null&&c(s,["frequencyPenalty"],w);const k=u(t,["seed"]);k!=null&&c(s,["seed"],k);const R=u(t,["responseMimeType"]);R!=null&&c(s,["responseMimeType"],R);const P=u(t,["responseSchema"]);P!=null&&c(s,["responseSchema"],Lu(P));const j=u(t,["responseJsonSchema"]);if(j!=null&&c(s,["responseJsonSchema"],j),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const G=u(t,["safetySettings"]);if(o!==void 0&&G!=null){let ie=G;Array.isArray(ie)&&(ie=ie.map(ue=>Fx(ue))),c(o,["safetySettings"],ie)}const J=u(t,["tools"]);if(o!==void 0&&J!=null){let ie=lo(J);Array.isArray(ie)&&(ie=ie.map(ue=>Jx(oo(ue)))),c(o,["tools"],ie)}const $=u(t,["toolConfig"]);if(o!==void 0&&$!=null&&c(o,["toolConfig"],Yx($)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=u(t,["cachedContent"]);o!==void 0&&ne!=null&&c(o,["cachedContent"],vn(i,ne));const K=u(t,["responseModalities"]);K!=null&&c(s,["responseModalities"],K);const fe=u(t,["mediaResolution"]);fe!=null&&c(s,["mediaResolution"],fe);const te=u(t,["speechConfig"]);if(te!=null&&c(s,["speechConfig"],Pu(te)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ge=u(t,["thinkingConfig"]);ge!=null&&c(s,["thinkingConfig"],ge);const Te=u(t,["imageConfig"]);Te!=null&&c(s,["imageConfig"],kx(Te));const Y=u(t,["enableEnhancedCivicAnswers"]);return Y!=null&&c(s,["enableEnhancedCivicAnswers"],Y),s}function Rx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(h=>dx(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const v=u(i,["usageMetadata"]);return v!=null&&c(t,["usageMetadata"],v),t}function Mx(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],so(i,s)),o}function Ix(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],so(i,s)),o}function Dx(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function Ux(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function kx(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const s=u(i,["imageSize"]);if(s!=null&&c(t,["imageSize"],s),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Lx(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["request","model"],Re(i,s));const r=u(t,["contents"]);if(r!=null){let v=Gt(r);Array.isArray(v)&&(v=v.map(y=>Kh(y))),c(o,["request","contents"],v)}const d=u(t,["metadata"]);d!=null&&c(o,["metadata"],d);const p=u(t,["config"]);return p!=null&&c(o,["request","generationConfig"],wx(i,p,u(o,["request"],{}))),o}function Px(i){const t={},o=u(i,["response"]);o!=null&&c(t,["response"],Rx(o));const s=u(i,["error"]);return s!=null&&c(t,["error"],s),t}function Gx(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function Hx(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const d=u(i,["filter"]);return t!==void 0&&d!=null&&c(t,["_query","filter"],d),o}function Vx(i){const t={},o=u(i,["config"]);return o!=null&&Gx(o,t),t}function zx(i){const t={},o=u(i,["config"]);return o!=null&&Hx(o,t),t}function qx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["operations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>Ns(p))),c(t,["batchJobs"],d)}return t}function Bx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["batchPredictionJobs"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>Su(p))),c(t,["batchJobs"],d)}return t}function Ox(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],Cx(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],Ax(p));const v=u(i,["functionResponse"]);v!=null&&c(t,["functionResponse"],v);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],rx(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const b=u(i,["videoMetadata"]);return b!=null&&c(t,["videoMetadata"],b),t}function Fx(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&c(t,["threshold"],s),t}function Yx(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],Nx(o));const s=u(i,["retrievalConfig"]);return s!=null&&c(t,["retrievalConfig"],s),t}function Jx(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(T=>T)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const v=u(i,["googleMaps"]);v!=null&&c(t,["googleMaps"],Dx(v));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],Ux(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(hn||(hn={}));class pi{constructor(t,o,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,s,r)}init(t,o,s){var r,d;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!s||Object.keys(s).length===0?p={config:{}}:typeof s=="object"?p=Object.assign({},s):p=s,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(d=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xx extends gn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new pi(hn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=ch(this.apiClient,t),s=o._url,r=ee("{model}:batchGenerateContent",s),v=o.batch.inputConfig.requests,y=v.requests,h=[];for(const x of y){const T=Object.assign({},x);if(T.systemInstruction){const b=T.systemInstruction;delete T.systemInstruction;const _=T.request;_.systemInstruction=b,T.request=_}h.push(T)}return v.requests=h,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const s=o?Object.assign({},o):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const d=this.getGcsUri(t),p=this.getBigqueryUri(t);if(d)d.endsWith(".jsonl")?s.dest=`${d.slice(0,-6)}/dest`:s.dest=`${d}_dest_${r}`;else if(p)s.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=hx(this.apiClient,t);return v=ee("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>Su(x))}else{const h=ch(this.apiClient,t);return v=ee("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>Ns(x))}}async createEmbeddingsInternal(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=vx(this.apiClient,t);return d=ee("{model}:asyncBatchEmbedContent",v._url),p=v._query,delete v._url,delete v._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>Ns(y))}}async get(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=Ix(this.apiClient,t);return v=ee("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>Su(x))}else{const h=Mx(this.apiClient,t);return v=ee("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>Ns(x))}}async cancel(t){var o,s,r,d;let p="",v={};if(this.apiClient.isVertexAI()){const y=cx(this.apiClient,t);p=ee("batchPredictionJobs/{name}:cancel",y._url),v=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=ux(this.apiClient,t);p=ee("batches/{name}:cancel",y._url),v=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=zx(t);return v=ee("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>{const T=Bx(x),b=new sh;return Object.assign(b,T),b})}else{const h=Vx(t);return v=ee("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>{const T=qx(x),b=new sh;return Object.assign(b,T),b})}}async delete(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=xx(this.apiClient,t);return v=ee("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>Tx(x))}else{const h=yx(this.apiClient,t);return v=ee("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>Sx(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kx(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function dh(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>vS(d))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function jx(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let x=Gt(p);Array.isArray(x)&&(x=x.map(T=>dh(T))),c(t,["contents"],x)}const v=u(i,["systemInstruction"]);t!==void 0&&v!=null&&c(t,["systemInstruction"],dh(st(v)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(T=>xS(T))),c(t,["tools"],x)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&c(t,["toolConfig"],yS(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function Qx(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let T=Gt(p);Array.isArray(T)&&(T=T.map(b=>b)),c(t,["contents"],T)}const v=u(i,["systemInstruction"]);t!==void 0&&v!=null&&c(t,["systemInstruction"],st(v));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(b=>SS(b))),c(t,["tools"],T)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&c(t,["toolConfig"],h);const x=u(i,["kmsKeyName"]);return t!==void 0&&x!=null&&c(t,["encryption_spec","kmsKeyName"],x),o}function Zx(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["model"],Ph(i,s));const r=u(t,["config"]);return r!=null&&jx(r,o),o}function $x(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["model"],Ph(i,s));const r=u(t,["config"]);return r!=null&&Qx(r,o),o}function Wx(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],vn(i,s)),o}function eS(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],vn(i,s)),o}function tS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function nS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function iS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function oS(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function lS(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const s=u(i,["allowedFunctionNames"]);if(s!=null&&c(t,["allowedFunctionNames"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function sS(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const v=u(i,["responseJsonSchema"]);return v!=null&&c(t,["responseJsonSchema"],v),t}function aS(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],vn(i,s)),o}function rS(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],vn(i,s)),o}function uS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function cS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function dS(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function fS(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function pS(i){const t={},o=u(i,["config"]);return o!=null&&dS(o,t),t}function mS(i){const t={},o=u(i,["config"]);return o!=null&&fS(o,t),t}function hS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["cachedContents"],d)}return t}function gS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["cachedContents"],d)}return t}function vS(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],iS(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],oS(p));const v=u(i,["functionResponse"]);v!=null&&c(t,["functionResponse"],v);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Kx(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const b=u(i,["videoMetadata"]);return b!=null&&c(t,["videoMetadata"],b),t}function yS(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],lS(o));const s=u(i,["retrievalConfig"]);return s!=null&&c(t,["retrievalConfig"],s),t}function xS(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(T=>T)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const v=u(i,["googleMaps"]);v!=null&&c(t,["googleMaps"],uS(v));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],cS(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function SS(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(b=>sS(b))),c(t,["functionDeclarations"],T)}const s=u(i,["retrieval"]);s!=null&&c(t,["retrieval"],s);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const v=u(i,["enterpriseWebSearch"]);v!=null&&c(t,["enterpriseWebSearch"],v);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const x=u(i,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function TS(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function bS(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function ES(i,t){const o={},s=u(t,["name"]);s!=null&&c(o,["_url","name"],vn(i,s));const r=u(t,["config"]);return r!=null&&TS(r,o),o}function _S(i,t){const o={},s=u(t,["name"]);s!=null&&c(o,["_url","name"],vn(i,s));const r=u(t,["config"]);return r!=null&&bS(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CS extends gn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new pi(hn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=$x(this.apiClient,t);return v=ee("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>x)}else{const h=Zx(this.apiClient,t);return v=ee("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>x)}}async get(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=rS(this.apiClient,t);return v=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>x)}else{const h=aS(this.apiClient,t);return v=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>x)}}async delete(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=eS(this.apiClient,t);return v=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>{const T=nS(x),b=new oh;return Object.assign(b,T),b})}else{const h=Wx(this.apiClient,t);return v=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>{const T=tS(x),b=new oh;return Object.assign(b,T),b})}}async update(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=_S(this.apiClient,t);return v=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>x)}else{const h=ES(this.apiClient,t);return v=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>x)}}async listInternal(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=mS(t);return v=ee("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>{const T=gS(x),b=new lh;return Object.assign(b,T),b})}else{const h=pS(t);return v=ee("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>{const T=hS(x),b=new lh;return Object.assign(b,T),b})}}}function Us(i,t){var o={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(o[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(i);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(i,s[r])&&(o[s[r]]=i[s[r]]);return o}function fh(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],s=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function he(i){return this instanceof he?(this.v=i,this):new he(i)}function Bt(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(i,t||[]),r,d=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),v("next"),v("throw"),v("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(_){return function(w){return Promise.resolve(w).then(_,T)}}function v(_,w){s[_]&&(r[_]=function(k){return new Promise(function(R,P){d.push([_,k,R,P])>1||y(_,k)})},w&&(r[_]=w(r[_])))}function y(_,w){try{h(s[_](w))}catch(k){b(d[0][3],k)}}function h(_){_.value instanceof he?Promise.resolve(_.value.v).then(x,T):b(d[0][2],_)}function x(_){y("next",_)}function T(_){y("throw",_)}function b(_,w){_(w),d.shift(),d.length&&y(d[0][0],d[0][1])}}function Ot(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof fh=="function"?fh(i):i[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(d){o[d]=i[d]&&function(p){return new Promise(function(v,y){p=i[d](p),r(v,y,p.done,p.value)})}}function r(d,p,v,y){Promise.resolve(y).then(function(h){d({value:h,done:v})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AS(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:jh(o)}function jh(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function NS(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function ph(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let s=0;for(;s<o;)if(i[s].role==="user")t.push(i[s]),s++;else{const r=[];let d=!0;for(;s<o&&i[s].role==="model";)r.push(i[s]),d&&!jh(i[s])&&(d=!1),s++;d?t.push(...r):t.pop()}return t}class wS{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new RS(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class RS{constructor(t,o,s,r={},d=[]){this.apiClient=t,this.modelsModule=o,this.model=s,this.config=r,this.history=d,this.sendPromise=Promise.resolve(),NS(d)}async sendMessage(t){var o;await this.sendPromise;const s=st(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,p,v;const y=await r,h=(p=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content,x=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let b=[];x!=null&&(b=(v=x.slice(T))!==null&&v!==void 0?v:[]);const _=h?[h]:[];this.recordHistory(s,_,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const s=st(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const d=await r;return this.processStreamResponse(d,s)}getHistory(t=!1){const o=t?ph(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return Bt(this,arguments,function*(){var r,d,p,v,y,h;const x=[];try{for(var T=!0,b=Ot(t),_;_=yield he(b.next()),r=_.done,!r;T=!0){v=_.value,T=!1;const w=v;if(AS(w)){const k=(h=(y=w.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;k!==void 0&&x.push(k)}yield yield he(w)}}catch(w){d={error:w}}finally{try{!T&&!r&&(p=b.return)&&(yield he(p.call(b)))}finally{if(d)throw d.error}}this.recordHistory(o,x)})}recordHistory(t,o,s){let r=[];o.length>0&&o.every(d=>d.role!==void 0)?r=o:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...ph(s)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gs extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Gs.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MS(i){const t={},o=u(i,["file"]);return o!=null&&c(t,["file"],o),t}function IS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function DS(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],Bh(o)),t}function US(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function kS(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],Bh(o)),t}function LS(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function PS(i){const t={},o=u(i,["config"]);return o!=null&&LS(o,t),t}function GS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["files"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["files"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HS extends gn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new pi(hn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=PS(t);return d=ee("files",v._url),p=v._query,delete v._url,delete v._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const h=GS(y),x=new By;return Object.assign(x,h),x})}}async createInternal(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=MS(t);return d=ee("upload/v1beta/files",v._url),p=v._query,delete v._url,delete v._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=IS(y),x=new Oy;return Object.assign(x,h),x})}}async get(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=kS(t);return d=ee("files/{file}",v._url),p=v._query,delete v._url,delete v._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=DS(t);return d=ee("files/{file}",v._url),p=v._query,delete v._url,delete v._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const h=US(y),x=new Fy;return Object.assign(x,h),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ws(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function VS(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>tT(d))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function zS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function qS(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function BS(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const v=u(i,["responseJsonSchema"]);return v!=null&&c(t,["responseJsonSchema"],v),t}function OS(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const s=u(i,["responseJsonSchema"]);s!=null&&c(t,["responseJsonSchema"],s);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const v=u(i,["frequencyPenalty"]);v!=null&&c(t,["frequencyPenalty"],v);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const x=u(i,["mediaResolution"]);x!=null&&c(t,["mediaResolution"],x);const T=u(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const b=u(i,["responseLogprobs"]);b!=null&&c(t,["responseLogprobs"],b);const _=u(i,["responseMimeType"]);_!=null&&c(t,["responseMimeType"],_);const w=u(i,["responseModalities"]);w!=null&&c(t,["responseModalities"],w);const k=u(i,["responseSchema"]);k!=null&&c(t,["responseSchema"],k);const R=u(i,["routingConfig"]);R!=null&&c(t,["routingConfig"],R);const P=u(i,["seed"]);P!=null&&c(t,["seed"],P);const j=u(i,["speechConfig"]);j!=null&&c(t,["speechConfig"],j);const G=u(i,["stopSequences"]);G!=null&&c(t,["stopSequences"],G);const J=u(i,["temperature"]);J!=null&&c(t,["temperature"],J);const $=u(i,["thinkingConfig"]);$!=null&&c(t,["thinkingConfig"],$);const ne=u(i,["topK"]);ne!=null&&c(t,["topK"],ne);const K=u(i,["topP"]);if(K!=null&&c(t,["topP"],K),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function FS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function YS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function JS(i,t){const o={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const v=u(i,["topK"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","topK"],v);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const x=u(i,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Gu(T));const b=u(i,["thinkingConfig"]);t!==void 0&&b!=null&&c(t,["setup","generationConfig","thinkingConfig"],b);const _=u(i,["enableAffectiveDialog"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],_);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&c(t,["setup","systemInstruction"],VS(st(w)));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let ne=lo(k);Array.isArray(ne)&&(ne=ne.map(K=>iT(oo(K)))),c(t,["setup","tools"],ne)}const R=u(i,["sessionResumption"]);t!==void 0&&R!=null&&c(t,["setup","sessionResumption"],nT(R));const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&c(t,["setup","inputAudioTranscription"],P);const j=u(i,["outputAudioTranscription"]);t!==void 0&&j!=null&&c(t,["setup","outputAudioTranscription"],j);const G=u(i,["realtimeInputConfig"]);t!==void 0&&G!=null&&c(t,["setup","realtimeInputConfig"],G);const J=u(i,["contextWindowCompression"]);t!==void 0&&J!=null&&c(t,["setup","contextWindowCompression"],J);const $=u(i,["proactivity"]);if(t!==void 0&&$!=null&&c(t,["setup","proactivity"],$),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function XS(i,t){const o={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig"],OS(s));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const v=u(i,["topK"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","topK"],v);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const x=u(i,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Gu(T));const b=u(i,["thinkingConfig"]);t!==void 0&&b!=null&&c(t,["setup","generationConfig","thinkingConfig"],b);const _=u(i,["enableAffectiveDialog"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],_);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&c(t,["setup","systemInstruction"],st(w));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let K=lo(k);Array.isArray(K)&&(K=K.map(fe=>oT(oo(fe)))),c(t,["setup","tools"],K)}const R=u(i,["sessionResumption"]);t!==void 0&&R!=null&&c(t,["setup","sessionResumption"],R);const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&c(t,["setup","inputAudioTranscription"],P);const j=u(i,["outputAudioTranscription"]);t!==void 0&&j!=null&&c(t,["setup","outputAudioTranscription"],j);const G=u(i,["realtimeInputConfig"]);t!==void 0&&G!=null&&c(t,["setup","realtimeInputConfig"],G);const J=u(i,["contextWindowCompression"]);t!==void 0&&J!=null&&c(t,["setup","contextWindowCompression"],J);const $=u(i,["proactivity"]);t!==void 0&&$!=null&&c(t,["setup","proactivity"],$);const ne=u(i,["explicitVadSignal"]);return t!==void 0&&ne!=null&&c(t,["setup","explicitVadSignal"],ne),o}function KS(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["setup","model"],Re(i,s));const r=u(t,["config"]);return r!=null&&c(o,["config"],JS(r,o)),o}function jS(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["setup","model"],Re(i,s));const r=u(t,["config"]);return r!=null&&c(o,["config"],XS(r,o)),o}function QS(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function ZS(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(t,["weightedPrompts"],s)}return t}function $S(i){const t={},o=u(i,["media"]);if(o!=null){let h=Gh(o);Array.isArray(h)&&(h=h.map(x=>ws(x))),c(t,["mediaChunks"],h)}const s=u(i,["audio"]);s!=null&&c(t,["audio"],ws(Vh(s)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(t,["video"],ws(Hh(d)));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const v=u(i,["activityStart"]);v!=null&&c(t,["activityStart"],v);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function WS(i){const t={},o=u(i,["media"]);if(o!=null){let h=Gh(o);Array.isArray(h)&&(h=h.map(x=>x)),c(t,["mediaChunks"],h)}const s=u(i,["audio"]);s!=null&&c(t,["audio"],Vh(s));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(t,["video"],Hh(d));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const v=u(i,["activityStart"]);v!=null&&c(t,["activityStart"],v);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function eT(i){const t={},o=u(i,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const s=u(i,["serverContent"]);s!=null&&c(t,["serverContent"],s);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const d=u(i,["toolCallCancellation"]);d!=null&&c(t,["toolCallCancellation"],d);const p=u(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],lT(p));const v=u(i,["goAway"]);v!=null&&c(t,["goAway"],v);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const h=u(i,["voiceActivityDetectionSignal"]);return h!=null&&c(t,["voiceActivityDetectionSignal"],h),t}function tT(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],zS(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],qS(p));const v=u(i,["functionResponse"]);v!=null&&c(t,["functionResponse"],v);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],ws(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const b=u(i,["videoMetadata"]);return b!=null&&c(t,["videoMetadata"],b),t}function nT(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function iT(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(T=>T)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const v=u(i,["googleMaps"]);v!=null&&c(t,["googleMaps"],FS(v));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],YS(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function oT(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(b=>BS(b))),c(t,["functionDeclarations"],T)}const s=u(i,["retrieval"]);s!=null&&c(t,["retrieval"],s);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const v=u(i,["enterpriseWebSearch"]);v!=null&&c(t,["enterpriseWebSearch"],v);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const x=u(i,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function lT(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const s=u(i,["cachedContentTokenCount"]);s!=null&&c(t,["cachedContentTokenCount"],s);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const d=u(i,["toolUsePromptTokenCount"]);d!=null&&c(t,["toolUsePromptTokenCount"],d);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const v=u(i,["totalTokenCount"]);v!=null&&c(t,["totalTokenCount"],v);const y=u(i,["promptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(w=>w)),c(t,["promptTokensDetails"],_)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(w=>w)),c(t,["cacheTokensDetails"],_)}const x=u(i,["candidatesTokensDetails"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(w=>w)),c(t,["responseTokensDetails"],_)}const T=u(i,["toolUsePromptTokensDetails"]);if(T!=null){let _=T;Array.isArray(_)&&(_=_.map(w=>w)),c(t,["toolUsePromptTokensDetails"],_)}const b=u(i,["trafficType"]);return b!=null&&c(t,["trafficType"],b),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sT(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function aT(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const s=u(i,["citationMetadata"]);s!=null&&c(t,["citationMetadata"],rT(s));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const v=u(i,["groundingMetadata"]);v!=null&&c(t,["groundingMetadata"],v);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const x=u(i,["safetyRatings"]);if(x!=null){let b=x;Array.isArray(b)&&(b=b.map(_=>_)),c(t,["safetyRatings"],b)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function rT(i){const t={},o=u(i,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(t,["citations"],s)}return t}function uT(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Re(i,s));const r=u(t,["contents"]);if(r!=null){let d=Gt(r);Array.isArray(d)&&(d=d.map(p=>p)),c(o,["contents"],d)}return o}function cT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["tokensInfo"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["tokensInfo"],r)}return t}function dT(i){const t={},o=u(i,["values"]);o!=null&&c(t,["values"],o);const s=u(i,["statistics"]);return s!=null&&c(t,["statistics"],fT(s)),t}function fT(i){const t={},o=u(i,["truncated"]);o!=null&&c(t,["truncated"],o);const s=u(i,["token_count"]);return s!=null&&c(t,["tokenCount"],s),t}function Hs(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>Tb(d))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function pT(i){const t={},o=u(i,["controlType"]);o!=null&&c(t,["controlType"],o);const s=u(i,["enableControlImageComputation"]);return s!=null&&c(t,["computeControl"],s),t}function mT(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function hT(i,t){const o={},s=u(i,["systemInstruction"]);t!==void 0&&s!=null&&c(t,["systemInstruction"],st(s));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(v=>Wh(v))),c(t,["tools"],p)}const d=u(i,["generationConfig"]);return t!==void 0&&d!=null&&c(t,["generationConfig"],sb(d)),o}function gT(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Re(i,s));const r=u(t,["contents"]);if(r!=null){let p=Gt(r);Array.isArray(p)&&(p=p.map(v=>Hs(v))),c(o,["contents"],p)}const d=u(t,["config"]);return d!=null&&mT(d),o}function vT(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Re(i,s));const r=u(t,["contents"]);if(r!=null){let p=Gt(r);Array.isArray(p)&&(p=p.map(v=>v)),c(o,["contents"],p)}const d=u(t,["config"]);return d!=null&&hT(d,o),o}function yT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["totalTokens"]);s!=null&&c(t,["totalTokens"],s);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function xT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["totalTokens"]);return s!=null&&c(t,["totalTokens"],s),t}function ST(i,t){const o={},s=u(t,["model"]);return s!=null&&c(o,["_url","name"],Re(i,s)),o}function TT(i,t){const o={},s=u(t,["model"]);return s!=null&&c(o,["_url","name"],Re(i,s)),o}function bT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function ET(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function _T(i,t){const o={},s=u(i,["outputGcsUri"]);t!==void 0&&s!=null&&c(t,["parameters","storageUri"],s);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const v=u(i,["guidanceScale"]);t!==void 0&&v!=null&&c(t,["parameters","guidanceScale"],v);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const b=u(i,["includeRaiReason"]);t!==void 0&&b!=null&&c(t,["parameters","includeRaiReason"],b);const _=u(i,["language"]);t!==void 0&&_!=null&&c(t,["parameters","language"],_);const w=u(i,["outputMimeType"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","mimeType"],w);const k=u(i,["outputCompressionQuality"]);t!==void 0&&k!=null&&c(t,["parameters","outputOptions","compressionQuality"],k);const R=u(i,["addWatermark"]);t!==void 0&&R!=null&&c(t,["parameters","addWatermark"],R);const P=u(i,["labels"]);t!==void 0&&P!=null&&c(t,["labels"],P);const j=u(i,["editMode"]);t!==void 0&&j!=null&&c(t,["parameters","editMode"],j);const G=u(i,["baseSteps"]);return t!==void 0&&G!=null&&c(t,["parameters","editConfig","baseSteps"],G),o}function CT(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Re(i,s));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["referenceImages"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(y=>Nb(y))),c(o,["instances[0]","referenceImages"],v)}const p=u(t,["config"]);return p!=null&&_T(p,o),o}function AT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>Vs(d))),c(t,["generatedImages"],r)}return t}function NT(i,t){const o={},s=u(i,["taskType"]);t!==void 0&&s!=null&&c(t,["requests[]","taskType"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function wT(i,t){const o={},s=u(i,["taskType"]);t!==void 0&&s!=null&&c(t,["instances[]","task_type"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const d=u(i,["outputDimensionality"]);t!==void 0&&d!=null&&c(t,["parameters","outputDimensionality"],d);const p=u(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const v=u(i,["autoTruncate"]);return t!==void 0&&v!=null&&c(t,["parameters","autoTruncate"],v),o}function RT(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Re(i,s));const r=u(t,["contents"]);if(r!=null){let v=ku(i,r);Array.isArray(v)&&(v=v.map(y=>y)),c(o,["requests[]","content"],v)}const d=u(t,["config"]);d!=null&&NT(d,o);const p=u(t,["model"]);return p!==void 0&&c(o,["requests[]","model"],Re(i,p)),o}function MT(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Re(i,s));const r=u(t,["contents"]);if(r!=null){let p=ku(i,r);Array.isArray(p)&&(p=p.map(v=>v)),c(o,["instances[]","content"],p)}const d=u(t,["config"]);return d!=null&&wT(d,o),o}function IT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function DT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["predictions[]","embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>dT(p))),c(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function UT(i){const t={},o=u(i,["endpoint"]);o!=null&&c(t,["name"],o);const s=u(i,["deployedModelId"]);return s!=null&&c(t,["deployedModelId"],s),t}function kT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function LT(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function PT(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const s=u(i,["allowedFunctionNames"]);if(s!=null&&c(t,["allowedFunctionNames"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function GT(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const v=u(i,["responseJsonSchema"]);return v!=null&&c(t,["responseJsonSchema"],v),t}function HT(i,t,o){const s={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Hs(st(r)));const d=u(t,["temperature"]);d!=null&&c(s,["temperature"],d);const p=u(t,["topP"]);p!=null&&c(s,["topP"],p);const v=u(t,["topK"]);v!=null&&c(s,["topK"],v);const y=u(t,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const x=u(t,["stopSequences"]);x!=null&&c(s,["stopSequences"],x);const T=u(t,["responseLogprobs"]);T!=null&&c(s,["responseLogprobs"],T);const b=u(t,["logprobs"]);b!=null&&c(s,["logprobs"],b);const _=u(t,["presencePenalty"]);_!=null&&c(s,["presencePenalty"],_);const w=u(t,["frequencyPenalty"]);w!=null&&c(s,["frequencyPenalty"],w);const k=u(t,["seed"]);k!=null&&c(s,["seed"],k);const R=u(t,["responseMimeType"]);R!=null&&c(s,["responseMimeType"],R);const P=u(t,["responseSchema"]);P!=null&&c(s,["responseSchema"],Lu(P));const j=u(t,["responseJsonSchema"]);if(j!=null&&c(s,["responseJsonSchema"],j),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const G=u(t,["safetySettings"]);if(o!==void 0&&G!=null){let ie=G;Array.isArray(ie)&&(ie=ie.map(ue=>wb(ue))),c(o,["safetySettings"],ie)}const J=u(t,["tools"]);if(o!==void 0&&J!=null){let ie=lo(J);Array.isArray(ie)&&(ie=ie.map(ue=>Lb(oo(ue)))),c(o,["tools"],ie)}const $=u(t,["toolConfig"]);if(o!==void 0&&$!=null&&c(o,["toolConfig"],kb($)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=u(t,["cachedContent"]);o!==void 0&&ne!=null&&c(o,["cachedContent"],vn(i,ne));const K=u(t,["responseModalities"]);K!=null&&c(s,["responseModalities"],K);const fe=u(t,["mediaResolution"]);fe!=null&&c(s,["mediaResolution"],fe);const te=u(t,["speechConfig"]);if(te!=null&&c(s,["speechConfig"],Pu(te)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ge=u(t,["thinkingConfig"]);ge!=null&&c(s,["thinkingConfig"],ge);const Te=u(t,["imageConfig"]);Te!=null&&c(s,["imageConfig"],db(Te));const Y=u(t,["enableEnhancedCivicAnswers"]);return Y!=null&&c(s,["enableEnhancedCivicAnswers"],Y),s}function VT(i,t,o){const s={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],st(r));const d=u(t,["temperature"]);d!=null&&c(s,["temperature"],d);const p=u(t,["topP"]);p!=null&&c(s,["topP"],p);const v=u(t,["topK"]);v!=null&&c(s,["topK"],v);const y=u(t,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const x=u(t,["stopSequences"]);x!=null&&c(s,["stopSequences"],x);const T=u(t,["responseLogprobs"]);T!=null&&c(s,["responseLogprobs"],T);const b=u(t,["logprobs"]);b!=null&&c(s,["logprobs"],b);const _=u(t,["presencePenalty"]);_!=null&&c(s,["presencePenalty"],_);const w=u(t,["frequencyPenalty"]);w!=null&&c(s,["frequencyPenalty"],w);const k=u(t,["seed"]);k!=null&&c(s,["seed"],k);const R=u(t,["responseMimeType"]);R!=null&&c(s,["responseMimeType"],R);const P=u(t,["responseSchema"]);P!=null&&c(s,["responseSchema"],Lu(P));const j=u(t,["responseJsonSchema"]);j!=null&&c(s,["responseJsonSchema"],j);const G=u(t,["routingConfig"]);G!=null&&c(s,["routingConfig"],G);const J=u(t,["modelSelectionConfig"]);J!=null&&c(s,["modelConfig"],J);const $=u(t,["safetySettings"]);if(o!==void 0&&$!=null){let M=$;Array.isArray(M)&&(M=M.map(F=>F)),c(o,["safetySettings"],M)}const ne=u(t,["tools"]);if(o!==void 0&&ne!=null){let M=lo(ne);Array.isArray(M)&&(M=M.map(F=>Wh(oo(F)))),c(o,["tools"],M)}const K=u(t,["toolConfig"]);o!==void 0&&K!=null&&c(o,["toolConfig"],K);const fe=u(t,["labels"]);o!==void 0&&fe!=null&&c(o,["labels"],fe);const te=u(t,["cachedContent"]);o!==void 0&&te!=null&&c(o,["cachedContent"],vn(i,te));const ge=u(t,["responseModalities"]);ge!=null&&c(s,["responseModalities"],ge);const Te=u(t,["mediaResolution"]);Te!=null&&c(s,["mediaResolution"],Te);const Y=u(t,["speechConfig"]);Y!=null&&c(s,["speechConfig"],Pu(Y));const ie=u(t,["audioTimestamp"]);ie!=null&&c(s,["audioTimestamp"],ie);const ue=u(t,["thinkingConfig"]);ue!=null&&c(s,["thinkingConfig"],ue);const B=u(t,["imageConfig"]);if(B!=null&&c(s,["imageConfig"],fb(B)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}function mh(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Re(i,s));const r=u(t,["contents"]);if(r!=null){let p=Gt(r);Array.isArray(p)&&(p=p.map(v=>Hs(v))),c(o,["contents"],p)}const d=u(t,["config"]);return d!=null&&c(o,["generationConfig"],HT(i,d,o)),o}function hh(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Re(i,s));const r=u(t,["contents"]);if(r!=null){let p=Gt(r);Array.isArray(p)&&(p=p.map(v=>v)),c(o,["contents"],p)}const d=u(t,["config"]);return d!=null&&c(o,["generationConfig"],VT(i,d,o)),o}function gh(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(h=>aT(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const v=u(i,["usageMetadata"]);return v!=null&&c(t,["usageMetadata"],v),t}function vh(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(x=>x)),c(t,["candidates"],h)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const d=u(i,["modelVersion"]);d!=null&&c(t,["modelVersion"],d);const p=u(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const v=u(i,["responseId"]);v!=null&&c(t,["responseId"],v);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function zT(i,t){const o={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=u(i,["numberOfImages"]);t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const d=u(i,["guidanceScale"]);if(t!==void 0&&d!=null&&c(t,["parameters","guidanceScale"],d),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const x=u(i,["language"]);t!==void 0&&x!=null&&c(t,["parameters","language"],x);const T=u(i,["outputMimeType"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","mimeType"],T);const b=u(i,["outputCompressionQuality"]);if(t!==void 0&&b!=null&&c(t,["parameters","outputOptions","compressionQuality"],b),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=u(i,["imageSize"]);if(t!==void 0&&_!=null&&c(t,["parameters","sampleImageSize"],_),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function qT(i,t){const o={},s=u(i,["outputGcsUri"]);t!==void 0&&s!=null&&c(t,["parameters","storageUri"],s);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const v=u(i,["guidanceScale"]);t!==void 0&&v!=null&&c(t,["parameters","guidanceScale"],v);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const b=u(i,["includeRaiReason"]);t!==void 0&&b!=null&&c(t,["parameters","includeRaiReason"],b);const _=u(i,["language"]);t!==void 0&&_!=null&&c(t,["parameters","language"],_);const w=u(i,["outputMimeType"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","mimeType"],w);const k=u(i,["outputCompressionQuality"]);t!==void 0&&k!=null&&c(t,["parameters","outputOptions","compressionQuality"],k);const R=u(i,["addWatermark"]);t!==void 0&&R!=null&&c(t,["parameters","addWatermark"],R);const P=u(i,["labels"]);t!==void 0&&P!=null&&c(t,["labels"],P);const j=u(i,["imageSize"]);t!==void 0&&j!=null&&c(t,["parameters","sampleImageSize"],j);const G=u(i,["enhancePrompt"]);return t!==void 0&&G!=null&&c(t,["parameters","enhancePrompt"],G),o}function BT(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Re(i,s));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&zT(d,o),o}function OT(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Re(i,s));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&qT(d,o),o}function FT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>nb(p))),c(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Zh(r)),t}function YT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>Vs(p))),c(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],$h(r)),t}function JT(i,t){const o={},s=u(i,["numberOfVideos"]);if(t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(i,["aspectRatio"]);t!==void 0&&d!=null&&c(t,["parameters","aspectRatio"],d);const p=u(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const v=u(i,["personGeneration"]);if(t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const h=u(i,["enhancePrompt"]);if(t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=u(i,["lastFrame"]);t!==void 0&&x!=null&&c(t,["instances[0]","lastFrame"],zs(x));const T=u(i,["referenceImages"]);if(t!==void 0&&T!=null){let b=T;Array.isArray(b)&&(b=b.map(_=>Kb(_))),c(t,["instances[0]","referenceImages"],b)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function XT(i,t){const o={},s=u(i,["numberOfVideos"]);t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const d=u(i,["fps"]);t!==void 0&&d!=null&&c(t,["parameters","fps"],d);const p=u(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["parameters","seed"],v);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const h=u(i,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const T=u(i,["pubsubTopic"]);t!==void 0&&T!=null&&c(t,["parameters","pubsubTopic"],T);const b=u(i,["negativePrompt"]);t!==void 0&&b!=null&&c(t,["parameters","negativePrompt"],b);const _=u(i,["enhancePrompt"]);t!==void 0&&_!=null&&c(t,["parameters","enhancePrompt"],_);const w=u(i,["generateAudio"]);t!==void 0&&w!=null&&c(t,["parameters","generateAudio"],w);const k=u(i,["lastFrame"]);t!==void 0&&k!=null&&c(t,["instances[0]","lastFrame"],Ft(k));const R=u(i,["referenceImages"]);if(t!==void 0&&R!=null){let G=R;Array.isArray(G)&&(G=G.map(J=>jb(J))),c(t,["instances[0]","referenceImages"],G)}const P=u(i,["mask"]);t!==void 0&&P!=null&&c(t,["instances[0]","mask"],Xb(P));const j=u(i,["compressionQuality"]);return t!==void 0&&j!=null&&c(t,["parameters","compressionQuality"],j),o}function KT(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],$T(p)),t}function jT(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],WT(p)),t}function QT(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Re(i,s));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(o,["instances[0]","image"],zs(d));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],eg(p));const v=u(t,["source"]);v!=null&&eb(v,o);const y=u(t,["config"]);return y!=null&&JT(y,o),o}function ZT(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Re(i,s));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(o,["instances[0]","image"],Ft(d));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],tg(p));const v=u(t,["source"]);v!=null&&tb(v,o);const y=u(t,["config"]);return y!=null&&XT(y,o),o}function $T(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>ob(p))),c(t,["generatedVideos"],d)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function WT(i){const t={},o=u(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>lb(p))),c(t,["generatedVideos"],d)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function eb(i,t){const o={},s=u(i,["prompt"]);t!==void 0&&s!=null&&c(t,["instances[0]","prompt"],s);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],zs(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],eg(d)),o}function tb(i,t){const o={},s=u(i,["prompt"]);t!==void 0&&s!=null&&c(t,["instances[0]","prompt"],s);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Ft(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],tg(d)),o}function nb(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],pb(o));const s=u(i,["raiFilteredReason"]);s!=null&&c(t,["raiFilteredReason"],s);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],Zh(r)),t}function Vs(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],Qh(o));const s=u(i,["raiFilteredReason"]);s!=null&&c(t,["raiFilteredReason"],s);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],$h(r));const d=u(i,["prompt"]);return d!=null&&c(t,["enhancedPrompt"],d),t}function ib(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["mask"],Qh(o));const s=u(i,["labels"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["labels"],r)}return t}function ob(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],Yb(o)),t}function lb(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],Jb(o)),t}function sb(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const s=u(i,["responseJsonSchema"]);s!=null&&c(t,["responseJsonSchema"],s);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const v=u(i,["frequencyPenalty"]);v!=null&&c(t,["frequencyPenalty"],v);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const x=u(i,["mediaResolution"]);x!=null&&c(t,["mediaResolution"],x);const T=u(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const b=u(i,["responseLogprobs"]);b!=null&&c(t,["responseLogprobs"],b);const _=u(i,["responseMimeType"]);_!=null&&c(t,["responseMimeType"],_);const w=u(i,["responseModalities"]);w!=null&&c(t,["responseModalities"],w);const k=u(i,["responseSchema"]);k!=null&&c(t,["responseSchema"],k);const R=u(i,["routingConfig"]);R!=null&&c(t,["routingConfig"],R);const P=u(i,["seed"]);P!=null&&c(t,["seed"],P);const j=u(i,["speechConfig"]);j!=null&&c(t,["speechConfig"],j);const G=u(i,["stopSequences"]);G!=null&&c(t,["stopSequences"],G);const J=u(i,["temperature"]);J!=null&&c(t,["temperature"],J);const $=u(i,["thinkingConfig"]);$!=null&&c(t,["thinkingConfig"],$);const ne=u(i,["topK"]);ne!=null&&c(t,["topK"],ne);const K=u(i,["topP"]);if(K!=null&&c(t,["topP"],K),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function ab(i,t){const o={},s=u(t,["model"]);return s!=null&&c(o,["_url","name"],Re(i,s)),o}function rb(i,t){const o={},s=u(t,["model"]);return s!=null&&c(o,["_url","name"],Re(i,s)),o}function ub(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function cb(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function db(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const s=u(i,["imageSize"]);if(s!=null&&c(t,["imageSize"],s),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function fb(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const s=u(i,["imageSize"]);s!=null&&c(t,["imageSize"],s);const r=u(i,["outputMimeType"]);r!=null&&c(t,["imageOutputOptions","mimeType"],r);const d=u(i,["outputCompressionQuality"]);return d!=null&&c(t,["imageOutputOptions","compressionQuality"],d),t}function pb(i){const t={},o=u(i,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],Yn(o));const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function Qh(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const s=u(i,["bytesBase64Encoded"]);s!=null&&c(t,["imageBytes"],Yn(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function zs(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(i,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],Yn(o));const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function Ft(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const s=u(i,["imageBytes"]);s!=null&&c(t,["bytesBase64Encoded"],Yn(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function mb(i,t,o){const s={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const d=u(t,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const v=u(t,["queryBase"]);return o!==void 0&&v!=null&&c(o,["_url","models_url"],Oh(i,v)),s}function hb(i,t,o){const s={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const d=u(t,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const v=u(t,["queryBase"]);return o!==void 0&&v!=null&&c(o,["_url","models_url"],Oh(i,v)),s}function gb(i,t){const o={},s=u(t,["config"]);return s!=null&&mb(i,s,o),o}function vb(i,t){const o={},s=u(t,["config"]);return s!=null&&hb(i,s,o),o}function yb(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["_self"]);if(r!=null){let d=Fh(r);Array.isArray(d)&&(d=d.map(p=>Tu(p))),c(t,["models"],d)}return t}function xb(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["_self"]);if(r!=null){let d=Fh(r);Array.isArray(d)&&(d=d.map(p=>bu(p))),c(t,["models"],d)}return t}function Sb(i){const t={},o=u(i,["maskMode"]);o!=null&&c(t,["maskMode"],o);const s=u(i,["segmentationClasses"]);s!=null&&c(t,["maskClasses"],s);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Tu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["displayName"]);s!=null&&c(t,["displayName"],s);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const d=u(i,["version"]);d!=null&&c(t,["version"],d);const p=u(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],Pb(p));const v=u(i,["inputTokenLimit"]);v!=null&&c(t,["inputTokenLimit"],v);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const h=u(i,["supportedGenerationMethods"]);h!=null&&c(t,["supportedActions"],h);const x=u(i,["temperature"]);x!=null&&c(t,["temperature"],x);const T=u(i,["maxTemperature"]);T!=null&&c(t,["maxTemperature"],T);const b=u(i,["topP"]);b!=null&&c(t,["topP"],b);const _=u(i,["topK"]);_!=null&&c(t,["topK"],_);const w=u(i,["thinking"]);return w!=null&&c(t,["thinking"],w),t}function bu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["displayName"]);s!=null&&c(t,["displayName"],s);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const d=u(i,["versionId"]);d!=null&&c(t,["version"],d);const p=u(i,["deployedModels"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(b=>UT(b))),c(t,["endpoints"],T)}const v=u(i,["labels"]);v!=null&&c(t,["labels"],v);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],Gb(y));const h=u(i,["defaultCheckpointId"]);h!=null&&c(t,["defaultCheckpointId"],h);const x=u(i,["checkpoints"]);if(x!=null){let T=x;Array.isArray(T)&&(T=T.map(b=>b)),c(t,["checkpoints"],T)}return t}function Tb(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],kT(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],LT(p));const v=u(i,["functionResponse"]);v!=null&&c(t,["functionResponse"],v);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],sT(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const b=u(i,["videoMetadata"]);return b!=null&&c(t,["videoMetadata"],b),t}function bb(i){const t={},o=u(i,["productImage"]);return o!=null&&c(t,["image"],Ft(o)),t}function Eb(i,t){const o={},s=u(i,["numberOfImages"]);t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const d=u(i,["outputGcsUri"]);t!==void 0&&d!=null&&c(t,["parameters","storageUri"],d);const p=u(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const v=u(i,["safetyFilterLevel"]);t!==void 0&&v!=null&&c(t,["parameters","safetySetting"],v);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const h=u(i,["addWatermark"]);t!==void 0&&h!=null&&c(t,["parameters","addWatermark"],h);const x=u(i,["outputMimeType"]);t!==void 0&&x!=null&&c(t,["parameters","outputOptions","mimeType"],x);const T=u(i,["outputCompressionQuality"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","compressionQuality"],T);const b=u(i,["enhancePrompt"]);t!==void 0&&b!=null&&c(t,["parameters","enhancePrompt"],b);const _=u(i,["labels"]);return t!==void 0&&_!=null&&c(t,["labels"],_),o}function _b(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Re(i,s));const r=u(t,["source"]);r!=null&&Ab(r,o);const d=u(t,["config"]);return d!=null&&Eb(d,o),o}function Cb(i){const t={},o=u(i,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>Vs(r))),c(t,["generatedImages"],s)}return t}function Ab(i,t){const o={},s=u(i,["prompt"]);t!==void 0&&s!=null&&c(t,["instances[0]","prompt"],s);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Ft(r));const d=u(i,["productImages"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(v=>bb(v))),c(t,["instances[0]","productImages"],p)}return o}function Nb(i){const t={},o=u(i,["referenceImage"]);o!=null&&c(t,["referenceImage"],Ft(o));const s=u(i,["referenceId"]);s!=null&&c(t,["referenceId"],s);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const d=u(i,["maskImageConfig"]);d!=null&&c(t,["maskImageConfig"],Sb(d));const p=u(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],pT(p));const v=u(i,["styleImageConfig"]);v!=null&&c(t,["styleImageConfig"],v);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function Zh(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const s=u(i,["safetyAttributes","scores"]);s!=null&&c(t,["scores"],s);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function $h(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const s=u(i,["safetyAttributes","scores"]);s!=null&&c(t,["scores"],s);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function wb(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&c(t,["threshold"],s),t}function Rb(i){const t={},o=u(i,["image"]);return o!=null&&c(t,["image"],Ft(o)),t}function Mb(i,t){const o={},s=u(i,["mode"]);t!==void 0&&s!=null&&c(t,["parameters","mode"],s);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const d=u(i,["confidenceThreshold"]);t!==void 0&&d!=null&&c(t,["parameters","confidenceThreshold"],d);const p=u(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const v=u(i,["binaryColorThreshold"]);t!==void 0&&v!=null&&c(t,["parameters","binaryColorThreshold"],v);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),o}function Ib(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Re(i,s));const r=u(t,["source"]);r!=null&&Ub(r,o);const d=u(t,["config"]);return d!=null&&Mb(d,o),o}function Db(i){const t={},o=u(i,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>ib(r))),c(t,["generatedMasks"],s)}return t}function Ub(i,t){const o={},s=u(i,["prompt"]);t!==void 0&&s!=null&&c(t,["instances[0]","prompt"],s);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Ft(r));const d=u(i,["scribbleImage"]);return t!==void 0&&d!=null&&c(t,["instances[0]","scribble"],Rb(d)),o}function kb(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],PT(o));const s=u(i,["retrievalConfig"]);return s!=null&&c(t,["retrievalConfig"],s),t}function Lb(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(T=>T)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const v=u(i,["googleMaps"]);v!=null&&c(t,["googleMaps"],ub(v));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],cb(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function Wh(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(b=>GT(b))),c(t,["functionDeclarations"],T)}const s=u(i,["retrieval"]);s!=null&&c(t,["retrieval"],s);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const v=u(i,["enterpriseWebSearch"]);v!=null&&c(t,["enterpriseWebSearch"],v);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const x=u(i,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function Pb(i){const t={},o=u(i,["baseModel"]);o!=null&&c(t,["baseModel"],o);const s=u(i,["createTime"]);s!=null&&c(t,["createTime"],s);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function Gb(i){const t={},o=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(t,["baseModel"],o);const s=u(i,["createTime"]);s!=null&&c(t,["createTime"],s);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function Hb(i,t){const o={},s=u(i,["displayName"]);t!==void 0&&s!=null&&c(t,["displayName"],s);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),o}function Vb(i,t){const o={},s=u(i,["displayName"]);t!==void 0&&s!=null&&c(t,["displayName"],s);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),o}function zb(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","name"],Re(i,s));const r=u(t,["config"]);return r!=null&&Hb(r,o),o}function qb(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Re(i,s));const r=u(t,["config"]);return r!=null&&Vb(r,o),o}function Bb(i,t){const o={},s=u(i,["outputGcsUri"]);t!==void 0&&s!=null&&c(t,["parameters","storageUri"],s);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const d=u(i,["personGeneration"]);t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const h=u(i,["enhanceInputImage"]);t!==void 0&&h!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],h);const x=u(i,["imagePreservationFactor"]);t!==void 0&&x!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],x);const T=u(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const b=u(i,["numberOfImages"]);t!==void 0&&b!=null&&c(t,["parameters","sampleCount"],b);const _=u(i,["mode"]);return t!==void 0&&_!=null&&c(t,["parameters","mode"],_),o}function Ob(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Re(i,s));const r=u(t,["image"]);r!=null&&c(o,["instances[0]","image"],Ft(r));const d=u(t,["upscaleFactor"]);d!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],d);const p=u(t,["config"]);return p!=null&&Bb(p,o),o}function Fb(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>Vs(d))),c(t,["generatedImages"],r)}return t}function Yb(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const s=u(i,["encodedVideo"]);s!=null&&c(t,["videoBytes"],Yn(s));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function Jb(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const s=u(i,["bytesBase64Encoded"]);s!=null&&c(t,["videoBytes"],Yn(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Xb(i){const t={},o=u(i,["image"]);o!=null&&c(t,["_self"],Ft(o));const s=u(i,["maskMode"]);return s!=null&&c(t,["maskMode"],s),t}function Kb(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],zs(o));const s=u(i,["referenceType"]);return s!=null&&c(t,["referenceType"],s),t}function jb(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],Ft(o));const s=u(i,["referenceType"]);return s!=null&&c(t,["referenceType"],s),t}function eg(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const s=u(i,["videoBytes"]);s!=null&&c(t,["encodedVideo"],Yn(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function tg(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["gcsUri"],o);const s=u(i,["videoBytes"]);s!=null&&c(t,["bytesBase64Encoded"],Yn(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qb(i,t){const o={},s=u(i,["displayName"]);return t!==void 0&&s!=null&&c(t,["displayName"],s),o}function Zb(i){const t={},o=u(i,["config"]);return o!=null&&Qb(o,t),t}function $b(i,t){const o={},s=u(i,["force"]);return t!==void 0&&s!=null&&c(t,["_query","force"],s),o}function Wb(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const s=u(i,["config"]);return s!=null&&$b(s,t),t}function eE(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function tE(i,t){const o={},s=u(i,["customMetadata"]);if(t!==void 0&&s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["customMetadata"],d)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),o}function nE(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],oE(p)),t}function iE(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const s=u(i,["fileName"]);s!=null&&c(t,["fileName"],s);const r=u(i,["config"]);return r!=null&&tE(r,t),t}function oE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function lE(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function sE(i){const t={},o=u(i,["config"]);return o!=null&&lE(o,t),t}function aE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["fileSearchStores"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["fileSearchStores"],d)}return t}function ng(i,t){const o={},s=u(i,["mimeType"]);t!==void 0&&s!=null&&c(t,["mimeType"],s);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const d=u(i,["customMetadata"]);if(t!==void 0&&d!=null){let v=d;Array.isArray(v)&&(v=v.map(y=>y)),c(t,["customMetadata"],v)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),o}function rE(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const s=u(i,["config"]);return s!=null&&ng(s,t),t}function uE(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cE="Content-Type",dE="X-Server-Timeout",fE="User-Agent",Eu="x-goog-api-client",pE="1.34.0",mE=`google-genai-sdk/${pE}`,hE="v1beta1",gE="v1beta";class vE{constructor(t){var o,s;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:hE,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:gE,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&s.push(t.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,s){const r=[this.getRequestUrlInternal(o)];return s&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,s);if(t.queryParams)for(const[p,v]of Object.entries(t.queryParams))r.searchParams.append(p,String(v));let d={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=t.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),t.abortSignal),this.unaryApiCall(r,d,t.httpMethod)}patchHttpOptions(t,o){const s=JSON.parse(JSON.stringify(t));for(const[r,d]of Object.entries(o))typeof d=="object"?s[r]=Object.assign(Object.assign({},s[r]),d):d!==void 0&&(s[r]=d);return s}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let d={};return d.body=t.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),t.abortSignal),this.streamApiCall(r,d,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,s,r){if(o&&o.timeout||r){const d=new AbortController,p=d.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const v=setTimeout(()=>d.abort(),o.timeout);v&&typeof v.unref=="function"&&v.unref()}r&&r.addEventListener("abort",()=>{d.abort()}),t.signal=p}return o&&o.extraBody!==null&&yE(t,o.extraBody),t.headers=await this.getHeadersInternal(o,s),t}async unaryApiCall(t,o,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await yh(r),new yu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await yh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Bt(this,arguments,function*(){var s;const r=(s=t==null?void 0:t.body)===null||s===void 0?void 0:s.getReader(),d=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const v="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:x}=yield he(r.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=d.decode(x,{stream:!0});try{const w=JSON.parse(T);if("error"in w){const k=JSON.parse(JSON.stringify(w.error)),R=k.status,P=k.code,j=`got status: ${R}. ${JSON.stringify(w)}`;if(P>=400&&P<600)throw new Gs({message:j,status:P})}}catch(w){if(w.name==="ApiError")throw w}p+=T;let b=-1,_=0;for(;;){b=-1,_=0;for(const R of y){const P=p.indexOf(R);P!==-1&&(b===-1||P<b)&&(b=P,_=R.length)}if(b===-1)break;const w=p.substring(0,b);p=p.substring(b+_);const k=w.trim();if(k.startsWith(v)){const R=k.substring(v.length).trim();try{const P=new Response(R,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield he(new yu(P))}catch(P){throw new Error(`exception parsing stream chunk ${R}. ${P}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const t={},o=mE+" "+this.clientOptions.userAgentExtra;return t[fE]=o,t[Eu]=o,t[cE]="application/json",t}async getHeadersInternal(t,o){const s=new Headers;if(t&&t.headers){for(const[r,d]of Object.entries(t.headers))s.append(r,d);t.timeout&&t.timeout>0&&s.append(dE,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}getFileName(t){var o;let s="";return typeof t=="string"&&(s=t.replace(/[/\\]+$/,""),s=(o=s.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),s}async uploadFile(t,o){var s;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const d=this.clientOptions.uploader,p=await d.stat(t);r.sizeBytes=String(p.size);const v=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:p.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=v;const y={file:r},h=this.getFileName(t),x=ee("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(x,r.sizeBytes,r.mimeType,h,y,o==null?void 0:o.httpOptions);return d.upload(t,T,this)}async uploadFileToFileSearchStore(t,o,s){var r;const d=this.clientOptions.uploader,p=await d.stat(o),v=String(p.size),y=(r=s==null?void 0:s.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,x=this.getFileName(o),T={};s!=null&&ng(s,T);const b=await this.fetchUploadUrl(h,v,y,x,T,s==null?void 0:s.httpOptions);return d.uploadToFileSearchStore(o,b,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,s,r,d,p){var v;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${s}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(d),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(v=h==null?void 0:h.headers)===null||v===void 0?void 0:v["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function yh(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let s;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?s=await i.json():s={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(s);throw o>=400&&o<600?new Gs({message:r,status:o}):new Error(r)}}function yE(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const d=JSON.parse(i.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(d,p){const v=Object.assign({},d);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],x=v[y];h&&typeof h=="object"&&!Array.isArray(h)&&x&&typeof x=="object"&&!Array.isArray(x)?v[y]=s(x,h):(x&&h&&typeof x!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof x}, New type: ${typeof h}. Overwriting.`),v[y]=h)}return v}const r=s(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xE="mcp_used/unknown";let SE=!1;function ig(i){for(const t of i)if(TE(t)||typeof t=="object"&&"inputSchema"in t)return!0;return SE}function og(i){var t;const o=(t=i[Eu])!==null&&t!==void 0?t:"";i[Eu]=(o+` ${xE}`).trimStart()}function TE(i){return i!==null&&typeof i=="object"&&i instanceof Hu}function bE(i){return Bt(this,arguments,function*(o,s=100){let r,d=0;for(;d<s;){const p=yield he(o.listTools({cursor:r}));for(const v of p.tools)yield yield he(v),d++;if(!p.nextCursor)break;r=p.nextCursor}})}class Hu{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Hu(t,o)}async initialize(){var t,o,s,r;if(this.mcpTools.length>0)return;const d={},p=[];for(const x of this.mcpClients)try{for(var v=!0,y=(o=void 0,Ot(bE(x))),h;h=await y.next(),t=h.done,!t;v=!0){r=h.value,v=!1;const T=r;p.push(T);const b=T.name;if(d[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);d[b]=x}}catch(T){o={error:T}}finally{try{!v&&!t&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),ex(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const s of t)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const p=await r.callTool({name:s.name,arguments:s.args},void 0,d);o.push({functionResponse:{name:s.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function EE(i,t,o){const s=new Jy;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(s,r),t(s)}class _E{constructor(t,o,s){this.apiClient=t,this.auth=o,this.webSocketFactory=s}async connect(t){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),p=NE(this.apiClient.getDefaultHeaders()),v=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${v}`;let h=()=>{};const x=new Promise(G=>{h=G}),T=t.callbacks,b=function(){h({})},_=this.apiClient,w={onopen:b,onmessage:G=>{EE(_,T.onmessage,G)},onerror:(o=T==null?void 0:T.onerror)!==null&&o!==void 0?o:function(G){},onclose:(s=T==null?void 0:T.onclose)!==null&&s!==void 0?s:function(G){}},k=this.webSocketFactory.create(y,AE(p),w);k.connect(),await x;const j={setup:{model:Re(this.apiClient,t.model)}};return k.send(JSON.stringify(j)),new CE(k,this.apiClient)}}class CE{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=ZS(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=QS(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(eo.PLAY)}pause(){this.sendPlaybackControl(eo.PAUSE)}stop(){this.sendPlaybackControl(eo.STOP)}resetContext(){this.sendPlaybackControl(eo.RESET_CONTEXT)}close(){this.conn.close()}}function AE(i){const t={};return i.forEach((o,s)=>{t[s]=o}),t}function NE(i){const t=new Headers;for(const[o,s]of Object.entries(i))t.append(o,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function RE(i,t,o){const s=new Yy;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const d=JSON.parse(r);if(i.isVertexAI()){const p=eT(d);Object.assign(s,p)}else Object.assign(s,d);t(s)}class ME{constructor(t,o,s){this.apiClient=t,this.auth=o,this.webSocketFactory=s,this.music=new _E(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,s,r,d,p,v;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let x;const T=this.apiClient.getHeaders();t.config&&t.config.tools&&ig(t.config.tools)&&og(T);const b=kE(T);if(this.apiClient.isVertexAI())x=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b,x);else{const te=this.apiClient.getApiKey();let ge="BidiGenerateContent",Te="key";te!=null&&te.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ge="BidiGenerateContentConstrained",Te="access_token"),x=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ge}?${Te}=${te}`}let _=()=>{};const w=new Promise(te=>{_=te}),k=t.callbacks,R=function(){var te;(te=k==null?void 0:k.onopen)===null||te===void 0||te.call(k),_({})},P=this.apiClient,j={onopen:R,onmessage:te=>{RE(P,k.onmessage,te)},onerror:(o=k==null?void 0:k.onerror)!==null&&o!==void 0?o:function(te){},onclose:(s=k==null?void 0:k.onclose)!==null&&s!==void 0?s:function(te){}},G=this.webSocketFactory.create(x,UE(b),j);G.connect(),await w;let J=Re(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const te=this.apiClient.getProject(),ge=this.apiClient.getLocation();J=`projects/${te}/locations/${ge}/`+J}let $={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Ms.AUDIO]}:t.config.responseModalities=[Ms.AUDIO]),!((d=t.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ne=(v=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&v!==void 0?v:[],K=[];for(const te of ne)if(this.isCallableTool(te)){const ge=te;K.push(await ge.tool())}else K.push(te);K.length>0&&(t.config.tools=K);const fe={model:J,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?$=jS(this.apiClient,fe):$=KS(this.apiClient,fe),delete $.config,G.send(JSON.stringify($)),new DE(G,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const IE={turnComplete:!0};class DE{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=Gt(o.turns),t.isVertexAI()||(s=s.map(r=>Hs(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const d of s){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!t.isVertexAI()&&!("id"in d))throw new Error(wE)}return{toolResponse:{functionResponses:s}}}sendClientContent(t){t=Object.assign(Object.assign({},IE),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:WS(t)}:o={realtimeInput:$S(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function UE(i){const t={};return i.forEach((o,s)=>{t[s]=o}),t}function kE(i){const t=new Headers;for(const[o,s]of Object.entries(i))t.append(o,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xh=10;function Sh(i){var t,o,s;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(io(p)){r=!0;break}if(!r)return!0;const d=(s=i==null?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function io(i){return"callTool"in i&&typeof i.callTool=="function"}function LE(i){var t,o,s;return(s=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>io(r)))!==null&&s!==void 0?s:!1}function Th(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((s,r)=>{if(io(s))return;const d=s;d.functionDeclarations&&d.functionDeclarations.length>0&&o.push(r)}),o}function bh(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PE extends gn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var s,r,d,p,v;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!LE(o)||Sh(o.config))return await this.generateContentInternal(y);const h=Th(o);if(h.length>0){const k=h.map(R=>`tools[${R}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let x,T;const b=Gt(y.contents),_=(d=(r=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&d!==void 0?d:xh;let w=0;for(;w<_&&(x=await this.generateContentInternal(y),!(!x.functionCalls||x.functionCalls.length===0));){const k=x.candidates[0].content,R=[];for(const P of(v=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&v!==void 0?v:[])if(io(P)){const G=await P.callTool(x.functionCalls);R.push(...G)}w++,T={role:"user",parts:R},y.contents=Gt(y.contents),y.contents.push(k),y.contents.push(T),bh(y.config)&&(b.push(k),b.push(T))}return bh(y.config)&&(x.automaticFunctionCallingHistory=b),x},this.generateContentStream=async o=>{var s,r,d,p,v;if(this.maybeMoveToResponseJsonSchem(o),Sh(o.config)){const T=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(T)}const y=Th(o);if(y.length>0){const T=y.map(b=>`tools[${b}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(d=(r=(s=o==null?void 0:o.config)===null||s===void 0?void 0:s.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,x=(v=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||v===void 0?void 0:v.disable;if(h&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var r;let d;const p=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:p.push(y);let v;return d?v={generatedImages:p,positivePromptSafetyAttributes:d,sdkHttpResponse:s.sdkHttpResponse}:v={generatedImages:p,sdkHttpResponse:s.sdkHttpResponse},v}),this.list=async o=>{var s;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((s=p.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new pi(hn.PAGED_ITEM_MODELS,v=>this.listInternal(v),await this.listInternal(p),p)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var s,r,d,p,v,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(d=o.source)===null||d===void 0?void 0:d.video)===null||p===void 0)&&p.uri&&(!((y=(v=o.source)===null||v===void 0?void 0:v.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,s,r;const d=(o=t.config)===null||o===void 0?void 0:o.tools;if(!d)return t;const p=await Promise.all(d.map(async y=>io(y)?await y.tool():y)),v={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(v.config.tools=p,t.config&&t.config.tools&&ig(t.config.tools)){const y=(r=(s=t.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),og(h),v.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return v}async initAfcToolsMap(t){var o,s,r;const d=new Map;for(const p of(s=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(io(p)){const v=p,y=await v.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,v)}}return d}async processAfcStream(t){var o,s,r;const d=(r=(s=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:xh;let p=!1,v=0;const y=await this.initAfcToolsMap(t);return(function(h,x,T){return Bt(this,arguments,function*(){for(var b,_,w,k,R,P;v<d;){p&&(v++,p=!1);const $=yield he(h.processParamsMaybeAddMcpUsage(T)),ne=yield he(h.generateContentStreamInternal($)),K=[],fe=[];try{for(var j=!0,G=(_=void 0,Ot(ne)),J;J=yield he(G.next()),b=J.done,!b;j=!0){k=J.value,j=!1;const te=k;if(yield yield he(te),te.candidates&&(!((R=te.candidates[0])===null||R===void 0)&&R.content)){fe.push(te.candidates[0].content);for(const ge of(P=te.candidates[0].content.parts)!==null&&P!==void 0?P:[])if(v<d&&ge.functionCall){if(!ge.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(ge.functionCall.name)){const Te=yield he(x.get(ge.functionCall.name).callTool([ge.functionCall]));K.push(...Te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${ge.functionCall.name}`)}}}}catch(te){_={error:te}}finally{try{!j&&!b&&(w=G.return)&&(yield he(w.call(G)))}finally{if(_)throw _.error}}if(K.length>0){p=!0;const te=new nl;te.candidates=[{content:{role:"user",parts:K}}],yield yield he(te);const ge=[];ge.push(...fe),ge.push({role:"user",parts:K});const Te=Gt(T.contents).concat(ge);T.contents=Te}else break}})})(this,y,t)}async generateContentInternal(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=hh(this.apiClient,t);return v=ee("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>{const T=vh(x),b=new nl;return Object.assign(b,T),b})}else{const h=mh(this.apiClient,t);return v=ee("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>{const T=gh(x),b=new nl;return Object.assign(b,T),b})}}async generateContentStreamInternal(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=hh(this.apiClient,t);return v=ee("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),p.then(function(T){return Bt(this,arguments,function*(){var b,_,w,k;try{for(var R=!0,P=Ot(T),j;j=yield he(P.next()),b=j.done,!b;R=!0){k=j.value,R=!1;const G=k,J=vh(yield he(G.json()));J.sdkHttpResponse={headers:G.headers};const $=new nl;Object.assign($,J),yield yield he($)}}catch(G){_={error:G}}finally{try{!R&&!b&&(w=P.return)&&(yield he(w.call(P)))}finally{if(_)throw _.error}}})})}else{const h=mh(this.apiClient,t);return v=ee("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}),p.then(function(T){return Bt(this,arguments,function*(){var b,_,w,k;try{for(var R=!0,P=Ot(T),j;j=yield he(P.next()),b=j.done,!b;R=!0){k=j.value,R=!1;const G=k,J=gh(yield he(G.json()));J.sdkHttpResponse={headers:G.headers};const $=new nl;Object.assign($,J),yield yield he($)}}catch(G){_={error:G}}finally{try{!R&&!b&&(w=P.return)&&(yield he(w.call(P)))}finally{if(_)throw _.error}}})})}}async embedContent(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=MT(this.apiClient,t);return v=ee("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>{const T=DT(x),b=new Zm;return Object.assign(b,T),b})}else{const h=RT(this.apiClient,t);return v=ee("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>{const T=IT(x),b=new Zm;return Object.assign(b,T),b})}}async generateImagesInternal(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=OT(this.apiClient,t);return v=ee("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>{const T=YT(x),b=new $m;return Object.assign(b,T),b})}else{const h=BT(this.apiClient,t);return v=ee("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>{const T=FT(x),b=new $m;return Object.assign(b,T),b})}}async editImageInternal(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI()){const v=CT(this.apiClient,t);return d=ee("{model}:predict",v._url),p=v._query,delete v._url,delete v._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const h=AT(y),x=new ky;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI()){const v=Ob(this.apiClient,t);return d=ee("{model}:predict",v._url),p=v._query,delete v._url,delete v._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const h=Fb(y),x=new Ly;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI()){const v=_b(this.apiClient,t);return d=ee("{model}:predict",v._url),p=v._query,delete v._url,delete v._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=Cb(y),x=new Py;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI()){const v=Ib(this.apiClient,t);return d=ee("{model}:predict",v._url),p=v._query,delete v._url,delete v._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=Db(y),x=new Gy;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=rb(this.apiClient,t);return v=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>bu(x))}else{const h=ab(this.apiClient,t);return v=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>Tu(x))}}async listInternal(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=vb(this.apiClient,t);return v=ee("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>{const T=xb(x),b=new Wm;return Object.assign(b,T),b})}else{const h=gb(this.apiClient,t);return v=ee("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>{const T=yb(x),b=new Wm;return Object.assign(b,T),b})}}async update(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=qb(this.apiClient,t);return v=ee("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>bu(x))}else{const h=zb(this.apiClient,t);return v=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>Tu(x))}}async delete(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=TT(this.apiClient,t);return v=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>{const T=ET(x),b=new eh;return Object.assign(b,T),b})}else{const h=ST(this.apiClient,t);return v=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>{const T=bT(x),b=new eh;return Object.assign(b,T),b})}}async countTokens(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=vT(this.apiClient,t);return v=ee("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>{const T=xT(x),b=new th;return Object.assign(b,T),b})}else{const h=gT(this.apiClient,t);return v=ee("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>{const T=yT(x),b=new th;return Object.assign(b,T),b})}}async computeTokens(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI()){const v=uT(this.apiClient,t);return d=ee("{model}:computeTokens",v._url),p=v._query,delete v._url,delete v._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const h=cT(y),x=new Hy;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=ZT(this.apiClient,t);return v=ee("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>{const T=jT(x),b=new Is;return Object.assign(b,T),b})}else{const h=QT(this.apiClient,t);return v=ee("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>{const T=KT(x),b=new Is;return Object.assign(b,T),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GE extends gn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,s=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,s=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=wy(t);return v=ee("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p}else{const h=Ny(t);return v=ee("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p}}async fetchPredictVideosOperationInternal(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI()){const v=Sy(t);return d=ee("{resourceName}:fetchPredictOperation",v._url),p=v._query,delete v._url,delete v._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HE(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function VE(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>KE(d))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function zE(i,t,o){const s={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const d=u(t,["newSessionExpireTime"]);o!==void 0&&d!=null&&c(o,["newSessionExpireTime"],d);const p=u(t,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const v=u(t,["liveConnectConstraints"]);o!==void 0&&v!=null&&c(o,["bidiGenerateContentSetup"],XE(i,v));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),s}function qE(i,t){const o={},s=u(t,["config"]);return s!=null&&c(o,["config"],zE(i,s,o)),o}function BE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function OE(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function FE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function YE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function JE(i,t){const o={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const v=u(i,["topK"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","topK"],v);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const x=u(i,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Gu(T));const b=u(i,["thinkingConfig"]);t!==void 0&&b!=null&&c(t,["setup","generationConfig","thinkingConfig"],b);const _=u(i,["enableAffectiveDialog"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],_);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&c(t,["setup","systemInstruction"],VE(st(w)));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let ne=lo(k);Array.isArray(ne)&&(ne=ne.map(K=>QE(oo(K)))),c(t,["setup","tools"],ne)}const R=u(i,["sessionResumption"]);t!==void 0&&R!=null&&c(t,["setup","sessionResumption"],jE(R));const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&c(t,["setup","inputAudioTranscription"],P);const j=u(i,["outputAudioTranscription"]);t!==void 0&&j!=null&&c(t,["setup","outputAudioTranscription"],j);const G=u(i,["realtimeInputConfig"]);t!==void 0&&G!=null&&c(t,["setup","realtimeInputConfig"],G);const J=u(i,["contextWindowCompression"]);t!==void 0&&J!=null&&c(t,["setup","contextWindowCompression"],J);const $=u(i,["proactivity"]);if(t!==void 0&&$!=null&&c(t,["setup","proactivity"],$),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function XE(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["setup","model"],Re(i,s));const r=u(t,["config"]);return r!=null&&c(o,["config"],JE(r,o)),o}function KE(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],BE(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],OE(p));const v=u(i,["functionResponse"]);v!=null&&c(t,["functionResponse"],v);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],HE(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const b=u(i,["videoMetadata"]);return b!=null&&c(t,["videoMetadata"],b),t}function jE(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function QE(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(T=>T)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const v=u(i,["googleMaps"]);v!=null&&c(t,["googleMaps"],FE(v));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],YE(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZE(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const s=i[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(d=>`${o}.${d}`);t.push(...r)}else t.push(o)}return t.join(",")}function $E(i,t){let o=null;const s=i.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const d=s.setup;typeof d=="object"&&d!==null?(i.bidiGenerateContentSetup=d,o=d):delete i.bidiGenerateContentSetup}else s!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const d=ZE(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)d?i.fieldMask=d:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let v=[];r.length>0&&(v=r.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];d&&y.push(d),v.length>0&&y.push(...v),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class WE extends gn{constructor(t){super(),this.apiClient=t}async create(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const v=qE(this.apiClient,t);d=ee("auth_tokens",v._url),p=v._query,delete v.config,delete v._url,delete v._query;const y=$E(v,t.config);return r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e_(i,t){const o={},s=u(i,["force"]);return t!==void 0&&s!=null&&c(t,["_query","force"],s),o}function t_(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const s=u(i,["config"]);return s!=null&&e_(s,t),t}function n_(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function i_(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function o_(i){const t={},o=u(i,["parent"]);o!=null&&c(t,["_url","parent"],o);const s=u(i,["config"]);return s!=null&&i_(s,t),t}function l_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["documents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["documents"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s_ extends gn{constructor(t){super(),this.apiClient=t,this.list=async o=>new pi(hn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:o.parent,config:s.config}),await this.listInternal(o),o)}async get(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=n_(t);return d=ee("{name}",v._url),p=v._query,delete v._url,delete v._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,s;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=t_(t);r=ee("{name}",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=o_(t);return d=ee("{parent}/documents",v._url),p=v._query,delete v._url,delete v._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=l_(y),x=new Vy;return Object.assign(x,h),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a_ extends gn{constructor(t,o=new s_(t)){super(),this.apiClient=t,this.documents=o,this.list=async(s={})=>new pi(hn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(s),s)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=Zb(t);return d=ee("fileSearchStores",v._url),p=v._query,delete v._url,delete v._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=eE(t);return d=ee("{name}",v._url),p=v._query,delete v._url,delete v._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,s;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Wb(t);r=ee("{name}",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=sE(t);return d=ee("fileSearchStores",v._url),p=v._query,delete v._url,delete v._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=aE(y),x=new zy;return Object.assign(x,h),x})}}async uploadToFileSearchStoreInternal(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=rE(t);return d=ee("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",v._url),p=v._query,delete v._url,delete v._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=uE(y),x=new qy;return Object.assign(x,h),x})}}async importFile(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=iE(t);return d=ee("{file_search_store_name}:importFile",v._url),p=v._query,delete v._url,delete v._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=nE(y),x=new Du;return Object.assign(x,h),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let lg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return lg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^o()&15>>+s/4).toString(16))};const r_=()=>lg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _u(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Cu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ht extends Error{}class ut extends Ht{constructor(t,o,s,r){super(`${ut.makeMessage(t,o,s)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,s){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):s;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,s,r){if(!t||!r)return new qs({message:s,cause:Cu(o)});const d=o;return t===400?new ag(t,d,s,r):t===401?new rg(t,d,s,r):t===403?new ug(t,d,s,r):t===404?new cg(t,d,s,r):t===409?new dg(t,d,s,r):t===422?new fg(t,d,s,r):t===429?new pg(t,d,s,r):t>=500?new mg(t,d,s,r):new ut(t,d,s,r)}}class Au extends ut{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class qs extends ut{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class sg extends qs{constructor({message:t}={}){super({message:t??"Request timed out."})}}class ag extends ut{}class rg extends ut{}class ug extends ut{}class cg extends ut{}class dg extends ut{}class fg extends ut{}class pg extends ut{}class mg extends ut{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const u_=/^[a-z][a-z0-9+.-]*:/i,c_=i=>u_.test(i);let Nu=i=>(Nu=Array.isArray,Nu(i));const d_=Nu;let f_=d_;const Eh=f_;function p_(i){if(!i)return!0;for(const t in i)return!1;return!0}function m_(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const h_=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Ht(`${i} must be an integer`);if(t<0)throw new Ht(`${i} must be a positive integer`);return t},g_=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v_=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wi="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y_(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const x_=()=>{var i,t,o,s,r;const d=y_();if(d==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wi,"X-Stainless-OS":Ch(Deno.build.os),"X-Stainless-Arch":_h(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(d==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wi,"X-Stainless-OS":Ch((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":_h((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=S_();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function S_(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const s=o.exec(navigator.userAgent);if(s){const r=s[1]||0,d=s[2]||0,p=s[3]||0;return{browser:t,version:`${r}.${d}.${p}`}}}return null}const _h=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Ch=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let bs;const T_=()=>bs??(bs=x_());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function b_(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function hg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function E_(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return hg({start(){},async pull(o){const{done:s,value:r}=await t.next();s?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function gg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function __(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const s=i.getReader(),r=s.cancel();s.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C_=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function mu(i,t,o){return vg(),new File(i,t??"unknown_file",o)}function A_(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const N_=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",w_=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&yg(i),R_=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function M_(i,t,o){if(vg(),i=await i,w_(i))return i instanceof File?i:mu([await i.arrayBuffer()],i.name);if(R_(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),mu(await wu(r),t,o)}const s=await wu(i);if(t||(t=A_(i)),!(o!=null&&o.type)){const r=s.find(d=>typeof d=="object"&&"type"in d&&d.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return mu(s,t,o)}async function wu(i){var t,o,s,r,d;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(yg(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(N_(i))try{for(var v=!0,y=Ot(i),h;h=await y.next(),t=h.done,!t;v=!0){r=h.value,v=!1;const x=r;p.push(...await wu(x))}}catch(x){o={error:x}}finally{try{!v&&!t&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}else{const x=(d=i==null?void 0:i.constructor)===null||d===void 0?void 0:d.name;throw new Error(`Unexpected data type: ${typeof i}${x?`; constructor: ${x}`:""}${I_(i)}`)}return p}function I_(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xg{constructor(t){this._client=t}}xg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Ah=Object.freeze(Object.create(null)),D_=(i=Sg)=>(function(o,...s){if(o.length===1)return o[0];let r=!1;const d=[],p=o.reduce((x,T,b)=>{var _,w,k;/[?#]/.test(T)&&(r=!0);const R=s[b];let P=(r?encodeURIComponent:i)(""+R);return b!==s.length&&(R==null||typeof R=="object"&&R.toString===((k=Object.getPrototypeOf((w=Object.getPrototypeOf((_=R.hasOwnProperty)!==null&&_!==void 0?_:Ah))!==null&&w!==void 0?w:Ah))===null||k===void 0?void 0:k.toString))&&(P=R+"",d.push({start:x.length+T.length,length:P.length,error:`Value of type ${Object.prototype.toString.call(R).slice(8,-1)} is not a valid path parameter`})),x+T+(b===s.length?"":P)},""),v=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(v))!==null;)d.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(d.sort((x,T)=>x.start-T.start),d.length>0){let x=0;const T=d.reduce((b,_)=>{const w=" ".repeat(_.start-x),k="^".repeat(_.length);return x=_.start+_.length,b+w+k},"");throw new Ht(`Path parameters result in path with invalid segments:
${d.map(b=>b.error).join(`
`)}
${p}
${T}`)}return p}),Es=D_(Sg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tg extends xg{create(t,o){var s;const{api_version:r=this._client.apiVersion}=t,d=Us(t,["api_version"]);if("model"in d&&"agent_config"in d)throw new Ht("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in d&&"generation_config"in d)throw new Ht("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Es`/${r}/interactions`,Object.assign(Object.assign({body:d},o),{stream:(s=t.stream)!==null&&s!==void 0?s:!1}))}delete(t,o={},s){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(Es`/${r}/interactions/${t}`,s)}cancel(t,o={},s){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(Es`/${r}/interactions/${t}/cancel`,s)}get(t,o={},s){var r;const d=o??{},{api_version:p=this._client.apiVersion}=d,v=Us(d,["api_version"]);return this._client.get(Es`/${p}/interactions/${t}`,Object.assign(Object.assign({query:v},s),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}Tg._key=Object.freeze(["interactions"]);class bg extends Tg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U_(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let s=0;for(const r of i)o.set(r,s),s+=r.length;return o}let _s;function Vu(i){let t;return(_s??(t=new globalThis.TextEncoder,_s=t.encode.bind(t)))(i)}let Cs;function Nh(i){let t;return(Cs??(t=new globalThis.TextDecoder,Cs=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bs{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Vu(t):t;this.buffer=U_([this.buffer,o]);const s=[];let r;for(;(r=k_(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){s.push(Nh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const d=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=Nh(this.buffer.subarray(0,d));s.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}Bs.NEWLINE_CHARS=new Set([`
`,"\r"]);Bs.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function k_(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function L_(i){for(let s=0;s<i.length-1;s++){if(i[s]===10&&i[s+1]===10||i[s]===13&&i[s+1]===13)return s+2;if(i[s]===13&&i[s+1]===10&&s+3<i.length&&i[s+2]===13&&i[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ks={off:0,error:200,warn:300,info:400,debug:500},wh=(i,t,o)=>{if(i){if(m_(ks,i))return i;rt(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(ks))}`)}};function ol(){}function As(i,t,o){return!t||ks[i]>ks[o]?ol:t[i].bind(t)}const P_={error:ol,warn:ol,info:ol,debug:ol};let Rh=new WeakMap;function rt(i){var t;const o=i.logger,s=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return P_;const r=Rh.get(o);if(r&&r[0]===s)return r[1];const d={error:As("error",o,s),warn:As("warn",o,s),info:As("info",o,s),debug:As("debug",o,s)};return Rh.set(o,[s,d]),d}const fi=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class to{constructor(t,o,s){this.iterator=t,this.controller=o,this.client=s}static fromSSEResponse(t,o,s){let r=!1;const d=s?rt(s):console;function p(){return Bt(this,arguments,function*(){var y,h,x,T;if(r)throw new Ht("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let b=!1;try{try{for(var _=!0,w=Ot(G_(t,o)),k;k=yield he(w.next()),y=k.done,!y;_=!0){T=k.value,_=!1;const R=T;if(!b)if(R.data.startsWith("[DONE]")){b=!0;continue}else try{yield yield he(JSON.parse(R.data))}catch(P){throw d.error("Could not parse message into JSON:",R.data),d.error("From chunk:",R.raw),P}}}catch(R){h={error:R}}finally{try{!_&&!y&&(x=w.return)&&(yield he(x.call(w)))}finally{if(h)throw h.error}}b=!0}catch(R){if(_u(R))return yield he(void 0);throw R}finally{b||o.abort()}})}return new to(p,o,s)}static fromReadableStream(t,o,s){let r=!1;function d(){return Bt(this,arguments,function*(){var y,h,x,T;const b=new Bs,_=gg(t);try{for(var w=!0,k=Ot(_),R;R=yield he(k.next()),y=R.done,!y;w=!0){T=R.value,w=!1;const P=T;for(const j of b.decode(P))yield yield he(j)}}catch(P){h={error:P}}finally{try{!w&&!y&&(x=k.return)&&(yield he(x.call(k)))}finally{if(h)throw h.error}}for(const P of b.flush())yield yield he(P)})}function p(){return Bt(this,arguments,function*(){var y,h,x,T;if(r)throw new Ht("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let b=!1;try{try{for(var _=!0,w=Ot(d()),k;k=yield he(w.next()),y=k.done,!y;_=!0){T=k.value,_=!1;const R=T;b||R&&(yield yield he(JSON.parse(R)))}}catch(R){h={error:R}}finally{try{!_&&!y&&(x=w.return)&&(yield he(x.call(w)))}finally{if(h)throw h.error}}b=!0}catch(R){if(_u(R))return yield he(void 0);throw R}finally{b||o.abort()}})}return new to(p,o,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],s=this.iterator(),r=d=>({next:()=>{if(d.length===0){const p=s.next();t.push(p),o.push(p)}return d.shift()}});return[new to(()=>r(t),this.controller,this.client),new to(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return hg({async start(){o=t[Symbol.asyncIterator]()},async pull(s){try{const{value:r,done:d}=await o.next();if(d)return s.close();const p=Vu(JSON.stringify(r)+`
`);s.enqueue(p)}catch(r){s.error(r)}},async cancel(){var s;await((s=o.return)===null||s===void 0?void 0:s.call(o))}})}}function G_(i,t){return Bt(this,arguments,function*(){var s,r,d,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ht("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ht("Attempted to iterate over a response with no body");const v=new V_,y=new Bs,h=gg(i.body);try{for(var x=!0,T=Ot(H_(h)),b;b=yield he(T.next()),s=b.done,!s;x=!0){p=b.value,x=!1;const _=p;for(const w of y.decode(_)){const k=v.decode(w);k&&(yield yield he(k))}}}catch(_){r={error:_}}finally{try{!x&&!s&&(d=T.return)&&(yield he(d.call(T)))}finally{if(r)throw r.error}}for(const _ of y.flush()){const w=v.decode(_);w&&(yield yield he(w))}})}function H_(i){return Bt(this,arguments,function*(){var o,s,r,d;let p=new Uint8Array;try{for(var v=!0,y=Ot(i),h;h=yield he(y.next()),o=h.done,!o;v=!0){d=h.value,v=!1;const x=d;if(x==null)continue;const T=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?Vu(x):x;let b=new Uint8Array(p.length+T.length);b.set(p),b.set(T,p.length),p=b;let _;for(;(_=L_(p))!==-1;)yield yield he(p.slice(0,_)),p=p.slice(_)}}catch(x){s={error:x}}finally{try{!v&&!o&&(r=y.return)&&(yield he(r.call(y)))}finally{if(s)throw s.error}}p.length>0&&(yield yield he(p))})}class V_{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const d={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],d}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,s,r]=z_(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function z_(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function q_(i,t){const{response:o,requestLogID:s,retryOfRequestLogID:r,startTime:d}=t,p=await(async()=>{var v;if(t.options.stream)return rt(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):to.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),h=(v=y==null?void 0:y.split(";")[0])===null||v===void 0?void 0:v.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await o.json():await o.text()})();return rt(i).debug(`[${s}] response parsed`,fi({retryOfRequestLogID:r,url:o.url,status:o.status,body:p,durationMs:Date.now()-d})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zu extends Promise{constructor(t,o,s=q_){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=s,this.client=t}_thenUnwrap(t){return new zu(this.client,this.responsePromise,async(o,s)=>t(await this.parseResponse(o,s),s))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Eg=Symbol("brand.privateNullableHeaders");function*B_(i){if(!i)return;if(Eg in i){const{values:s,nulls:r}=i;yield*s.entries();for(const d of r)yield[d,null];return}let t=!1,o;i instanceof Headers?o=i.entries():Eh(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let s of o){const r=s[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const d=Eh(s[1])?s[1]:[s[1]];let p=!1;for(const v of d)v!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,v])}}const il=i=>{const t=new Headers,o=new Set;for(const s of i){const r=new Set;for(const[d,p]of B_(s)){const v=d.toLowerCase();r.has(v)||(t.delete(d),r.add(v)),p===null?(t.delete(d),o.add(v)):(t.append(d,p),o.delete(v))}}return{[Eg]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hu=i=>{var t,o,s,r,d,p;if(typeof globalThis.process<"u")return(s=(o=(t=my)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(p=(d=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||d===void 0?void 0:d.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _g;class Os{constructor(t){var o,s,r,d,p,v,y,{baseURL:h=hu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(o=hu("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:T="v1beta"}=t,b=Us(t,["baseURL","apiKey","apiVersion"]);const _=Object.assign(Object.assign({apiKey:x,apiVersion:T},b),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=_.baseURL,this.timeout=(s=_.timeout)!==null&&s!==void 0?s:Os.DEFAULT_TIMEOUT,this.logger=(r=_.logger)!==null&&r!==void 0?r:console;const w="warn";this.logLevel=w,this.logLevel=(p=(d=wh(_.logLevel,"ClientOptions.logLevel",this))!==null&&d!==void 0?d:wh(hu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:w,this.fetchOptions=_.fetchOptions,this.maxRetries=(v=_.maxRetries)!==null&&v!==void 0?v:2,this.fetch=(y=_.fetch)!==null&&y!==void 0?y:b_(),this.encoder=C_,this._options=_,this.apiKey=x,this.apiVersion=T,this.clientAdapter=_.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=il([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return il([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return il([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,s])=>typeof s<"u").map(([o,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(o)}=`;throw new Ht(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Wi}`}defaultIdempotencyKey(){return`stainless-node-retry-${r_()}`}makeStatusError(t,o,s,r){return ut.generate(t,o,s,r)}buildURL(t,o,s){const r=!this.baseURLOverridden()&&s||this.baseURL,d=c_(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return p_(p)||(o=Object.assign(Object.assign({},p),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(d.search=this.stringifyQuery(o)),d.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:s}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,s){return this.request(Promise.resolve(s).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new zu(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,s){var r,d,p;const v=await t,y=(r=v.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(v);const{req:h,url:x,timeout:T}=await this.buildRequest(v,{retryCount:y-o});await this.prepareRequest(h,{url:x,options:v});const b="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=s===void 0?"":`, retryOf: ${s}`,w=Date.now();if(rt(this).debug(`[${b}] sending request`,fi({retryOfRequestLogID:s,method:v.method,url:x,options:v,headers:h.headers})),!((d=v.signal)===null||d===void 0)&&d.aborted)throw new Au;const k=new AbortController,R=await this.fetchWithTimeout(x,h,T,k).catch(Cu),P=Date.now();if(R instanceof globalThis.Error){const G=`retrying, ${o} attempts remaining`;if(!((p=v.signal)===null||p===void 0)&&p.aborted)throw new Au;const J=_u(R)||/timed? ?out/i.test(String(R)+("cause"in R?String(R.cause):""));if(o)return rt(this).info(`[${b}] connection ${J?"timed out":"failed"} - ${G}`),rt(this).debug(`[${b}] connection ${J?"timed out":"failed"} (${G})`,fi({retryOfRequestLogID:s,url:x,durationMs:P-w,message:R.message})),this.retryRequest(v,o,s??b);throw rt(this).info(`[${b}] connection ${J?"timed out":"failed"} - error; no more retries left`),rt(this).debug(`[${b}] connection ${J?"timed out":"failed"} (error; no more retries left)`,fi({retryOfRequestLogID:s,url:x,durationMs:P-w,message:R.message})),J?new sg:new qs({cause:R})}const j=`[${b}${_}] ${h.method} ${x} ${R.ok?"succeeded":"failed"} with status ${R.status} in ${P-w}ms`;if(!R.ok){const G=await this.shouldRetry(R);if(o&&G){const te=`retrying, ${o} attempts remaining`;return await __(R.body),rt(this).info(`${j} - ${te}`),rt(this).debug(`[${b}] response error (${te})`,fi({retryOfRequestLogID:s,url:R.url,status:R.status,headers:R.headers,durationMs:P-w})),this.retryRequest(v,o,s??b,R.headers)}const J=G?"error; no more retries left":"error; not retryable";rt(this).info(`${j} - ${J}`);const $=await R.text().catch(te=>Cu(te).message),ne=g_($),K=ne?void 0:$;throw rt(this).debug(`[${b}] response error (${J})`,fi({retryOfRequestLogID:s,url:R.url,status:R.status,headers:R.headers,message:K,durationMs:Date.now()-w})),this.makeStatusError(R.status,ne,K,R.headers)}return rt(this).info(j),rt(this).debug(`[${b}] response start`,fi({retryOfRequestLogID:s,url:R.url,status:R.status,headers:R.headers,durationMs:P-w})),{response:R,options:v,controller:k,requestLogID:b,retryOfRequestLogID:s,startTime:w}}async fetchWithTimeout(t,o,s,r){const d=o||{},{signal:p,method:v}=d,y=Us(d,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),s),x=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,T=Object.assign(Object.assign(Object.assign({signal:r.signal},x?{duplex:"half"}:{}),{method:"GET"}),y);v&&(T.method=v.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(h)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,s,r){var d;let p;const v=r==null?void 0:r.get("retry-after-ms");if(v){const h=parseFloat(v);Number.isNaN(h)||(p=h)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const h=parseFloat(y);Number.isNaN(h)?p=Date.parse(y)-Date.now():p=h*1e3}if(!(p&&0<=p&&p<60*1e3)){const h=(d=t.maxRetries)!==null&&d!==void 0?d:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(o,h)}return await v_(p),this.makeRequest(t,o-1,s)}calculateDefaultRetryTimeoutMillis(t,o){const d=o-t,p=Math.min(.5*Math.pow(2,d),8),v=1-Math.random()*.25;return p*v*1e3}async buildRequest(t,{retryCount:o=0}={}){var s,r,d;const p=Object.assign({},t),{method:v,path:y,query:h,defaultBaseURL:x}=p,T=this.buildURL(y,h,x);"timeout"in p&&h_("timeout",p.timeout),p.timeout=(s=p.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:b,body:_}=this.buildBody({options:p}),w=await this.buildHeaders({options:t,method:v,bodyHeaders:b,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:v,headers:w},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"}),_&&{body:_}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(d=p.fetchOptions)!==null&&d!==void 0?d:{}),url:T,timeout:p.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:s,retryCount:r}){let d={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),d[this.idempotencyHeader]=t.idempotencyKey);const p=await this.authHeaders(t);let v=il([d,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),T_()),this._options.defaultHeaders,s,t.headers,p]);return this.validateHeaders(v),v.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=il([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:E_(t)}:this.encoder({body:t,headers:s})}}Os.DEFAULT_TIMEOUT=6e4;class We extends Os{constructor(){super(...arguments),this.interactions=new bg(this)}}_g=We;We.GeminiNextGenAPIClient=_g;We.GeminiNextGenAPIClientError=Ht;We.APIError=ut;We.APIConnectionError=qs;We.APIConnectionTimeoutError=sg;We.APIUserAbortError=Au;We.NotFoundError=cg;We.ConflictError=dg;We.RateLimitError=pg;We.BadRequestError=ag;We.AuthenticationError=rg;We.InternalServerError=mg;We.PermissionDeniedError=ug;We.UnprocessableEntityError=fg;We.toFile=M_;We.Interactions=bg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O_(i,t){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function F_(i,t){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function Y_(i,t){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&c(o,["sdkHttpResponse"],s),o}function J_(i,t){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&c(o,["sdkHttpResponse"],s),o}function X_(i,t,o){const s={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=u(i,["epochCount"]);t!==void 0&&d!=null&&c(t,["tuningTask","hyperparameters","epochCount"],d);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(s,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const v=u(i,["batchSize"]);t!==void 0&&v!=null&&c(t,["tuningTask","hyperparameters","batchSize"],v);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function K_(i,t,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const _=u(i,["validationDataset"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec"],Mh(_))}else if(r==="PREFERENCE_TUNING"){const _=u(i,["validationDataset"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec"],Mh(_))}const d=u(i,["tunedModelDisplayName"]);t!==void 0&&d!=null&&c(t,["tunedModelDisplayName"],d);const p=u(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const _=u(i,["epochCount"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],_)}else if(v==="PREFERENCE_TUNING"){const _=u(i,["epochCount"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],_)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const _=u(i,["learningRateMultiplier"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],_)}else if(y==="PREFERENCE_TUNING"){const _=u(i,["learningRateMultiplier"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],_)}let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const _=u(i,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],_)}else if(h==="PREFERENCE_TUNING"){const _=u(i,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],_)}let x=u(o,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const _=u(i,["adapterSize"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],_)}else if(x==="PREFERENCE_TUNING"){const _=u(i,["adapterSize"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],_)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=u(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const b=u(i,["beta"]);return t!==void 0&&b!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],b),s}function j_(i,t){const o={},s=u(i,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&sC(d);const p=u(i,["config"]);return p!=null&&X_(p,o),o}function Q_(i,t){const o={},s=u(i,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&aC(d,o,t);const p=u(i,["config"]);return p!=null&&K_(p,o,t),o}function Z_(i,t){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function $_(i,t){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function W_(i,t,o){const s={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),s}function eC(i,t,o){const s={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),s}function tC(i,t){const o={},s=u(i,["config"]);return s!=null&&W_(s,o),o}function nC(i,t){const o={},s=u(i,["config"]);return s!=null&&eC(s,o),o}function iC(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(i,["tunedModels"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(v=>Cg(v))),c(o,["tuningJobs"],p)}return o}function oC(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(i,["tuningJobs"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(v=>Ru(v))),c(o,["tuningJobs"],p)}return o}function lC(i,t){const o={},s=u(i,["name"]);s!=null&&c(o,["model"],s);const r=u(i,["name"]);return r!=null&&c(o,["endpoint"],r),o}function sC(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=u(i,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),c(o,["examples","examples"],r)}return o}function aC(i,t,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let d=u(o,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(d==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Cg(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const d=u(i,["state"]);d!=null&&c(o,["state"],qh(d));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const v=u(i,["tuningTask","startTime"]);v!=null&&c(o,["startTime"],v);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const x=u(i,["description"]);x!=null&&c(o,["description"],x);const T=u(i,["baseModel"]);T!=null&&c(o,["baseModel"],T);const b=u(i,["_self"]);return b!=null&&c(o,["tunedModel"],lC(b)),o}function Ru(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const d=u(i,["state"]);d!=null&&c(o,["state"],qh(d));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const v=u(i,["startTime"]);v!=null&&c(o,["startTime"],v);const y=u(i,["endTime"]);y!=null&&c(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const x=u(i,["error"]);x!=null&&c(o,["error"],x);const T=u(i,["description"]);T!=null&&c(o,["description"],T);const b=u(i,["baseModel"]);b!=null&&c(o,["baseModel"],b);const _=u(i,["tunedModel"]);_!=null&&c(o,["tunedModel"],_);const w=u(i,["preTunedModel"]);w!=null&&c(o,["preTunedModel"],w);const k=u(i,["supervisedTuningSpec"]);k!=null&&c(o,["supervisedTuningSpec"],k);const R=u(i,["preferenceOptimizationSpec"]);R!=null&&c(o,["preferenceOptimizationSpec"],R);const P=u(i,["tuningDataStats"]);P!=null&&c(o,["tuningDataStats"],P);const j=u(i,["encryptionSpec"]);j!=null&&c(o,["encryptionSpec"],j);const G=u(i,["partnerModelTuningSpec"]);G!=null&&c(o,["partnerModelTuningSpec"],G);const J=u(i,["customBaseModel"]);J!=null&&c(o,["customBaseModel"],J);const $=u(i,["experiment"]);$!=null&&c(o,["experiment"],$);const ne=u(i,["labels"]);ne!=null&&c(o,["labels"],ne);const K=u(i,["outputUri"]);K!=null&&c(o,["outputUri"],K);const fe=u(i,["pipelineJob"]);fe!=null&&c(o,["pipelineJob"],fe);const te=u(i,["serviceAccount"]);te!=null&&c(o,["serviceAccount"],te);const ge=u(i,["tunedModelDisplayName"]);ge!=null&&c(o,["tunedModelDisplayName"],ge);const Te=u(i,["veoTuningSpec"]);return Te!=null&&c(o,["veoTuningSpec"],Te),o}function rC(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const d=u(i,["metadata"]);d!=null&&c(o,["metadata"],d);const p=u(i,["done"]);p!=null&&c(o,["done"],p);const v=u(i,["error"]);return v!=null&&c(o,["error"],v),o}function Mh(i,t){const o={},s=u(i,["gcsUri"]);s!=null&&c(o,["validationDatasetUri"],s);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uC extends gn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new pi(hn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:r});return d.baseModel=void 0,await this.tuneInternal(d)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),d=await this.tuneMldevInternal(r);let p="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?p=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(p=d.name.split("/operations/")[0]),{name:p,state:vu.JOB_STATE_QUEUED}}}}async getInternal(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=$_(t);return v=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>Ru(x))}else{const h=Z_(t);return v=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>Cg(x))}}async listInternal(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=nC(t);return v=ee("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>{const T=oC(x),b=new nh;return Object.assign(b,T),b})}else{const h=tC(t);return v=ee("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>{const T=iC(x),b=new nh;return Object.assign(b,T),b})}}async cancel(t){var o,s,r,d;let p,v="",y={};if(this.apiClient.isVertexAI()){const h=F_(t);return v=ee("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>{const T=J_(x),b=new ih;return Object.assign(b,T),b})}else{const h=O_(t);return v=ee("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const b=T;return b.sdkHttpResponse={headers:x.headers},b})),p.then(x=>{const T=Y_(x),b=new ih;return Object.assign(b,T),b})}}async tuneInternal(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI()){const v=Q_(t,t);return d=ee("tuningJobs",v._url),p=v._query,delete v._url,delete v._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>Ru(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=j_(t);return d=ee("tunedModels",v._url),p=v._query,delete v._url,delete v._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>rC(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cC{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const dC=1024*1024*8,fC=3,pC=1e3,mC=2,Ls="x-goog-upload-status";async function hC(i,t,o){var s;const r=await Ag(i,t,o),d=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Ls])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function gC(i,t,o){var s;const r=await Ag(i,t,o),d=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Ls])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=Lh(d),v=new Uu;return Object.assign(v,p),v}async function Ag(i,t,o){var s,r;let d=0,p=0,v=new yu(new Response),y="upload";for(d=i.size;p<d;){const h=Math.min(dC,d-p),x=i.slice(p,p+h);p+h>=d&&(y+=", finalize");let T=0,b=pC;for(;T<fC&&(v=await o.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(h)}}}),!(!((s=v==null?void 0:v.headers)===null||s===void 0)&&s[Ls]));)T++,await yC(b),b=b*mC;if(p+=h,((r=v==null?void 0:v.headers)===null||r===void 0?void 0:r[Ls])!=="active")break;if(d<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return v}async function vC(i){return{size:i.size,type:i.type}}function yC(i){return new Promise(t=>setTimeout(t,i))}class xC{async upload(t,o,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await hC(t,o,s)}async uploadToFileSearchStore(t,o,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await gC(t,o,s)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await vC(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SC{create(t,o,s){return new TC(t,o,s)}}class TC{constructor(t,o,s){this.url=t,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ih="x-goog-api-key";class bC{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(Ih)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Ih,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EC="gl-node/";class Ng{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new We({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const s=yy(t.httpOptions,t.vertexai,void 0,void 0);s&&(t.httpOptions?t.httpOptions.baseUrl=s:t.httpOptions={baseUrl:s}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new bC(this.apiKey);this.apiClient=new vE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:EC+"web",uploader:new xC,downloader:new cC}),this.models=new PE(this.apiClient),this.live=new ME(this.apiClient,r,new SC),this.batches=new Xx(this.apiClient),this.chats=new wS(this.models,this.apiClient),this.caches=new CS(this.apiClient),this.files=new HS(this.apiClient),this.operations=new GE(this.apiClient),this.authTokens=new WE(this.apiClient),this.tunings=new uC(this.apiClient),this.fileSearchStores=new a_(this.apiClient)}}const wg="PLACEHOLDER_API_KEY",Ps=async i=>{var t;try{const o=new Ng({apiKey:wg}),s="gemini-3-flash-preview",r=`
      You are a content filter for a high-security student platform.
      Your task is to take the provided text and replace EVERY instance of swearing, profanity, slurs, or highly toxic language with hashtags (#) of equal length to the word (e.g., "fuck" becomes "####").
      Do not change any other part of the sentence. Maintain original punctuation and casing for non-flagged words.
      
      Input Text: "${i}"
      
      Respond ONLY with the sanitized text string.
    `;return((t=(await o.models.generateContent({model:s,contents:r})).text)==null?void 0:t.trim())||i}catch(o){return console.error("Gemini sanitization failed",o),i}},Rg=async i=>{try{const t=new Ng({apiKey:wg}),o="gemini-3-flash-preview",s=`
      Analyze the following text for a student platform. 
      Check for: Extreme Hate Speech, Explicit Threats of Violence, or Illegal content.
      Minor profanity will be handled by a different filter, so focus on high-severity risks.
      
      Text: "${i}"
      
      Respond with JSON only: { "safe": boolean, "reason": string | null }
    `,d=(await t.models.generateContent({model:o,contents:s})).text;if(!d)return{safe:!0};const p=d.replace(/```json/g,"").replace(/```/g,"").trim();return JSON.parse(p)}catch(t){return console.error("Gemini safety check failed",t),{safe:!0}}},_C=({currentUser:i,refreshTrigger:t,onActivity:o})=>{const[s,r]=W.useState([]),[d,p]=W.useState(null),[v,y]=W.useState({}),[h,x]=W.useState(""),[T,b]=W.useState(!1),[_,w]=W.useState(!1),[k,R]=W.useState(["",""]),[P,j]=W.useState("public"),[G,J]=W.useState([]),[$,ne]=W.useState({});W.useEffect(()=>{K()},[t,P]);const K=async()=>{const[Q,ce,A]=await Promise.all([pe.getPosts(),pe.getSettings(),pe.getAllUsers()]),V={};A.forEach(Z=>V[Z.studentId]=Z),y(V);let X=[];P==="public"?X=Q.filter(Z=>Z.category==="general"||Z.category==="poll"||Z.category==="announcement"):Te(i)?X=Q.filter(Z=>Z.category==="ticket"):X=Q.filter(Z=>Z.category==="ticket"&&Z.authorId===i.studentId),r(X),p(ce)},fe=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],te=fe.indexOf(i.currentCard),ge=d?fe.indexOf(d.minRankToPost):0,Te=Q=>fe.indexOf(Q.currentCard)>=9||Q.isAdmin,Y=(te>=ge||i.isAdmin)&&P==="public",ie=P==="council",ue=async()=>{if(!h.trim())return;b(!0);const Q=await Ps(h),ce=await Rg(Q),A=P==="council"?"ticket":_?"poll":"general",V={id:`post-${Date.now()}`,authorId:i.studentId,authorName:i.username,authorRank:i.currentCard,content:Q,category:A,status:ce.safe?"approved":"flagged",upvotes:[],downvotes:[],comments:[],pollOptions:_?k.map(X=>({text:X,votes:[]})):void 0,createdAt:new Date().toISOString()};await pe.savePost(V),await pe.saveUser({...i,totalPoints:i.totalPoints+Rs.POST}),x(""),b(!1),K(),o()},B=async Q=>{const ce=$[Q];if(!(ce!=null&&ce.trim()))return;const A=s.find(se=>se.id===Q);if(!A)return;const V=await Ps(ce),X={id:`c-${Date.now()}`,authorId:i.studentId,authorName:i.username,content:V,createdAt:new Date().toISOString()},Z={...A,comments:[...A.comments||[],X]};await pe.savePost(Z),ne({...$,[Q]:""}),K()},M=async(Q,ce)=>{Q.stopPropagation(),Q.preventDefault(),r(A=>A.filter(V=>V.id!==ce)),await pe.deletePost(ce),o()},F=async(Q,ce,A)=>{Q.stopPropagation(),Q.preventDefault(),r(V=>V.map(X=>X.id===ce?{...X,comments:X.comments.filter(Z=>Z.id!==A)}:X)),await pe.deleteComment(ce,A)},le=Q=>{G.includes(Q)?J(ce=>ce.filter(A=>A!==Q)):J(ce=>[...ce,Q])};return g.jsxs("div",{className:"max-w-3xl mx-auto space-y-8 pb-32 animate-in fade-in duration-500",children:[g.jsxs("div",{className:"flex bg-black border border-white/10 rounded-xl p-1 relative z-10",children:[g.jsx("button",{onClick:()=>j("public"),className:`flex-1 py-3 text-xs font-bold uppercase tracking-widest rounded-lg transition-all ${P==="public"?"bg-white text-black shadow-lg":"text-neutral-500 hover:text-white"}`,children:"Public Broadcast"}),g.jsxs("button",{onClick:()=>j("council"),className:`flex-1 py-3 text-xs font-bold uppercase tracking-widest rounded-lg transition-all flex items-center justify-center gap-2 ${P==="council"?"bg-emerald-900/50 text-emerald-400 border border-emerald-500/50 shadow-[0_0_20px_rgba(16,185,129,0.2)]":"text-neutral-500 hover:text-emerald-500"}`,children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Council Uplink"]})]}),g.jsxs("div",{className:"flex justify-between items-center px-2",children:[g.jsx("h2",{className:`text-xl font-display font-bold ${P==="council"?"text-emerald-500":"text-white"}`,children:P==="public"?"Global Network":"Secure Channel"}),g.jsxs("div",{className:"text-[10px] font-mono text-neutral-500 uppercase tracking-widest",children:["Frequency: ",P==="public"?"Open":"Encrypted"]})]}),(Y||ie)&&g.jsxs("div",{className:`glass-panel rounded-2xl border p-6 shadow-2xl relative overflow-hidden ${P==="council"?"border-emerald-500/20":"border-white/5"}`,children:[g.jsx("div",{className:`absolute top-0 left-0 w-1 h-full bg-gradient-to-b ${P==="council"?"from-emerald-500 to-transparent":"from-brand-red to-transparent"}`}),g.jsx("div",{className:"flex gap-6",children:g.jsxs("div",{className:"flex-1",children:[g.jsx("textarea",{value:h,onChange:Q=>x(Q.target.value),placeholder:P==="council"?"Send secure message to the High Table...":"Share intelligence...",className:"w-full bg-black/30 border border-white/10 rounded-xl p-4 text-sm text-white outline-none h-24 resize-none focus:border-white/20"}),g.jsxs("div",{className:"flex justify-between items-center mt-4",children:[P==="public"?g.jsx("button",{onClick:()=>w(!_),className:"text-[10px] text-neutral-500 font-bold uppercase tracking-widest hover:text-white",children:_?"Poll Mode Active":"Toggle Poll"}):g.jsxs("div",{className:"text-[10px] text-emerald-600 font-mono flex items-center gap-2",children:[g.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),"ENCRYPTED"]}),g.jsx("button",{onClick:ue,disabled:T,className:`px-6 py-2 text-white text-xs font-bold uppercase rounded-lg shadow-lg ${P==="council"?"bg-emerald-700 hover:bg-emerald-600":"bg-brand-red hover:bg-brand-red/80"}`,children:T?"...":P==="council"?"Transmit":"Post"})]})]})})]}),g.jsxs("div",{className:"space-y-6",children:[s.map(Q=>{var se,ye;const ce=Q.authorId===i.studentId,A=i.isAdmin||ce,V=v[Q.authorId],X=(V==null?void 0:V.username)||Q.authorName,Z=(V==null?void 0:V.currentCard)||Q.authorRank;return g.jsxs("div",{className:`glass-panel border rounded-2xl p-6 relative group ${Q.category==="ticket"?"border-emerald-500/20 bg-emerald-950/10":"border-white/5"}`,children:[A&&g.jsx("button",{onClick:me=>M(me,Q.id),className:"absolute top-4 right-4 z-50 p-2 bg-black hover:bg-red-500 text-neutral-500 hover:text-white rounded-lg transition-all border border-white/10 hover:border-red-500 shadow-xl cursor-pointer",title:"Purge Post",children:g.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),g.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[g.jsx(mn,{rankId:Z,size:"sm"}),g.jsxs("div",{children:[g.jsxs("div",{className:`font-bold text-sm ${Q.category==="ticket"?"text-emerald-400":"text-white"}`,children:[X,Q.category==="ticket"&&g.jsx("span",{className:"ml-2 text-[10px] bg-emerald-500/20 px-1.5 py-0.5 rounded border border-emerald-500/30",children:"TICKET"})]}),g.jsx("div",{className:"text-[10px] text-neutral-600 font-mono",children:new Date(Q.createdAt).toLocaleDateString()})]})]}),g.jsx("p",{className:"text-neutral-300 text-sm font-light leading-relaxed whitespace-pre-wrap",children:Q.content}),Q.category==="ticket"&&g.jsxs("div",{className:"mt-6 border-t border-emerald-500/20 pt-4",children:[g.jsx("button",{onClick:()=>le(Q.id),className:"text-[10px] font-bold uppercase tracking-widest text-emerald-600 hover:text-emerald-400 flex items-center gap-2",children:G.includes(Q.id)?"Hide Responses":`View Responses (${((se=Q.comments)==null?void 0:se.length)||0})`}),G.includes(Q.id)&&g.jsxs("div",{className:"mt-4 space-y-4 animate-in fade-in slide-in-from-top-2",children:[g.jsxs("div",{className:"space-y-3 max-h-40 overflow-y-auto custom-scrollbar",children:[(ye=Q.comments)==null?void 0:ye.map(me=>{const je=i.isAdmin||me.authorId===i.studentId,Pe=v[me.authorId],Jn=(Pe==null?void 0:Pe.username)||me.authorName;return g.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-500/10 p-3 rounded-lg relative group/comment hover:bg-emerald-900/30 transition-colors",children:[je&&g.jsx("button",{onClick:mi=>F(mi,Q.id,me.id),className:"absolute top-2 right-2 bg-black text-neutral-500 hover:text-red-500 p-1.5 rounded transition-colors z-50 cursor-pointer border border-white/5",title:"Delete Comment",children:g.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),g.jsxs("div",{className:"flex justify-between items-baseline mb-1 mr-8",children:[g.jsx("span",{className:"text-emerald-400 text-xs font-bold",children:Jn}),g.jsx("span",{className:"text-[9px] text-emerald-700/70",children:new Date(me.createdAt).toLocaleTimeString()})]}),g.jsx("p",{className:"text-neutral-300 text-xs pr-2",children:me.content})]},me.id)}),(!Q.comments||Q.comments.length===0)&&g.jsx("div",{className:"text-neutral-600 text-xs italic",children:"Awaiting Council Response..."})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",value:$[Q.id]||"",onChange:me=>ne({...$,[Q.id]:me.target.value}),placeholder:"Add response...",className:"flex-1 bg-black/40 border border-emerald-500/30 rounded px-3 py-2 text-xs text-white outline-none focus:border-emerald-500"}),g.jsx("button",{onClick:()=>B(Q.id),className:"px-4 py-2 bg-emerald-800 text-emerald-100 text-[10px] font-bold uppercase rounded hover:bg-emerald-700",children:"Reply"})]})]})]})]},Q.id)}),s.length===0&&g.jsx("div",{className:"text-center py-20 text-neutral-600 font-mono text-sm border-2 border-dashed border-white/5 rounded-2xl",children:P==="public"?"No signals detected on the network.":"Secure Channel Clear. No tickets."})]})]})},CC=({user:i})=>{const t=Fn[i.currentCard],o=i.currentCard==="A",s=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],r=s.indexOf(i.currentCard),d=o?"A":s[r+1]||"A",p=Fn[d],v=o?100:Math.min(99.9,Math.max(0,(i.totalPoints-t.minPoints)/(p.minPoints-t.minPoints)*100)),y=t.voteWeight;return g.jsxs("div",{className:"space-y-8 pb-32 animate-in fade-in duration-700 slide-in-from-bottom-4",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-4 border-b border-white/5 pb-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-brand-red font-mono text-xs uppercase tracking-[0.3em] mb-2",children:"Welcome Back"}),g.jsx("h1",{className:"text-4xl md:text-5xl font-display font-bold text-white tracking-tight",children:i.username})]}),g.jsxs("div",{className:"text-right hidden md:block",children:[g.jsx("div",{className:"text-xs text-neutral-500 font-mono tracking-widest uppercase mb-1",children:"Student ID"}),g.jsx("div",{className:"text-xl text-neutral-300 font-display font-bold tracking-wider",children:i.studentId})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[g.jsxs("div",{className:"lg:col-span-7 glass-panel rounded-2xl p-8 relative overflow-hidden group",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-neutral-800/50 to-black/50 z-0"}),g.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 text-9xl font-display font-bold text-white select-none group-hover:scale-105 transition-transform duration-1000 z-0",children:i.currentCard.replace("","")}),g.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row items-center sm:items-start gap-8",children:[g.jsx("div",{className:"transform hover:scale-105 transition-transform duration-500 hover:rotate-2 shadow-2xl shadow-black/50",children:g.jsx(mn,{rankId:i.currentCard,size:"lg"})}),g.jsxs("div",{className:"flex-1 w-full text-center sm:text-left",children:[g.jsxs("div",{className:"inline-block px-3 py-1 bg-brand-red/10 border border-brand-red/20 rounded-full text-brand-red text-[10px] font-bold uppercase tracking-[0.2em] mb-3",children:[t.tier," Clearance"]}),g.jsx("h2",{className:"text-3xl font-display font-bold text-white mb-2 tracking-wide",children:t.name}),g.jsx("p",{className:"text-neutral-400 text-sm leading-relaxed mb-8 max-w-sm",children:o?"You have attained the ultimate authority: Ace of Spades. The system recognizes your absolute sovereignty.":`You have ascended to the tier of ${t.tier}. Your influence is growing within the system. Maintain momentum to reach the Council.`}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between text-xs font-mono font-medium text-neutral-400",children:[g.jsxs("span",{className:"text-brand-gold",children:[i.totalPoints.toLocaleString()," PTS"]}),g.jsx("span",{children:o?"MAX CLEARANCE":`${p.minPoints.toLocaleString()} PTS`})]}),g.jsx("div",{className:"h-1.5 bg-neutral-900 rounded-full overflow-hidden border border-white/5",children:g.jsx("div",{className:"h-full bg-gradient-to-r from-brand-red via-brand-crimson to-brand-gold shadow-[0_0_10px_rgba(220,38,38,0.5)]",style:{width:`${v}%`,transition:"width 1.5s cubic-bezier(0.4, 0, 0.2, 1)"}})}),g.jsx("p",{className:"text-right text-[10px] text-neutral-600 mt-1 uppercase tracking-widest",children:o?"TOP CLEARANCE ATTAINED":`Target: ${p.name}`})]})]})]})]}),g.jsx("div",{className:"lg:col-span-5 space-y-4",children:g.jsxs("div",{className:"grid grid-cols-2 gap-4 h-full",children:[g.jsxs("div",{className:"glass-panel p-5 rounded-2xl flex flex-col justify-between group hover:bg-white/5 transition-colors",children:[g.jsx("div",{className:"flex justify-between items-start",children:g.jsx("div",{className:"p-2 bg-neutral-900/50 rounded-lg text-neutral-400 group-hover:text-brand-gold transition-colors",children:g.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]})})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] text-neutral-500 uppercase tracking-widest font-bold mb-1",children:"Impact"}),g.jsx("p",{className:"text-3xl font-display font-bold text-white",children:i.stats.commentsCreated+i.stats.votesGiven+i.stats.postsCreated}),g.jsx("p",{className:"text-[9px] text-neutral-600 font-mono",children:"Total System Interactions"})]})]}),g.jsxs("div",{className:"glass-panel p-5 rounded-2xl flex flex-col justify-between group hover:bg-white/5 transition-colors",children:[g.jsx("div",{className:"flex justify-between items-start",children:g.jsx("div",{className:"p-2 bg-neutral-900/50 rounded-lg text-neutral-400 group-hover:text-brand-red transition-colors",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] text-neutral-500 uppercase tracking-widest font-bold mb-1",children:"Influence"}),g.jsxs("p",{className:"text-3xl font-display font-bold text-white",children:[y,"x"]}),g.jsx("p",{className:"text-[9px] text-neutral-600 font-mono",children:"Weighted Vote Power"})]})]}),g.jsx("div",{className:"col-span-2 glass-panel p-6 rounded-2xl relative overflow-hidden flex items-center justify-center opacity-50",children:g.jsx("p",{className:"text-xs font-mono text-neutral-600 uppercase tracking-widest",children:"Protocol Directives Online"})})]})})]}),g.jsxs("div",{className:"glass-panel rounded-2xl p-8 border-t border-white/5",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-neutral-800 to-transparent"}),g.jsx("h3",{className:"text-neutral-500 font-mono text-[10px] uppercase tracking-[0.3em]",children:"System Privileges"}),g.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-neutral-800 to-transparent"})]}),g.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:t.permissions.map(h=>g.jsxs("div",{className:"px-4 py-2 bg-black/40 border border-white/5 rounded-lg text-xs text-neutral-400 font-mono hover:border-brand-red/30 hover:text-white transition-colors cursor-default",children:[g.jsx("span",{className:"text-brand-red/50 mr-2",children:">"}),h.toUpperCase().replace(/([A-Z])/g," $1").trim()]},h))})]})]})},AC=()=>{const[i,t]=W.useState([]),[o,s]=W.useState(!0);return W.useEffect(()=>{(async()=>{const p=(await pe.getAllUsers()).filter(v=>!v.isGuest).sort((v,y)=>y.totalPoints-v.totalPoints);t(p),s(!1)})()},[]),o?g.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[g.jsx("div",{className:"w-12 h-1 bg-neutral-800 rounded-full overflow-hidden",children:g.jsx("div",{className:"w-full h-full bg-brand-red animate-shine",style:{backgroundSize:"200% auto"}})}),g.jsx("p",{className:"text-xs font-mono text-neutral-500 uppercase tracking-widest",children:"Accessing Mainframe..."})]}):g.jsxs("div",{className:"pb-32 animate-in fade-in duration-700",children:[g.jsxs("div",{className:"flex items-center justify-between mb-12",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-display font-bold text-white tracking-wide",children:"Elite Rankings"}),g.jsx("p",{className:"text-neutral-500 text-xs mt-1 font-mono uppercase tracking-widest",children:"Global Competition  Season 1"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"w-2 h-2 bg-brand-red rounded-full animate-pulse"}),g.jsx("span",{className:"text-[10px] font-mono text-brand-red font-bold",children:"LIVE"})]})]}),g.jsxs("div",{className:"flex items-end justify-center gap-4 md:gap-8 mb-16 px-4",children:[i[1]&&g.jsxs("div",{className:"flex flex-col items-center group relative w-1/3 max-w-[140px]",children:[g.jsx("div",{className:"absolute inset-0 bg-white/5 blur-2xl rounded-full opacity-0 group-hover:opacity-20 transition-opacity"}),g.jsx(mn,{rankId:i[1].currentCard,size:"md",className:"mb-4 transform group-hover:-translate-y-4 transition-transform duration-500 relative z-10"}),g.jsxs("div",{className:"w-full bg-gradient-to-b from-neutral-400 to-neutral-600 h-32 flex flex-col items-center justify-start pt-4 rounded-t-xl relative overflow-hidden border-t border-white/20",children:[g.jsx("div",{className:"absolute top-0 inset-x-0 h-px bg-white/50"}),g.jsx("span",{className:"text-4xl font-display font-black text-white/20 mb-1",children:"2"}),g.jsx("span",{className:"text-xs font-bold text-white truncate w-24 text-center px-2",children:i[1].username}),g.jsx("span",{className:"text-[10px] text-neutral-300 font-mono mt-1",children:i[1].totalPoints.toLocaleString()})]})]}),i[0]&&g.jsxs("div",{className:"flex flex-col items-center group relative w-1/3 max-w-[160px] z-10 -mx-2",children:[g.jsx("div",{className:"absolute inset-0 bg-brand-gold/10 blur-3xl rounded-full opacity-50 animate-pulse-slow"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 text-brand-gold text-2xl animate-float filter drop-shadow-[0_0_10px_rgba(251,191,36,0.5)]",children:""}),g.jsx(mn,{rankId:i[0].currentCard,size:"lg",className:"mb-6 transform group-hover:-translate-y-4 transition-transform duration-500 shadow-[0_0_40px_rgba(251,191,36,0.2)]"})]}),g.jsxs("div",{className:"w-full bg-gradient-to-b from-brand-gold to-yellow-700 h-44 flex flex-col items-center justify-start pt-6 rounded-t-xl relative overflow-hidden border-t border-white/30 shadow-2xl",children:[g.jsx("div",{className:"absolute top-0 inset-x-0 h-px bg-white/60"}),g.jsx("span",{className:"text-5xl font-display font-black text-white/20 mb-2",children:"1"}),g.jsx("span",{className:"text-sm font-bold text-white truncate w-32 text-center px-2",children:i[0].username}),g.jsxs("span",{className:"text-[10px] text-yellow-100 font-mono font-bold mt-1 bg-black/20 px-2 py-0.5 rounded",children:[i[0].totalPoints.toLocaleString()," PTS"]})]})]}),i[2]&&g.jsxs("div",{className:"flex flex-col items-center group relative w-1/3 max-w-[140px]",children:[g.jsx("div",{className:"absolute inset-0 bg-brand-red/5 blur-2xl rounded-full opacity-0 group-hover:opacity-20 transition-opacity"}),g.jsx(mn,{rankId:i[2].currentCard,size:"md",className:"mb-4 transform group-hover:-translate-y-4 transition-transform duration-500 relative z-10"}),g.jsxs("div",{className:"w-full bg-gradient-to-b from-brand-darkRed to-neutral-900 h-24 flex flex-col items-center justify-start pt-4 rounded-t-xl relative overflow-hidden border-t border-white/20",children:[g.jsx("div",{className:"absolute top-0 inset-x-0 h-px bg-white/40"}),g.jsx("span",{className:"text-4xl font-display font-black text-white/20 mb-1",children:"3"}),g.jsx("span",{className:"text-xs font-bold text-neutral-300 truncate w-24 text-center px-2",children:i[2].username}),g.jsx("span",{className:"text-[10px] text-neutral-500 font-mono mt-1",children:i[2].totalPoints.toLocaleString()})]})]})]}),g.jsxs("div",{className:"glass-panel border border-white/5 rounded-2xl overflow-hidden backdrop-blur-md",children:[g.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3 border-b border-white/5 text-[10px] font-mono text-neutral-500 uppercase tracking-widest",children:[g.jsx("div",{className:"col-span-1 text-center",children:"Rank"}),g.jsx("div",{className:"col-span-7",children:"Agent"}),g.jsx("div",{className:"col-span-4 text-right",children:"Score"})]}),i.slice(3).map((r,d)=>g.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center px-6 py-4 border-b border-white/5 hover:bg-white/5 transition-colors group",children:[g.jsx("div",{className:"col-span-1 text-center font-mono font-bold text-neutral-600 group-hover:text-white transition-colors",children:d+4}),g.jsxs("div",{className:"col-span-7 flex items-center gap-4",children:[g.jsx("div",{className:"w-8 h-10 rounded bg-neutral-900 border border-white/5 flex items-center justify-center text-xs font-bold text-neutral-400 group-hover:border-brand-red/30 transition-colors",children:r.currentCard.replace("","")}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("div",{className:"font-bold text-sm text-neutral-300 group-hover:text-white truncate transition-colors",children:r.username}),g.jsx("div",{className:"text-[10px] text-neutral-600 group-hover:text-neutral-500",children:r.house})]})]}),g.jsx("div",{className:"col-span-4 text-right",children:g.jsx("div",{className:"font-mono text-brand-gold font-bold",children:r.totalPoints.toLocaleString()})})]},r.studentId))]})]})},NC=({currentUser:i,refreshTrigger:t,onActivity:o})=>{const[s,r]=W.useState([]),[d,p]=W.useState(""),[v,y]=W.useState(!1),[h,x]=W.useState({}),[T,b]=W.useState({}),[_,w]=W.useState([]),R=["2","3","4","5","6","7","8","9","10","J","Q","K","A"].indexOf(i.currentCard),P=R>9,j=i.isAdmin||R>=11;W.useEffect(()=>{G()},[t]);const G=async()=>{const[Y,ie]=await Promise.all([pe.getPosts(),pe.getAllUsers()]),ue={};ie.forEach(M=>ue[M.studentId]=M),x(ue);const B=Y.filter(M=>M.category==="proposal");r(B)},J=Y=>{var ue;let ie=0;return Y.upvotes.forEach(B=>{const M=h[B],F=M?Fn[M.currentCard].voteWeight:1;ie+=F}),(ue=Y.downvotes)==null||ue.forEach(B=>{const M=h[B],F=M?Fn[M.currentCard].voteWeight:1;ie-=F}),ie},$=async()=>{if(!d.trim()||!P)return;y(!0);const Y=await Ps(d),ie=await Rg(Y);let ue="approved";ie.safe||(ue="flagged");const B={id:`proposal-${Date.now()}`,authorId:i.studentId,authorName:i.username,authorRank:i.currentCard,content:Y,category:"proposal",status:ue,upvotes:[],downvotes:[],comments:[],createdAt:new Date().toISOString()};await pe.savePost(B),p(""),y(!1),G(),o()},ne=async(Y,ie)=>{if(Y.status==="passed"||Y.status==="failed"||Y.upvotes.includes(i.studentId)||Y.downvotes&&Y.downvotes.includes(i.studentId))return;const ue=ie==="up";let B=[...Y.upvotes],M=[...Y.downvotes||[]];ue?B.push(i.studentId):M.push(i.studentId);const F={...Y,upvotes:B,downvotes:M};await pe.savePost(F);const le=await pe.getUser(i.studentId);if(le){const Q={...le,totalPoints:le.totalPoints+Rs.VOTE_ACTION,stats:{...le.stats,votesGiven:le.stats.votesGiven+1}};await pe.saveUser(Q),o()}G()},K=async(Y,ie)=>{const B={...Y,status:ie==="pass"?"passed":"failed"};await pe.savePost(B),G()},fe=async(Y,ie)=>{Y.stopPropagation(),Y.preventDefault(),r(ue=>ue.filter(B=>B.id!==ie)),await pe.deletePost(ie),o()},te=async Y=>{const ie=T[Y];if(!(ie!=null&&ie.trim()))return;const ue=s.find(le=>le.id===Y);if(!ue)return;const B=await Ps(ie),M={id:`c-${Date.now()}`,authorId:i.studentId,authorName:i.username,content:B.trim(),createdAt:new Date().toISOString()},F={...ue,comments:[...ue.comments||[],M]};await pe.savePost(F),b({...T,[Y]:""}),G()},ge=async(Y,ie,ue)=>{Y.stopPropagation(),Y.preventDefault(),r(B=>B.map(M=>M.id===ie&&M.comments?{...M,comments:M.comments.filter(F=>F.id!==ue)}:M)),await pe.deleteComment(ie,ue)},Te=Y=>{_.includes(Y)?w(_.filter(ie=>ie!==Y)):w([..._,Y])};return g.jsxs("div",{className:"max-w-4xl mx-auto space-y-12 pb-32 animate-in fade-in duration-700",children:[g.jsxs("div",{className:"text-center py-8 relative",children:[g.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-brand-gold/5 blur-[80px] rounded-full pointer-events-none"}),g.jsx("h1",{className:"text-4xl md:text-5xl font-display font-black text-white tracking-tight relative z-10 mb-2",children:"THE COUNCIL CHAMBER"}),g.jsx("p",{className:"text-brand-gold font-mono text-xs uppercase tracking-[0.4em] relative z-10",children:"High Table Policy Proposals"})]}),P?g.jsxs("div",{className:"glass-panel rounded-2xl border border-brand-gold/20 p-8 shadow-[0_0_50px_rgba(0,0,0,0.5)] relative overflow-hidden group",children:[g.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-brand-gold to-transparent"}),g.jsxs("div",{className:"flex gap-8",children:[g.jsx("div",{className:"hidden sm:block",children:g.jsx(mn,{rankId:i.currentCard,size:"md",className:"shadow-[0_0_20px_rgba(251,191,36,0.1)]"})}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[g.jsx("span",{className:"text-brand-gold font-display font-bold uppercase tracking-widest text-sm",children:"Submit New Directive"}),g.jsx("div",{className:"px-2 py-1 rounded bg-brand-gold/10 border border-brand-gold/20 text-[10px] text-brand-gold font-mono uppercase",children:"Clearance Verified"})]}),g.jsx("textarea",{value:d,onChange:Y=>p(Y.target.value),placeholder:"Outline your policy for the future of Greenhead...",className:"w-full bg-black/50 border border-brand-gold/20 rounded-xl p-6 text-base text-white placeholder-neutral-600 focus:border-brand-gold focus:ring-1 focus:ring-brand-gold/50 focus:outline-none resize-none h-40 transition-all font-serif italic leading-relaxed"}),g.jsx("div",{className:"flex justify-end mt-6",children:g.jsx("button",{onClick:$,disabled:v||!d.trim(),className:`px-8 py-3 rounded-lg font-bold text-xs uppercase tracking-[0.2em] transition-all duration-300 ${v||!d.trim()?"bg-neutral-900 text-neutral-600 cursor-not-allowed border border-neutral-800":"bg-brand-gold hover:bg-yellow-400 text-black shadow-[0_0_20px_rgba(251,191,36,0.4)] hover:shadow-[0_0_30px_rgba(251,191,36,0.6)]"}`,children:v?"Submitting...":"Table Proposal"})})]})]})]}):g.jsxs("div",{className:"glass-panel p-6 rounded-xl border border-white/5 text-center flex flex-col items-center gap-4",children:[g.jsx("svg",{className:"w-8 h-8 text-neutral-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),g.jsx("p",{className:"text-neutral-500 font-mono text-xs uppercase tracking-widest",children:"Proposal Submission Restricted to Jack+ Clearance"})]}),g.jsxs("div",{className:"space-y-8",children:[s.map(Y=>{var V,X,Z;const ie=J(Y),ue=Y.status==="passed",B=Y.status==="failed",M=!ue&&!B,F=Y.upvotes.includes(i.studentId)||Y.downvotes&&Y.downvotes.includes(i.studentId),le=Y.authorId===i.studentId,Q=h[Y.authorId],ce=(Q==null?void 0:Q.username)||Y.authorName,A=(Q==null?void 0:Q.currentCard)||Y.authorRank;return g.jsxs("div",{className:`glass-panel border rounded-2xl p-8 transition-all duration-500 group relative overflow-visible ${ue?"border-emerald-500/30 bg-emerald-950/10":B?"border-red-500/30 bg-red-950/10":"border-brand-gold/10 hover:border-brand-gold/30"}`,children:[(i.isAdmin||le)&&g.jsx("button",{onClick:se=>fe(se,Y.id),className:"absolute top-4 right-4 z-50 p-2 bg-black hover:bg-red-500 text-neutral-500 hover:text-white rounded-lg transition-all border border-white/10 hover:border-red-500 shadow-xl cursor-pointer",title:"Delete Proposal",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),ue&&g.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 rotate-12 text-6xl text-emerald-500 font-black border-4 border-emerald-500 rounded-lg pointer-events-none",children:"PASSED"}),B&&g.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 -rotate-12 text-6xl text-red-500 font-black border-4 border-red-500 rounded-lg pointer-events-none",children:"REJECTED"}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-8 relative z-10",children:[g.jsxs("div",{className:"flex md:flex-col items-center gap-4 md:gap-2 justify-center md:justify-start min-w-[60px]",children:[g.jsx("button",{onClick:()=>ne(Y,"up"),disabled:!M||F,className:`p-2 rounded-full transition-all duration-200 ${!M||F?"opacity-30 cursor-not-allowed":"hover:scale-110"} ${Y.upvotes.includes(i.studentId)?"text-green-500 bg-green-500/10":"text-neutral-500 hover:text-green-400 hover:bg-white/5"}`,title:F?"Vote Cast Locked":"Vote Yes",children:g.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 15l7-7 7 7"})})}),g.jsxs("span",{className:`text-2xl font-display font-bold ${ie>0?"text-brand-gold":ie<0?"text-brand-red":"text-white"}`,children:[ie>0?"+":"",ie]}),g.jsx("button",{onClick:()=>ne(Y,"down"),disabled:!M||F,className:`p-2 rounded-full transition-all duration-200 ${!M||F?"opacity-30 cursor-not-allowed":"hover:scale-110"} ${(V=Y.downvotes)!=null&&V.includes(i.studentId)?"text-red-500 bg-red-500/10":"text-neutral-500 hover:text-red-400 hover:bg-white/5"}`,title:F?"Vote Cast Locked":"Vote No",children:g.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 9l-7 7-7-7"})})})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"flex justify-between items-start mb-6",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(mn,{rankId:A,size:"sm",className:"w-12 h-16 shadow-lg border border-brand-gold/20"}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-display font-bold text-xl text-white tracking-wide",children:ce}),g.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[g.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded border font-bold uppercase tracking-wider ${ue?"text-emerald-500 bg-emerald-500/10 border-emerald-500/20":B?"text-red-500 bg-red-500/10 border-red-500/20":"text-brand-gold bg-brand-gold/10 border-brand-gold/20"}`,children:ue?"Enacted":B?"Failed":"Proposal"}),g.jsxs("span",{className:"text-white bg-black/50 border border-white/10 px-2 py-0.5 rounded text-[10px] font-mono",children:["Influence: ",J(Y)>0?"Positive":"Negative"]})]})]})]})}),g.jsx("p",{className:"text-neutral-200 text-lg leading-relaxed font-light whitespace-pre-wrap border-l-2 border-brand-gold/20 pl-6 mb-8",children:Y.content}),j&&M&&g.jsxs("div",{className:"flex justify-end gap-4 border-t border-white/5 pt-6 mb-6",children:[g.jsx("button",{onClick:()=>K(Y,"fail"),className:"px-4 py-2 border border-red-500/30 text-red-500 hover:bg-red-500 hover:text-white rounded text-xs font-bold uppercase tracking-widest transition-all",children:"Reject Motion"}),g.jsx("button",{onClick:()=>K(Y,"pass"),className:"px-4 py-2 border border-emerald-500/30 text-emerald-500 hover:bg-emerald-500 hover:text-white rounded text-xs font-bold uppercase tracking-widest transition-all",children:"Pass Motion"})]}),g.jsxs("div",{className:"border-t border-white/5 pt-4",children:[g.jsxs("button",{onClick:()=>Te(Y.id),className:"text-xs text-neutral-500 font-bold uppercase tracking-widest hover:text-white flex items-center gap-2 mb-4",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})}),_.includes(Y.id)?"Hide Deliberation":`View Deliberation (${((X=Y.comments)==null?void 0:X.length)||0})`]}),_.includes(Y.id)&&g.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2",children:[g.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2 custom-scrollbar",children:[(Z=Y.comments)==null?void 0:Z.map(se=>{const ye=i.isAdmin||se.authorId===i.studentId,me=h[se.authorId],je=(me==null?void 0:me.username)||se.authorName;return g.jsxs("div",{className:"bg-white/5 p-3 rounded-lg group/comment relative hover:bg-white/10 transition-colors",children:[ye&&g.jsx("button",{onClick:Pe=>ge(Pe,Y.id,se.id),className:"absolute top-2 right-2 bg-black text-neutral-600 hover:text-red-500 p-1.5 rounded transition-colors z-50 cursor-pointer border border-white/5",title:"Delete Comment",children:g.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),g.jsxs("div",{className:"flex justify-between items-baseline mb-1 mr-8",children:[g.jsx("span",{className:"text-brand-gold text-xs font-bold",children:je}),g.jsx("span",{className:"text-[10px] text-neutral-600 font-mono",children:new Date(se.createdAt).toLocaleDateString()})]}),g.jsx("p",{className:"text-sm text-neutral-300 pr-6",children:se.content})]},se.id)}),(!Y.comments||Y.comments.length===0)&&g.jsx("div",{className:"text-center text-neutral-600 text-xs italic py-4",children:"No remarks recorded."})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",value:T[Y.id]||"",onChange:se=>b({...T,[Y.id]:se.target.value}),placeholder:"Add your remark...",className:"flex-1 bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-brand-gold outline-none",onKeyDown:se=>se.key==="Enter"&&te(Y.id)}),g.jsx("button",{onClick:()=>te(Y.id),className:"px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg text-xs font-bold uppercase",children:"Send"})]})]})]})]})]})]},Y.id)}),s.length===0&&g.jsxs("div",{className:"text-center py-24 glass-panel rounded-2xl border-dashed border-2 border-white/10",children:[g.jsx("p",{className:"text-neutral-500 font-display font-bold text-2xl mb-2",children:"Chamber Empty"}),g.jsx("p",{className:"text-neutral-600 font-mono text-xs uppercase tracking-widest",children:"No policies currently tabled"})]})]})]})},wC=({currentUser:i,onActivity:t})=>{const[o,s]=W.useState("operatives"),[r,d]=W.useState([]),[p,v]=W.useState([]),[y,h]=W.useState(null),[x,T]=W.useState(!0),[b,_]=W.useState(""),[w,k]=W.useState(null),[R,P]=W.useState({points:0,rank:"2",username:""});W.useEffect(()=>{j()},[o]);const j=async()=>{T(!0);const[B,M,F]=await Promise.all([pe.getAllUsers(),pe.getPurchaseLogs(),pe.getSettings()]);d(B),v(M),h(F),T(!1)},G=async(B,M)=>{await pe.updateSettings({[B]:M}),j()},J=async B=>{await pe.markDelivered(B),j()},$=async B=>{if(B===i.studentId||B==="S253456"){alert("PROTOCOL OVERRIDE: Cannot purge the Ace.");return}confirm(`CRITICAL: Purge operative ${B}? This deletes their history and allows fresh registration.`)&&(await pe.deleteUser(B),await j(),t())},ne=async B=>{if(B===i.studentId||B==="S253456"){alert("PROTOCOL OVERRIDE: Cannot ban the Ace.");return}confirm(`Restrict access for operative ${B}? They will be locked out of the system.`)&&(await pe.updateUserStatus(B,{isBanned:!0}),await j(),t())},K=async B=>{confirm(`Restore access for ${B}? They will be able to log in immediately.`)&&(await pe.updateUserStatus(B,{isBanned:!1}),await j(),alert(`User ${B} restored to active duty.`),t())},fe=B=>{k(B.studentId),P({points:B.totalPoints,rank:B.currentCard,username:B.username,password:""})},te=async B=>{await pe.updateUserStatus(B,{totalPoints:R.points,currentCard:R.rank,currentRank:Fn[R.rank].name,username:R.username}),R.password&&R.password.length>=8&&await pe.updatePassword(B,R.password),k(null),await j(),t()},ge=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],Te=r.filter(B=>B.studentId.includes(b.toUpperCase())||B.username.toLowerCase().includes(b.toLowerCase())),Y=p.filter(B=>!B.delivered).length,ie=(B,M)=>{const F=r.find(le=>le.studentId===B);return F?F.username:M},ue=B=>{const M=new Date(B);return`${M.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})} on ${M.toLocaleDateString()}`};return g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-700 pb-32",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-brand-obsidian p-8 border border-white/5 rounded-3xl shadow-2xl gap-6 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:g.jsx("svg",{className:"w-32 h-32",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M12 2L1 21h22L12 2zm0 3.45l8.15 14.1H3.85L12 5.45zM11 16h2v2h-2v-2zm0-7h2v5h-2V9z"})})}),g.jsxs("div",{className:"relative z-10",children:[g.jsx("h1",{className:"text-4xl font-display font-black text-white",children:"ACE COMMAND"}),g.jsx("p",{className:"text-[10px] text-brand-red font-mono uppercase tracking-[0.4em] font-bold",children:"Protocol Overlord Interface"})]}),g.jsx("div",{className:"flex gap-2 bg-black/40 p-1.5 rounded-xl border border-white/5 relative z-10",children:["operatives","deliveries","protocol"].map(B=>g.jsxs("button",{onClick:()=>s(B),className:`px-6 py-2.5 text-[10px] font-bold uppercase rounded-lg transition-all flex items-center gap-2 ${o===B?"bg-brand-red text-white shadow-lg":"text-neutral-500 hover:text-white hover:bg-white/5"}`,children:[B,B==="deliveries"&&Y>0&&g.jsx("span",{className:"w-4 h-4 bg-white text-brand-red rounded-full flex items-center justify-center text-[8px] animate-pulse",children:Y})]},B))})]}),o==="deliveries"&&g.jsxs("div",{className:"space-y-6 max-w-5xl",children:[g.jsxs("h3",{className:"text-brand-gold font-bold uppercase tracking-[0.3em] text-xs mb-8 ml-2 flex items-center gap-3",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-brand-gold animate-pulse"}),"Requisition Manifest Logs"]}),g.jsxs("div",{className:"space-y-4",children:[p.length===0&&g.jsx("div",{className:"p-20 text-center glass-panel rounded-3xl border-dashed border-2 border-white/5 opacity-20",children:g.jsx("p",{className:"text-sm font-mono uppercase tracking-widest",children:"No active requisitions recorded."})}),p.map(B=>g.jsxs("div",{className:`p-8 rounded-3xl border transition-all duration-500 flex flex-col md:flex-row items-center justify-between gap-6 relative overflow-hidden ${B.delivered?"bg-black/40 border-white/5 opacity-50 grayscale":"bg-brand-obsidian border-brand-red/20 shadow-[0_0_30px_rgba(217,35,35,0.05)]"}`,children:[g.jsxs("div",{className:"flex-1 space-y-4 text-center md:text-left",children:[g.jsxs("div",{className:"flex items-center gap-3 justify-center md:justify-start",children:[g.jsx("div",{className:`w-2 h-2 rounded-full ${B.delivered?"bg-neutral-700":"bg-brand-red animate-pulse"}`}),g.jsxs("span",{className:"text-[10px] font-mono text-neutral-500 uppercase tracking-widest",children:["LOG_REF: ",B.id]})]}),g.jsxs("p",{className:"text-lg font-display text-white leading-relaxed font-light",children:["Operative ",g.jsx("span",{className:"text-brand-gold font-bold",children:ie(B.buyerId,B.buyerName)})," bought asset ",g.jsxs("span",{className:"text-white bg-white/10 px-2 py-0.5 rounded font-bold",children:['"',B.artTitle,'"']})," at ",g.jsx("span",{className:"text-neutral-400 font-mono italic",children:ue(B.timestamp)})," for ",g.jsxs("span",{className:"text-brand-gold font-bold",children:[B.price," PTS"]}),"."]}),g.jsxs("p",{className:"text-[9px] text-neutral-600 font-mono uppercase tracking-[0.2em]",children:["Identifier: ",B.buyerId]})]}),g.jsx("div",{className:"shrink-0",children:B.delivered?g.jsxs("div",{className:"px-8 py-4 bg-white/5 border border-white/10 rounded-xl flex items-center gap-3 text-emerald-500 text-[10px] font-black uppercase tracking-[0.2em]",children:[g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Manifest Fulfilled"]}):g.jsx("button",{onClick:()=>J(B.id),className:"px-8 py-4 bg-emerald-600 hover:bg-emerald-500 text-white text-[10px] font-black uppercase tracking-[0.2em] rounded-xl shadow-2xl shadow-emerald-900/20 transition-all active:scale-95",children:"Confirm Delivery"})})]},B.id))]})]}),o==="operatives"&&g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"flex gap-4",children:g.jsx("input",{type:"text",placeholder:"Search operatives by ID or Name...",value:b,onChange:B=>_(B.target.value),className:"flex-1 bg-black/50 border border-white/10 rounded-2xl p-5 text-white font-mono placeholder-neutral-700 focus:border-brand-red outline-none transition-all shadow-inner"})}),g.jsx("div",{className:"grid grid-cols-1 gap-4",children:Te.map(B=>g.jsx("div",{className:`glass-panel p-6 rounded-2xl border ${B.isBanned?"border-red-500/30 bg-red-950/5":"border-white/5"} transition-all hover:bg-white/2`,children:w===B.studentId?g.jsxs("div",{className:"space-y-4 p-4 animate-in slide-in-from-left-2",children:[g.jsx("h3",{className:"text-xs font-bold text-brand-red uppercase tracking-widest mb-4",children:"Identity Editor Overlay"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] uppercase font-bold text-neutral-500 ml-1",children:"Display Alias"}),g.jsx("input",{type:"text",value:R.username,onChange:M=>P({...R,username:M.target.value}),className:"w-full bg-black p-3 border border-white/10 rounded-xl text-sm text-white focus:border-brand-red outline-none"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] uppercase font-bold text-neutral-500 ml-1",children:"Point Balance"}),g.jsx("input",{type:"number",value:R.points,onChange:M=>P({...R,points:parseInt(M.target.value)}),className:"w-full bg-black p-3 border border-white/10 rounded-xl text-sm text-white font-mono focus:border-brand-red outline-none"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] uppercase font-bold text-neutral-500 ml-1",children:"Rank Card"}),g.jsx("select",{value:R.rank,onChange:M=>P({...R,rank:M.target.value}),className:"w-full bg-black p-3 border border-white/10 rounded-xl text-sm text-white focus:border-brand-red outline-none",children:ge.map(M=>g.jsx("option",{value:M,children:M},M))})]})]}),g.jsxs("div",{className:"flex gap-4 justify-end pt-4",children:[g.jsx("button",{onClick:()=>k(null),className:"px-6 py-2 text-[10px] font-black text-neutral-500 uppercase tracking-widest",children:"Abort"}),g.jsx("button",{onClick:()=>te(B.studentId),className:"px-10 py-3 bg-emerald-600 text-white rounded-xl font-black text-[10px] uppercase tracking-widest shadow-xl hover:bg-emerald-500 transition-all",children:"Apply Identity"})]})]}):g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-6",children:[g.jsx("div",{className:"transform group-hover:scale-110 transition-transform",children:g.jsx(mn,{rankId:B.currentCard,size:"sm"})}),g.jsxs("div",{children:[g.jsxs("h4",{className:"font-display font-black text-white text-xl tracking-tight leading-none",children:[B.username," ",g.jsxs("span",{className:"text-neutral-600 text-xs font-mono font-normal ml-2",children:["[",B.studentId,"]"]})]}),g.jsxs("p",{className:"text-[10px] text-neutral-500 font-mono uppercase tracking-[0.2em] mt-2",children:[B.currentRank,"  ",B.totalPoints.toLocaleString()," PTS"]}),B.isBanned&&g.jsx("span",{className:"inline-block text-[8px] font-black text-red-500 uppercase tracking-[0.3em] border border-red-500/30 px-2 py-0.5 rounded-full bg-red-500/5 mt-3 shadow-[0_0_15px_rgba(239,68,68,0.1)]",children:"Account Restricted"})]})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>fe(B),className:"p-3 bg-white/5 hover:bg-white/10 rounded-xl text-neutral-400 hover:text-white transition-all shadow-xl",title:"Edit Identity",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),B.isBanned?g.jsx("button",{onClick:()=>K(B.studentId),className:"p-3 bg-emerald-950/20 text-emerald-500 rounded-xl border border-emerald-900/40 shadow-xl",title:"Unban Operative",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}):g.jsx("button",{onClick:()=>ne(B.studentId),className:"p-3 bg-red-950/20 text-red-500 rounded-xl border border-red-900/40 shadow-xl",title:"Ban Operative",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),g.jsx("button",{onClick:()=>$(B.studentId),className:"p-3 bg-neutral-900 text-neutral-600 hover:text-red-500 rounded-xl border border-white/5 transition-colors shadow-xl",title:"Purge Record",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},B.studentId))})]}),o==="protocol"&&y&&g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:g.jsxs("div",{className:"glass-panel p-10 rounded-[32px] border border-white/5 space-y-8 shadow-2xl",children:[g.jsxs("h3",{className:"text-xl font-display font-black text-white uppercase tracking-[0.2em] border-b border-white/5 pb-6 flex items-center gap-3",children:[g.jsx("div",{className:"w-2 h-8 bg-brand-red"}),"System Infrastructure"]}),g.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/20 rounded-2xl border border-white/5",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-sm font-bold text-white uppercase tracking-widest",children:"Emergency Lockdown"}),g.jsx("p",{className:"text-[10px] text-neutral-500 font-mono mt-1",children:"Freezes all system activity immediately."})]}),g.jsx("button",{onClick:()=>G("emergencyLockdown",!y.emergencyLockdown),className:`w-14 h-7 rounded-full transition-all relative ${y.emergencyLockdown?"bg-red-600":"bg-neutral-800"}`,children:g.jsx("div",{className:`absolute top-1 w-5 h-5 rounded-full bg-white shadow-lg transition-all ${y.emergencyLockdown?"left-8":"left-1"}`})})]}),g.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/20 rounded-2xl border border-white/5",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-sm font-bold text-white uppercase tracking-widest",children:"Guest Access"}),g.jsx("p",{className:"text-[10px] text-neutral-500 font-mono mt-1",children:"Allows read-only access for unregistered users."})]}),g.jsx("button",{onClick:()=>G("allowGuestAccess",!y.allowGuestAccess),className:`w-14 h-7 rounded-full transition-all relative ${y.allowGuestAccess?"bg-emerald-600":"bg-neutral-800"}`,children:g.jsx("div",{className:`absolute top-1 w-5 h-5 rounded-full bg-white shadow-lg transition-all ${y.allowGuestAccess?"left-8":"left-1"}`})})]})]})})]})},RC=({expiresAt:i,onExpire:t})=>{const[o,s]=W.useState("");return W.useEffect(()=>{const r=()=>{const p=new Date().getTime(),v=new Date(i).getTime()-p;if(v<0)return t(),"EXPIRED";const y=Math.floor(v%(1e3*60*60*24)/(1e3*60*60)),h=Math.floor(v%(1e3*60*60)/(1e3*60)),x=Math.floor(v%(1e3*60)/1e3);return`${y.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}`},d=setInterval(()=>{s(r())},1e3);return s(r()),()=>clearInterval(d)},[i,t]),g.jsxs("div",{className:"text-[10px] font-mono font-bold text-brand-red bg-black/80 px-2 py-1 rounded border border-brand-red/50 backdrop-blur-md shadow-lg",children:["EXPIRES IN: ",o]})};function MC({currentUser:i,onPurchase:t}){const[o,s]=W.useState([]),[r,d]=W.useState(!0),[p,v]=W.useState(!1),[y,h]=W.useState({title:"",imageUrl:"",artistId:"",description:"",price:100,durationHours:24});W.useEffect(()=>{x()},[]);const x=async()=>{d(!0);const _=await pe.getArtPieces(),w=new Date().getTime(),k=_.filter(R=>new Date(R.expiresAt).getTime()>w);s(k),d(!1)},T=async _=>{_.preventDefault();const w=new Date;w.setHours(w.getHours()+y.durationHours);const k={id:`art-${Date.now()}`,title:y.title,imageUrl:y.imageUrl,studentArtistId:y.artistId,description:y.description,price:y.price,ownerId:null,ownerName:null,createdAt:new Date().toISOString(),expiresAt:w.toISOString()};await pe.uploadArt(k),v(!1),h({title:"",imageUrl:"",artistId:"",description:"",price:100,durationHours:24}),x()},b=async(_,w)=>{_.preventDefault(),_.stopPropagation(),confirm("PROTOCOL ALERT: Confirm permanent removal of this asset from the Vault?")&&(s(k=>k.filter(R=>R.id!==w)),await pe.deleteArt(w))};return r&&o.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center p-20 space-y-4 text-center",children:[g.jsx("div",{className:"w-16 h-1 bg-brand-red rounded-full overflow-hidden animate-pulse mx-auto"}),g.jsx("p",{className:"text-xs font-mono text-neutral-500 uppercase tracking-widest",children:"Scanning Secure Vault..."})]}):g.jsxs("div",{className:"pb-32 space-y-12 animate-in fade-in duration-1000 relative",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-brand-obsidian p-10 rounded-3xl border border-white/5 relative overflow-hidden shadow-2xl",children:[g.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:g.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"})})}),g.jsxs("div",{className:"relative z-10 text-center md:text-left",children:[g.jsx("h1",{className:"text-5xl md:text-6xl font-display font-black text-white tracking-tighter",children:"THE VAULT"}),g.jsx("p",{className:"text-brand-gold font-mono text-xs uppercase tracking-[0.4em] mt-2 font-bold",children:"Secure Asset Repository"}),g.jsx("div",{className:"mt-6 p-4 bg-red-950/20 border border-red-500/30 rounded-2xl max-w-lg shadow-[0_0_20px_rgba(220,38,38,0.1)]",children:g.jsxs("p",{className:"text-[12px] font-bold text-red-400 uppercase tracking-widest leading-relaxed",children:["Go into global network and cancel uplink. ",g.jsx("br",{}),"Message the council asking if you can buy it. ",g.jsx("br",{}),"First person to offer wins the item."]})})]}),i.isAdmin&&g.jsx("button",{type:"button",onClick:()=>v(!p),className:"mt-6 md:mt-0 px-8 py-3 bg-white text-black font-black text-xs uppercase tracking-widest rounded-xl hover:scale-105 hover:bg-brand-gold transition-all shadow-xl relative z-[100] cursor-pointer",children:p?"Close Terminal":"Exhibit New Asset"})]}),p&&g.jsxs("form",{onSubmit:T,className:"glass-panel p-8 rounded-3xl border border-brand-gold/30 space-y-6 animate-in slide-in-from-top-4 duration-500 relative z-[200]",children:[g.jsx("h3",{className:"text-brand-gold font-bold uppercase tracking-widest text-sm",children:"Asset Metadata Entry"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] text-neutral-500 uppercase font-bold ml-1",children:"Asset Title"}),g.jsx("input",{type:"text",placeholder:"Title",value:y.title,onChange:_=>h({...y,title:_.target.value}),className:"w-full bg-black/50 p-4 rounded-xl border border-white/10 text-white outline-none focus:border-brand-gold transition-colors",required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] text-neutral-500 uppercase font-bold ml-1",children:"Artist ID"}),g.jsx("input",{type:"text",placeholder:"S25XXXX",value:y.artistId,onChange:_=>h({...y,artistId:_.target.value}),className:"w-full bg-black/50 p-4 rounded-xl border border-white/10 text-white font-mono",required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] text-neutral-500 uppercase font-bold ml-1",children:"Image URL"}),g.jsx("input",{type:"text",placeholder:"https://...",value:y.imageUrl,onChange:_=>h({...y,imageUrl:_.target.value}),className:"w-full bg-black/50 p-4 rounded-xl border border-white/10 text-white",required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] text-neutral-500 uppercase font-bold ml-1",children:"Point Valuation (PTS)"}),g.jsx("input",{type:"number",value:y.price,onChange:_=>h({...y,price:parseInt(_.target.value)}),className:"w-full bg-black/50 p-4 rounded-xl border border-white/10 text-white font-mono",required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] text-neutral-500 uppercase font-bold ml-1",children:"Expiry (Hours)"}),g.jsx("input",{type:"number",value:y.durationHours,onChange:_=>h({...y,durationHours:parseInt(_.target.value)}),className:"w-full bg-black/50 p-4 rounded-xl border border-white/10 text-white font-mono",required:!0})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] text-neutral-500 uppercase font-bold ml-1",children:"Asset Intelligence"}),g.jsx("textarea",{placeholder:"Description...",value:y.description,onChange:_=>h({...y,description:_.target.value}),className:"w-full bg-black/50 p-4 rounded-xl border border-white/10 h-32 text-white resize-none"})]}),g.jsx("button",{type:"submit",className:"w-full bg-brand-gold py-5 text-black font-black uppercase text-xs tracking-[0.2em] rounded-xl shadow-2xl hover:brightness-110 transition-all cursor-pointer",children:"Authorize Publication"})]}),o.length===0&&!r?g.jsxs("div",{className:"text-center py-32 flex flex-col items-center justify-center glass-panel rounded-3xl border-dashed border-2 border-white/5 opacity-30",children:[g.jsx("div",{className:"text-7xl mb-6",children:""}),g.jsx("span",{className:"text-3xl font-display font-black text-white uppercase tracking-widest",children:"Inventory Depleted"}),g.jsx("p",{className:"mt-4 text-neutral-500 font-mono text-xs uppercase",children:"Check back for fresh asset drops"})]}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12",children:o.map(_=>g.jsxs("div",{className:"flex flex-col group relative overflow-visible h-full",children:[g.jsx("div",{className:"absolute top-2 right-2 z-[9999] pointer-events-none",children:i.isAdmin&&g.jsx("button",{type:"button",onClick:w=>b(w,_.id),className:"pointer-events-auto p-3 bg-black hover:bg-brand-red text-neutral-500 hover:text-white rounded-xl transition-all border border-white/10 shadow-2xl cursor-pointer active:scale-95",title:"Purge Record",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})}),g.jsxs("div",{className:"flex-1 flex flex-col relative",children:[g.jsxs("div",{className:"relative p-6 transition-all duration-700 group-hover:scale-[1.01]",children:[g.jsx("div",{className:"absolute inset-0 bg-neutral-900 shadow-[10px_10px_40px_rgba(0,0,0,0.8)] rounded-sm group-hover:bg-neutral-800 transition-colors"}),g.jsx("div",{className:"absolute inset-1.5 border border-neutral-700 rounded-sm"}),g.jsx("div",{className:"absolute inset-6 bg-black shadow-[inset_0_0_30px_rgba(0,0,0,1)]"}),g.jsxs("div",{className:"relative aspect-[4/5] bg-neutral-950 overflow-hidden flex items-center justify-center border border-neutral-800/50",children:[g.jsx("img",{src:_.imageUrl,alt:_.title,className:"w-full h-full object-cover transform transition-transform duration-[1500ms] group-hover:scale-110"}),g.jsx("div",{className:"absolute top-3 left-3 z-20",children:g.jsx(RC,{expiresAt:_.expiresAt,onExpire:x})}),g.jsx("div",{className:"absolute bottom-4 inset-x-4 bg-black/90 backdrop-blur-md p-3 border border-white/10 rounded-lg translate-y-2 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-500",children:g.jsx("p",{className:"text-[10px] font-bold text-emerald-400 text-center uppercase tracking-widest",children:"Message Council to Secure"})})]})]}),g.jsxs("div",{className:"mt-4 px-4 text-center pb-6",children:[g.jsx("h3",{className:"text-xl font-display font-bold text-white uppercase tracking-tighter mb-1 truncate",children:_.title}),g.jsxs("div",{className:"flex justify-center items-center gap-4 border-t border-white/5 pt-3 mb-2",children:[g.jsxs("p",{className:"text-brand-gold font-mono text-[9px] uppercase tracking-widest opacity-80",children:["ARTIST: ",_.studentArtistId]}),g.jsx("div",{className:"h-1 w-1 bg-neutral-700 rounded-full"}),g.jsxs("span",{className:"text-white font-mono font-black text-xs",children:[_.price," PTS"]})]}),g.jsx("p",{className:"text-[10px] text-neutral-500 font-light line-clamp-2 italic px-2",children:_.description||"Intelligence encrypted."})]})]})]},_.id))})]})}const IC=({currentUser:i,onActivity:t})=>{const[o,s]=W.useState("timer"),[r,d]=W.useState(!1),[p,v]=W.useState(0),[y,h]=W.useState(1500),[x,T]=W.useState(0),[b,_]=W.useState([]),w=W.useRef(null);W.useEffect(()=>{v(o==="timer"?y:0),d(!1)},[o,y]),W.useEffect(()=>{(async()=>{const J=await pe.getAllUsers();_(J.filter($=>!$.isGuest).sort(($,ne)=>(ne.stats.minutesStudied||0)-($.stats.minutesStudied||0)).slice(0,5))})()},[r]),W.useEffect(()=>(r?w.current=window.setInterval(()=>{v(o==="stopwatch"?G=>G+1:G=>G<=1?(P(y),0):G-1)},1e3):w.current&&(clearInterval(w.current),w.current=null),()=>{w.current&&(clearInterval(w.current),w.current=null)}),[r,o,y]),W.useEffect(()=>{let G=0;o==="stopwatch"?G=Math.floor(p/60):G=Math.floor((y-p)/60),T(G*Rs.STUDY_MINUTE)},[p,o,y]);const k=()=>{if(i.isGuest){alert("ACCESS DENIED: Guest operatives cannot utilize the Focus Realm. Initialize Identity (Sign Up) to access.");return}d(!r)},R=()=>{if(o==="stopwatch")P(p);else{const G=y-p;P(G)}},P=async G=>{d(!1),w.current&&(clearInterval(w.current),w.current=null);const J=Math.floor(G/60);if(J<1&&!(o==="timer"&&p===0)){v(o==="timer"?y:0);return}const $=J*Rs.STUDY_MINUTE;if($>0){const ne=await pe.getUser(i.studentId);if(ne){const K={...ne,totalPoints:ne.totalPoints+$,stats:{...ne.stats,minutesStudied:(ne.stats.minutesStudied||0)+J}};await pe.saveUser(K),t(),alert(`SESSION COMPLETE: +${$} POINTS`)}}v(o==="timer"?y:0)},j=G=>{const J=Math.floor(G/60),$=G%60;return`${J.toString().padStart(2,"0")}:${$.toString().padStart(2,"0")}`};return g.jsxs("div",{className:"pb-32 grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in fade-in duration-700",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[g.jsxs("div",{className:"glass-panel p-10 rounded-3xl text-center relative overflow-hidden border border-white/10",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-deepRed/20 via-transparent to-transparent pointer-events-none"}),g.jsxs("div",{className:"relative w-64 h-64 mx-auto mb-10 flex items-center justify-center",children:[g.jsx("div",{className:`absolute inset-0 rounded-full border-2 border-brand-red/20 ${r?"animate-ping opacity-20":""}`}),g.jsx("div",{className:`absolute inset-4 rounded-full border border-brand-red/40 ${r?"animate-spin opacity-40":""}`,style:{animationDuration:"10s"}}),g.jsx("div",{className:`w-48 h-48 rounded-full bg-gradient-to-br from-neutral-900 to-black border-4 border-brand-red shadow-[0_0_50px_rgba(217,35,35,0.2)] flex items-center justify-center z-10 transition-all duration-1000 ${r?"shadow-[0_0_80px_rgba(217,35,35,0.6)] scale-105":""}`,children:g.jsx("span",{className:"text-6xl font-mono font-bold text-white tracking-wider",children:j(p)})})]}),g.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[g.jsx("button",{onClick:()=>{d(!1),s("timer")},className:`px-6 py-2 rounded-full text-xs font-bold uppercase tracking-widest transition-all ${o==="timer"?"bg-white text-black":"text-neutral-500 hover:text-white"}`,children:"Timer"}),g.jsx("button",{onClick:()=>{d(!1),s("stopwatch")},className:`px-6 py-2 rounded-full text-xs font-bold uppercase tracking-widest transition-all ${o==="stopwatch"?"bg-white text-black":"text-neutral-500 hover:text-white"}`,children:"Stopwatch"})]}),o==="timer"&&!r&&g.jsx("div",{className:"flex justify-center gap-2 mb-8",children:[15,25,45,60].map(G=>g.jsx("button",{onClick:()=>{h(G*60),v(G*60)},className:`w-12 h-12 rounded-full border border-white/10 text-xs font-mono hover:border-brand-red hover:text-brand-red transition-all ${y===G*60?"border-brand-red text-brand-red bg-brand-red/10":"text-neutral-500"}`,children:G},G))}),g.jsx("div",{className:"flex justify-center gap-6",children:i.isGuest?g.jsx("button",{disabled:!0,className:"px-12 py-4 rounded-xl font-bold uppercase tracking-[0.2em] bg-neutral-900 text-neutral-600 border border-neutral-800 cursor-not-allowed",children:"Guest Restricted"}):g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:k,className:`px-12 py-4 rounded-xl font-bold uppercase tracking-[0.2em] transition-all shadow-xl ${r?"bg-neutral-800 text-neutral-400 border border-neutral-700 hover:text-white":"bg-brand-red text-white hover:bg-white hover:text-black shadow-brand-red/30"}`,children:r?"Pause":"Start Focus"}),r&&g.jsx("button",{onClick:R,className:"px-8 py-4 rounded-xl font-bold uppercase tracking-[0.2em] border border-red-500 text-red-500 hover:bg-red-500 hover:text-white transition-all",children:"Finish"})]})}),r&&g.jsxs("div",{className:"mt-8 text-brand-gold font-mono text-xs uppercase tracking-widest animate-pulse",children:["Gaining +",x," Points"]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"glass-panel p-6 rounded-2xl border border-white/5",children:[g.jsx("p",{className:"text-neutral-500 text-[10px] uppercase tracking-widest mb-2",children:"My Total Focus"}),g.jsxs("p",{className:"text-3xl font-display font-bold text-white",children:[Math.floor((i.stats.minutesStudied||0)/60),g.jsx("span",{className:"text-sm text-neutral-500 ml-1",children:"h"})," ",(i.stats.minutesStudied||0)%60,g.jsx("span",{className:"text-sm text-neutral-500 ml-1",children:"m"})]})]}),g.jsxs("div",{className:"glass-panel p-6 rounded-2xl border border-white/5",children:[g.jsx("p",{className:"text-neutral-500 text-[10px] uppercase tracking-widest mb-2",children:"Earned Today"}),g.jsxs("p",{className:"text-3xl font-display font-bold text-brand-gold",children:["+",x]})]})]})]}),g.jsxs("div",{className:"lg:col-span-1 glass-panel rounded-2xl p-6 border border-white/5 h-fit",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-white/5",children:[g.jsx("div",{className:"w-8 h-8 rounded bg-brand-gold/10 flex items-center justify-center text-brand-gold",children:""}),g.jsx("h3",{className:"font-bold text-white uppercase tracking-widest text-sm",children:"Top Focused"})]}),g.jsxs("div",{className:"space-y-4",children:[b.map((G,J)=>g.jsxs("div",{className:"flex items-center gap-4 group",children:[g.jsx("div",{className:`w-6 h-6 rounded flex items-center justify-center font-mono text-xs font-bold ${J===0?"bg-brand-gold text-black":"bg-neutral-800 text-neutral-500"}`,children:J+1}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"text-sm font-bold text-neutral-300 group-hover:text-white",children:G.username}),g.jsxs("div",{className:"text-[10px] text-neutral-600 font-mono",children:[Math.floor((G.stats.minutesStudied||0)/60),"h ",(G.stats.minutesStudied||0)%60,"m"]})]}),J===0&&g.jsx("span",{className:"text-lg",children:""})]},G.studentId)),b.length===0&&g.jsx("div",{className:"text-neutral-600 text-xs italic",children:"No data available"})]})]})]})},Dh=({src:i,type:t,className:o,alt:s,...r})=>{const[d,p]=W.useState(i),[v,y]=W.useState(!1);W.useEffect(()=>{p(i),y(!1)},[i]);const h=()=>{if(!v){y(!0);const x=(s||"Asset Offline").toUpperCase();p(`https://placehold.co/800x800/0a0a0a/333/png?text=${encodeURIComponent(x)}`)}};return g.jsx("img",{src:d,alt:s||"Campaign Media",className:o,onError:h,...r})},DC=()=>{const i=W.useRef(null);return W.useEffect(()=>{const t=i.current;if(!t)return;const o=t.getContext("2d");if(!o)return;let s,r=Date.now();const d=60,p=50,v=()=>{const h=t.parentElement;h&&(t.width=h.clientWidth,t.height=h.clientWidth*.7)};v(),window.addEventListener("resize",v);const y=()=>{const h=Date.now(),T=(h-r)%8e3,b=t.width,_=t.height,w=b*.05,k=_*.05,R=b-w*2,P=_-k*2,j=R/d,G=P/p,J=Math.min(j,G)*.35;o.fillStyle="#050505",o.fillRect(0,0,b,_);const $=Math.floor(d/2),ne=Math.floor(p/2);let K=0;T>3500&&T<5500?K=(T-3500)/2e3:T>=5500&&(K=1);for(let fe=0;fe<d;fe++)for(let te=0;te<p;te++){const ge=w+fe*j+j/2,Te=k+te*G+G/2,Y=fe===$&&te===ne;if(o.beginPath(),o.arc(ge,Te,J,0,Math.PI*2),T<3500)if(Y){const ie=Math.sin(h/200)*.5+.5;o.fillStyle=`rgba(217, 35, 35, ${.5+ie*.5})`,o.shadowBlur=10*ie,o.shadowColor="#d92323"}else o.fillStyle="#1a1a1a",o.shadowBlur=0;else{const ie=k+K*P;if(Te<ie){if(T>=5500){const ue=Math.sqrt(Math.pow(fe-$,2)+Math.pow(te-ne,2)),B=Math.sin(ue*.2-h/200)*.3+.7;o.fillStyle=`rgba(226, 177, 91, ${B})`}else o.fillStyle="#e2b15b";o.shadowBlur=0}else Te>=ie&&Te<ie+G*2?(o.fillStyle="#ffffff",o.shadowBlur=10,o.shadowColor="#ffffff"):Y?o.fillStyle="#d92323":o.fillStyle="#1a1a1a"}o.fill()}o.font=`bold ${Math.max(12,b/40)}px "JetBrains Mono"`,o.textAlign="right",o.textBaseline="bottom",T<3500?(o.fillStyle="#d92323",o.fillText("SIGNAL: 0.03% (WEAK)",b-20,_-20)):T<5500?(o.fillStyle="#ffffff",o.fillText("PROTOCOL: AMPLIFYING...",b-20,_-20)):(o.fillStyle="#e2b15b",o.fillText("IMPACT: 100% (MAXIMUM)",b-20,_-20)),o.textAlign="left",o.fillStyle="#333",o.fillText("STUDENTS: 3,000",20,_-20),s=requestAnimationFrame(y)};return y(),()=>{window.removeEventListener("resize",v),cancelAnimationFrame(s)}},[]),g.jsx("canvas",{ref:i,className:"w-full h-auto rounded-2xl border border-white/10 bg-black shadow-2xl"})};function Uh({onEnterSystem:i}){const t=[{id:1,src:"https://raw.githubusercontent.com/Charm-Master/a7f3c9b3qhufg-sdrIGR9h9hh-323422x91q-tmpr4d2-assetsm02-static-001r82398r/refs/heads/main/i1.jpeg",title:"UNRELENTING DRIVE",subtitle:"THE DAILY COMMUTE",quote:`"Dedication isn't a speech. It's a five-hour daily journey. If I fight this hard just to get to school, imagine how hard I'll fight for you."`,context:"Bradford Interchange  06:00 AM",align:"right"},{id:2,src:"https://raw.githubusercontent.com/Charm-Master/a7f3c9b3qhufg-sdrIGR9h9hh-323422x91q-tmpr4d2-assetsm02-static-001r82398r/refs/heads/main/v3.jpeg",title:"FORGED IN THE WILD",subtitle:"EXPEDITIONS & RESILIENCE",quote:`"The map is not the territory. Real leadership is navigating the unknown when the path disappears. I don't just plan for the easy days."`,context:"Wilderness Expedition",align:"left"},{id:3,src:"https://m.media-amazon.com/images/I/61x6X7gelNL._SL1500_.jpg",title:"INTELLECTUAL RIGOR",subtitle:"PUBLISHED AUTHOR",quote:`"Words have power. I don't just speak; I write, I document, I create. My work is a testament to the depth of thought I bring to the table."`,context:"Available on Amazon",align:"right"},{id:4,src:"https://raw.githubusercontent.com/Charm-Master/a7f3c9b3qhufg-sdrIGR9h9hh-323422x91q-tmpr4d2-assetsm02-static-001r82398r/refs/heads/main/i3.jpeg",title:"DUTY & SERVICE",subtitle:"REMEMBRANCE SUNDAY",quote:'"We stand on the shoulders of giants. True service is about recognizing that we are part of something bigger than ourselves."',description:"In 2025-2026, I was honoured to serve as the Standard Bearer for West Yorkshire. Carrying the flag is more than a ceremony; it is a pledge of duty, respect, and unwavering service to our county.",context:"The Cenotaph",align:"left"}];return g.jsxs("div",{className:"min-h-screen bg-black text-white selection:bg-brand-red selection:text-white font-sans",children:[g.jsxs("section",{className:"relative min-h-[100dvh] flex flex-col items-center justify-center overflow-hidden px-6 py-20",children:[g.jsxs("div",{className:"absolute inset-0 z-0 bg-black",children:[g.jsx("div",{className:"absolute inset-0",children:g.jsx("img",{src:"https://raw.githubusercontent.com/Charm-Master/a7f3c9b3qhufg-sdrIGR9h9hh-323422x91q-tmpr4d2-assetsm02-static-001r82398r/refs/heads/main/i2.jpeg",className:"w-full h-full object-cover opacity-60",alt:"Campaign Hero"})}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/20 via-black/40 to-black z-10"})]}),g.jsxs("div",{className:"relative z-20 text-center max-w-6xl animate-in fade-in slide-in-from-bottom-12 duration-1000 mt-auto mb-auto",children:[g.jsxs("div",{className:"mb-6 flex items-center justify-center gap-4",children:[g.jsx("div",{className:"h-px w-8 md:w-16 bg-brand-red"}),g.jsx("h2",{className:"text-brand-red font-mono text-xs md:text-sm uppercase tracking-[0.3em] font-bold drop-shadow-[0_0_10px_rgba(217,35,35,0.8)]",children:"Vote Waris  Greenhead College"}),g.jsx("div",{className:"h-px w-8 md:w-16 bg-brand-red"})]}),g.jsxs("h1",{className:"text-6xl sm:text-7xl md:text-9xl font-display font-black tracking-tighter mb-8 leading-[0.9] drop-shadow-xl relative break-words",children:[g.jsxs("span",{className:"text-white/30 backdrop-blur-[2px]",children:["THE MAN ",g.jsx("br",{})," BEHIND"]})," ",g.jsx("span",{className:"text-brand-red",children:"THE PLAN"})]}),g.jsxs("p",{className:"max-w-xl mx-auto text-neutral-200 text-lg md:text-xl font-light mb-12 leading-relaxed drop-shadow-md mix-blend-screen px-4",children:["Revolutionizing Greenhead College through the ",g.jsx("strong",{className:"text-white",children:"Spades Protocol"}),". Gamified engagement. Real rewards. Student power."]}),g.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-6 w-full px-4",children:[g.jsx("button",{onClick:()=>{var o;return(o=document.getElementById("manifesto"))==null?void 0:o.scrollIntoView({behavior:"smooth"})},className:"w-full sm:w-auto px-8 py-4 border border-white/20 rounded-full hover:bg-white hover:text-black transition-all font-bold uppercase tracking-widest text-xs min-w-[200px] backdrop-blur-sm bg-black/20",children:"Why Vote Waris?"}),g.jsxs("button",{onClick:i,className:"w-full sm:w-auto group px-8 py-4 bg-brand-red rounded-full hover:scale-105 transition-all font-bold uppercase tracking-widest text-xs shadow-[0_0_30px_rgba(217,35,35,0.4)] min-w-[200px] flex items-center justify-center gap-2",children:[g.jsx("span",{children:"Enter System"}),g.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]})]}),g.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 animate-bounce opacity-50 hidden sm:block",children:g.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7-7-7"})})})]}),g.jsxs("div",{className:"w-full py-16 md:py-24 border-y border-white/5 bg-neutral-900/10 relative overflow-hidden flex items-center justify-center group",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-brand-red/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-1000"}),g.jsxs("h2",{className:"text-4xl sm:text-6xl md:text-8xl font-display font-black tracking-tighter text-white uppercase italic relative z-10 transition-all duration-700 group-hover:scale-[1.02]",children:["VOTE ",g.jsx("span",{className:"text-brand-red drop-shadow-[0_0_15px_rgba(217,35,35,0.5)]",children:"WARIS"})," 2026."]}),g.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-px bg-white/5 -translate-y-1/2 pointer-events-none"})]}),g.jsxs("section",{id:"manifesto",className:"py-32 px-6 max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-20 items-center",children:[g.jsxs("div",{className:"space-y-10 order-2 md:order-1",children:[g.jsx("div",{className:"inline-block border border-brand-red/30 bg-brand-red/5 px-4 py-2 rounded uppercase font-bold text-xs tracking-widest text-brand-red mb-2",children:"Candidate Profile"}),g.jsxs("h2",{className:"text-5xl md:text-7xl font-display font-black leading-[0.9]",children:["NOT JUST A ",g.jsx("br",{})," ",g.jsx("span",{className:"text-neutral-600",children:"CANDIDATE."})]}),g.jsxs("div",{className:"space-y-6 text-lg text-neutral-400 font-light leading-relaxed",children:[g.jsxs("p",{children:["I am ",g.jsx("strong",{className:"text-white",children:"Waris Taj Rattan Singh Dhaliwal"}),"."]}),g.jsxs("p",{children:["I am a developer, a strategist, a published author, and a student who believes Greenhead College deserves a digital revolution. Traditional campaigns are built on posters. This campaign is built on ",g.jsx("strong",{children:"code"}),"."]}),g.jsxs("p",{children:["The ",g.jsx("strong",{children:"Spades Protocol"})," is more than a platformit's a promise. A promise that your engagement matters, your voice is counted, and your effort is rewarded."]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 pt-4",children:[g.jsxs("div",{className:"p-6 border-l-2 border-brand-red bg-neutral-900/20 backdrop-blur-sm",children:[g.jsx("div",{className:"text-brand-red font-mono text-xs uppercase tracking-widest mb-2 font-bold",children:"The Goal"}),g.jsx("p",{className:"text-sm text-neutral-300",children:"To replace empty speeches with a working app. A system where you can vote, earn points, and actually lead."})]}),g.jsxs("div",{className:"p-6 border-l-2 border-brand-gold bg-neutral-900/20 backdrop-blur-sm",children:[g.jsx("div",{className:"text-brand-gold font-mono text-xs uppercase tracking-widest mb-2 font-bold",children:"The Method"}),g.jsx("p",{className:"text-sm text-neutral-300",children:"Simple. You log in, you study to earn rank, and you use your rank to vote on real college changes."})]})]})]}),g.jsxs("div",{className:"relative group order-1 md:order-2",children:[g.jsx("div",{className:"absolute inset-0 bg-brand-red/10 blur-[100px] rounded-full group-hover:bg-brand-red/20 transition-all duration-1000"}),g.jsxs("div",{className:"relative z-10 rounded-3xl overflow-hidden border border-white/10 shadow-2xl bg-black",children:[g.jsx(Dh,{src:"https://raw.githubusercontent.com/Charm-Master/a7f3c9b3qhufg-sdrIGR9h9hh-323422x91q-tmpr4d2-assetsm02-static-001r82398r/refs/heads/main/v2.jfif",className:"w-full h-auto block",alt:"Candidate Portrait"}),g.jsxs("div",{className:"absolute bottom-6 left-6 right-6 p-4 bg-black/80 backdrop-blur-md border border-white/10 rounded-xl flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-white font-bold uppercase tracking-wider text-sm",children:"Vote Spades"}),g.jsx("div",{className:"text-brand-gold font-mono text-[10px]",children:"Election ID: #S253456"})]}),g.jsx("div",{className:"text-2xl",children:""})]})]})]})]}),g.jsxs("section",{className:"py-24 bg-[#030303] border-y border-white/5 relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-5"}),g.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-2 gap-16 items-center",children:[g.jsxs("div",{className:"relative z-10 space-y-10 order-2 md:order-1",children:[g.jsx("div",{className:"border-l-4 border-brand-red pl-8 py-2",children:g.jsxs("h2",{className:"text-4xl md:text-5xl font-display font-black text-white leading-[1.1] mb-2",children:["1,500 IN THE YEAR. ",g.jsx("br",{}),g.jsx("span",{className:"text-neutral-600",children:"3,000 IN THE COLLEGE."})]})}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"bg-white/5 px-4 py-2 rounded-lg border border-white/10 font-mono text-xl text-white",children:"1  3,000"}),g.jsx("span",{className:"text-neutral-500 text-lg",children:"="}),g.jsx("div",{className:"bg-brand-red/10 px-4 py-2 rounded-lg border border-brand-red/30 font-mono text-xl text-brand-red font-bold",children:"0.03%"})]}),g.jsxs("p",{className:"text-2xl text-neutral-300 font-light leading-relaxed",children:["The current system limits your influence to 0.03%. ",g.jsx("br",{}),g.jsx("span",{className:"text-white font-bold",children:"We change the equation."})]})]}),g.jsxs("div",{className:"pt-6 border-t border-white/10",children:[g.jsxs("p",{className:"text-neutral-400 text-sm leading-relaxed max-w-lg mb-6",children:["Through the ",g.jsx("strong",{className:"text-white",children:"Spades Protocol"}),", we don't just count your vote. We execute it. We give you ",g.jsx("strong",{className:"text-brand-gold",children:"100% Impact"}),". We ensure your voice constitutes the command, not just a suggestion."]}),g.jsxs("div",{className:"inline-flex items-center gap-3 text-brand-gold font-bold uppercase tracking-widest text-xs bg-brand-gold/10 px-4 py-2 rounded border border-brand-gold/20",children:[g.jsx("span",{className:"w-2 h-2 bg-brand-gold rounded-full animate-pulse"}),"We guarantee the vote."]})]})]}),g.jsx("div",{className:"relative z-10 order-1 md:order-2",children:g.jsxs("div",{className:"relative group cursor-crosshair",children:[g.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-brand-red to-brand-gold opacity-20 blur-xl group-hover:opacity-40 transition-opacity duration-1000"}),g.jsx(DC,{}),g.jsx("div",{className:"absolute bottom-4 right-4 text-[10px] text-neutral-500 font-mono pointer-events-none",children:"LIVE POPULATION MATRIX"})]})})]})]}),g.jsxs("section",{className:"bg-[#050505] py-32 border-y border-white/5 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 inset-x-0 h-px bg-gradient-to-r from-transparent via-brand-red/50 to-transparent"}),g.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[g.jsxs("div",{className:"text-center mb-20",children:[g.jsx("h3",{className:"font-mono text-brand-gold text-xs uppercase tracking-[0.5em] mb-4",children:"Core Directives"}),g.jsx("h2",{className:"text-4xl md:text-5xl font-display font-black text-white",children:"THE THREE PILLARS"})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{id:"01",title:"Your Voice",subtitle:"Voting & Proposals",desc:"Don't just listenspeak. Vote on college rules directly from your phone. See every idea, cast your vote, and make change happen instantly.",icon:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},{id:"02",title:"Rewards",subtitle:"Points & Ranks",desc:"Get rewarded for the work you already do. Earn points for studying, climb the ranks, and unlock real privileges. Hard work pays off here.",icon:"M13 10V3L4 14h7v7l9-11h-7z"},{id:"03",title:"Community",subtitle:"The Student Market",desc:"A space for us. Share your notes, trade resources, or showcase your art. It's a student-run economy built for students.",icon:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}].map((o,s)=>g.jsxs("div",{className:"group relative p-10 bg-[#0a0a0a] border border-white/5 rounded-3xl hover:border-brand-red/30 transition-all duration-500 hover:-translate-y-2",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-brand-red/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-3xl"}),g.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[g.jsx("div",{className:"w-16 h-16 rounded-2xl bg-black border border-white/10 flex items-center justify-center mb-8 group-hover:border-brand-red/50 group-hover:shadow-[0_0_30px_rgba(217,35,35,0.2)] transition-all",children:g.jsx("svg",{className:"w-8 h-8 text-neutral-400 group-hover:text-brand-red transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:o.icon})})}),g.jsx("div",{className:"text-brand-red/50 font-mono text-6xl font-black absolute top-4 right-6 opacity-20 select-none",children:o.id}),g.jsx("h4",{className:"text-2xl font-bold mb-2 text-white",children:o.title}),g.jsx("p",{className:"text-brand-gold font-mono text-xs uppercase tracking-widest mb-6",children:o.subtitle}),g.jsx("p",{className:"text-neutral-500 text-sm leading-relaxed",children:o.desc})]})]},s))})]})]}),g.jsx("section",{className:"py-32 px-6 border-b border-white/5 bg-neutral-900/10",children:g.jsxs("div",{className:"max-w-7xl mx-auto space-y-32",children:[g.jsxs("div",{className:"text-center mb-24",children:[g.jsx("h3",{className:"font-mono text-brand-gold text-xs uppercase tracking-[0.5em] mb-4",children:"The Journey"}),g.jsx("h2",{className:"text-4xl md:text-5xl font-display font-black text-white",children:"CHARACTER IN ACTION"})]}),t.map((o,s)=>g.jsxs("div",{className:`flex flex-col md:flex-row items-center gap-12 md:gap-20 ${o.align==="left"?"md:flex-row-reverse":""}`,children:[g.jsxs("div",{className:"flex-1 space-y-8 text-center md:text-left",children:[g.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] font-mono uppercase tracking-widest text-brand-gold ${o.align==="left"?"md:flex-row-reverse":""}`,children:[g.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-brand-red animate-pulse"}),o.context]}),g.jsx("h2",{className:"text-4xl md:text-6xl font-display font-black leading-[0.9] text-white",children:o.title}),g.jsx("h3",{className:"text-brand-red font-mono text-sm uppercase tracking-[0.3em] font-bold",children:o.subtitle}),g.jsxs("div",{className:"relative p-6 md:p-0",children:[g.jsx("span",{className:"absolute top-0 left-0 text-6xl font-serif text-white/5 -translate-y-4 -translate-x-4",children:""}),g.jsx("p",{className:"text-lg md:text-2xl font-light text-neutral-300 italic leading-relaxed relative z-10",children:o.quote}),o.description&&g.jsx("p",{className:"mt-6 text-sm md:text-base text-neutral-400 font-sans border-l-2 border-brand-red pl-6 leading-relaxed",children:o.description})]})]}),g.jsx("div",{className:"flex-1 w-full max-w-lg md:max-w-none",children:g.jsxs("div",{className:"relative group rounded-2xl overflow-hidden border border-white/10 shadow-2xl bg-black",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-brand-red/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 z-20 pointer-events-none"}),g.jsx(Dh,{src:o.src,alt:o.title,className:"w-full h-auto block transform transition-transform duration-1000 group-hover:scale-105"}),g.jsx("div",{className:"absolute bottom-4 right-4 z-30 opacity-50 group-hover:opacity-100 transition-opacity",children:g.jsx("svg",{className:"w-8 h-8 text-white drop-shadow-md",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"})})})]})})]},o.id))]})}),g.jsxs("section",{className:"py-40 text-center px-6 relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')] opacity-20"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-black"}),g.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto",children:[g.jsxs("h2",{className:"text-6xl md:text-9xl font-display font-black mb-12 text-white tracking-tighter",children:["READY TO ",g.jsx("br",{})," ",g.jsx("span",{className:"text-brand-red",children:"ASCEND?"})]}),g.jsxs("p",{className:"text-neutral-400 text-lg mb-12 max-w-2xl mx-auto",children:["The system is online. The rank hierarchy is established. ",g.jsx("br",{}),"All that is missing is ",g.jsx("strong",{children:"you"}),"."]}),g.jsxs("button",{onClick:i,className:"group relative px-16 py-6 bg-white text-black font-black uppercase tracking-[0.3em] text-sm hover:bg-brand-red hover:text-white transition-all transform hover:scale-105 overflow-hidden rounded-lg",children:[g.jsx("span",{className:"relative z-10",children:"Initialize Protocol"}),g.jsx("div",{className:"absolute inset-0 bg-brand-red transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300 -z-0"})]})]})]}),g.jsx("footer",{className:"py-12 border-t border-white/5 bg-black",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-6 text-neutral-600 font-mono text-[10px] uppercase tracking-widest",children:[g.jsx("div",{children:" 2025 Spades Campaign. All Rights Reserved."}),g.jsx("div",{children:"Design and Development by Waris  S253456  VOTE WARIS 2026"})]})})]})}const UC=()=>g.jsxs("div",{className:"max-w-4xl mx-auto space-y-12 pb-32 animate-in fade-in duration-700",children:[g.jsxs("div",{className:"text-center py-12 relative",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-brand-red/5 to-transparent blur-3xl rounded-full opacity-20 pointer-events-none"}),g.jsx("h1",{className:"text-5xl md:text-7xl font-display font-black text-white tracking-tighter mb-4 drop-shadow-[0_0_30px_rgba(255,255,255,0.1)]",children:"SYSTEM GUIDE"}),g.jsx("p",{className:"text-brand-gold font-mono text-xs uppercase tracking-[0.5em] font-bold bg-black/50 inline-block px-4 py-2 rounded-full border border-brand-gold/20",children:"Protocol Manual v2.4"})]}),g.jsxs("div",{className:"glass-panel p-10 rounded-3xl border border-white/10 bg-gradient-to-br from-neutral-900/80 to-black relative overflow-hidden group hover:border-brand-red/30 transition-colors duration-500",children:[g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-brand-red/10 blur-[80px] rounded-full group-hover:bg-brand-red/20 transition-all"}),g.jsx("h3",{className:"text-2xl font-bold text-white mb-6 uppercase tracking-widest text-center",children:"Protocol Overview"}),g.jsxs("p",{className:"text-neutral-300 text-lg font-light leading-relaxed text-center max-w-3xl mx-auto",children:["Spades is a meritocratic ecosystem. It replaces popularity contests with ",g.jsx("span",{className:"text-white font-medium",children:"verifiable effort"}),". You ascend by engaging with the system and demonstrating academic discipline."]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"glass-panel p-8 rounded-3xl border border-white/10 bg-gradient-to-b from-brand-red/5 to-transparent text-center hover:transform hover:-translate-y-2 transition-all duration-300",children:[g.jsx("div",{className:"w-12 h-12 bg-brand-red/10 rounded-full flex items-center justify-center mx-auto mb-4 border border-brand-red/20",children:g.jsx("span",{className:"text-2xl",children:""})}),g.jsx("h3",{className:"text-brand-red font-bold uppercase tracking-widest text-xs mb-3",children:"Pillar I"}),g.jsx("h4",{className:"text-white font-bold text-xl mb-3",children:"Your Voice"}),g.jsx("p",{className:"text-sm text-neutral-400 font-light leading-relaxed",children:"Vote on proposals. The higher your rank, the heavier your vote."})]}),g.jsxs("div",{className:"glass-panel p-8 rounded-3xl border border-white/10 bg-gradient-to-b from-brand-gold/5 to-transparent text-center hover:transform hover:-translate-y-2 transition-all duration-300",children:[g.jsx("div",{className:"w-12 h-12 bg-brand-gold/10 rounded-full flex items-center justify-center mx-auto mb-4 border border-brand-gold/20",children:g.jsx("span",{className:"text-2xl",children:""})}),g.jsx("h3",{className:"text-brand-gold font-bold uppercase tracking-widest text-xs mb-3",children:"Pillar II"}),g.jsx("h4",{className:"text-white font-bold text-xl mb-3",children:"Rewards"}),g.jsx("p",{className:"text-sm text-neutral-400 font-light leading-relaxed",children:"Earn points for academic focus and civic duty. Points unlock power."})]}),g.jsxs("div",{className:"glass-panel p-8 rounded-3xl border border-white/10 bg-gradient-to-b from-blue-500/5 to-transparent text-center hover:transform hover:-translate-y-2 transition-all duration-300",children:[g.jsx("div",{className:"w-12 h-12 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-4 border border-blue-500/20",children:g.jsx("span",{className:"text-2xl",children:""})}),g.jsx("h3",{className:"text-blue-400 font-bold uppercase tracking-widest text-xs mb-3",children:"Pillar III"}),g.jsx("h4",{className:"text-white font-bold text-xl mb-3",children:"Community"}),g.jsx("p",{className:"text-sm text-neutral-400 font-light leading-relaxed",children:"Trade resources and engage in a student-run economy."})]})]}),g.jsxs("div",{className:"glass-panel p-10 rounded-3xl border border-white/10",children:[g.jsxs("h3",{className:"text-2xl font-bold text-white mb-8 uppercase tracking-widest flex items-center gap-3",children:[g.jsx("span",{className:"w-2 h-2 bg-brand-gold rounded-full animate-pulse"}),"Economy & Influence"]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[g.jsxs("div",{children:[g.jsxs("p",{className:"text-neutral-400 text-sm mb-8 leading-relaxed",children:["The system is balanced to reward ",g.jsx("strong",{children:"Academic Focus"})," and ",g.jsx("strong",{children:"Civic Participation"}),". Creating content does not grant points; interacting with policy does."]}),g.jsxs("ul",{className:"space-y-4",children:[g.jsxs("li",{className:"flex justify-between items-center p-4 bg-white/5 rounded-xl border border-brand-gold/20 hover:bg-white/10 transition-colors",children:[g.jsx("span",{className:"text-white font-bold text-sm",children:"Focus Realm (Studying)"}),g.jsx("span",{className:"text-brand-gold font-mono font-bold text-sm",children:"2 PTS / MIN"})]}),g.jsxs("li",{className:"flex justify-between items-center p-4 bg-white/5 rounded-xl border border-brand-gold/20 hover:bg-white/10 transition-colors",children:[g.jsx("span",{className:"text-white font-bold text-sm",children:"Casting a Vote (Council)"}),g.jsx("span",{className:"text-brand-gold font-mono font-bold text-sm",children:"5 PTS"})]}),g.jsxs("li",{className:"flex justify-between items-center p-4 bg-white/5 rounded-xl border border-white/5 opacity-50",children:[g.jsx("span",{className:"text-neutral-500 text-sm",children:"Posting Content"}),g.jsx("span",{className:"text-neutral-600 font-mono text-sm",children:"0 PTS"})]})]})]}),g.jsxs("div",{className:"flex flex-col justify-center text-center p-8 bg-black/40 rounded-2xl border border-white/10 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-brand-gold/20 via-brand-gold to-brand-gold/20"}),g.jsx("div",{className:"text-5xl mb-6",children:""}),g.jsx("h4",{className:"text-white font-bold text-xl mb-2",children:"Weighted Voting"}),g.jsx("p",{className:"text-xs text-neutral-400 mb-6 px-4",children:"Rank determines impact. A senior officer's vote outweighs a novice's."}),g.jsxs("ul",{className:"text-xs text-neutral-500 font-mono space-y-2",children:[g.jsxs("li",{className:"flex justify-between px-4",children:[g.jsx("span",{children:"Student"})," ",g.jsx("span",{className:"text-white",children:"1x Influence"})]}),g.jsxs("li",{className:"flex justify-between px-4",children:[g.jsx("span",{children:"Contributor"})," ",g.jsx("span",{className:"text-white",children:"2x Influence"})]}),g.jsxs("li",{className:"flex justify-between px-4",children:[g.jsx("span",{children:"Scholar"})," ",g.jsx("span",{className:"text-white",children:"5x Influence"})]}),g.jsxs("li",{className:"flex justify-between px-4 border-t border-white/10 pt-2 mt-2",children:[g.jsx("span",{className:"text-brand-gold font-bold",children:"COUNCIL"})," ",g.jsx("span",{className:"text-brand-gold font-bold",children:"50x Influence"})]})]})]})]})]}),g.jsx("div",{className:"glass-panel p-10 rounded-3xl border border-emerald-500/20 bg-gradient-to-br from-emerald-950/30 to-black",children:g.jsxs("div",{className:"flex items-start gap-6",children:[g.jsx("div",{className:"p-4 bg-emerald-500/10 rounded-2xl border border-emerald-500/20 hidden md:block",children:g.jsx("svg",{className:"w-8 h-8 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-2xl font-bold text-white mb-4 uppercase tracking-widest",children:"The Vault & Academic Integrity"}),g.jsxs("p",{className:"text-neutral-300 text-sm leading-relaxed mb-6",children:["The Vault allows students to purchase artwork and resources using points earned from studying.",g.jsx("br",{}),g.jsx("br",{}),g.jsx("strong",{className:"text-emerald-400",children:"WARNING:"})," To maintain system integrity, ",g.jsx("span",{className:"text-white underline decoration-emerald-500/50",children:"study time is audited against real-world grades"}),"."]}),g.jsxs("div",{className:"p-4 bg-black/40 border border-white/10 rounded-xl text-xs text-neutral-400 font-mono leading-relaxed",children:[g.jsx("span",{className:"text-red-400 font-bold mr-2",children:"ANTI-FRAUD PROTOCOL:"}),"If a student accumulates massive study hours (leaving the timer running) but their real-world grades do not reflect this effort, purchased Vault assets will be revoked and points reset. Fraudulent activity prevents artwork distribution."]})]})]})}),g.jsxs("div",{className:"glass-panel p-10 rounded-3xl border border-white/10",children:[g.jsxs("div",{className:"text-center mb-10",children:[g.jsx("h3",{className:"text-2xl font-bold text-white uppercase tracking-widest mb-2",children:"Rank Structure"}),g.jsx("p",{className:"text-brand-red text-xs font-mono uppercase tracking-[0.2em] font-bold",children:"The Spades High Council: Jack  Queen  King  Ace"})]}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:Object.values(Fn).map(i=>g.jsxs("div",{className:`p-5 rounded-2xl border flex flex-col items-center text-center hover:bg-white/5 transition-all duration-300 hover:scale-105 ${["J","Q","K","A"].includes(i.id)?"bg-brand-red/5 border-brand-red/30 shadow-[0_0_20px_rgba(217,35,35,0.1)]":"bg-black/40 border-white/5"}`,children:[g.jsx("div",{className:"text-3xl font-display font-bold text-white mb-3",children:i.id.replace("","")}),g.jsx("div",{className:"text-[10px] text-brand-red uppercase font-bold mb-1 tracking-wider",children:i.tier}),g.jsxs("div",{className:"text-[9px] text-neutral-500 font-mono mb-2",children:[i.minPoints," PTS"]}),g.jsxs("div",{className:"text-[9px] text-brand-gold font-mono bg-brand-gold/10 px-2 py-0.5 rounded border border-brand-gold/20",children:["Power: ",i.voteWeight,"x"]})]},i.id))})]}),g.jsxs("div",{className:"glass-panel p-10 rounded-3xl border border-brand-red/20 bg-gradient-to-r from-brand-red/10 to-transparent",children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Acceleration Strategy"}),g.jsxs("p",{className:"text-neutral-300 text-sm leading-relaxed mb-6",children:[g.jsx("strong",{children:"Focus is currency."})," The system is designed to accelerate those who utilize the Focus Realm. 1 Hour of study equals 120 Points. This is the fastest path to the Council."]})]})]}),kC=({currentUser:i,onUpdate:t})=>{const[o,s]=W.useState({current:"",new:"",confirm:""}),[r,d]=W.useState({text:"",type:""}),p=async v=>{if(v.preventDefault(),d({text:"",type:""}),o.new!==o.confirm){d({text:"New passwords do not match.",type:"error"});return}if(o.new.length<8){d({text:"Password must be at least 8 characters.",type:"error"});return}if(i.passwordHash!==o.current){d({text:"Current password incorrect.",type:"error"});return}await pe.updatePassword(i.studentId,o.new),d({text:"Security key updated successfully.",type:"success"}),s({current:"",new:"",confirm:""}),t()};return g.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 pb-32 animate-in fade-in duration-700",children:[g.jsxs("div",{className:"text-center py-8",children:[g.jsx("h1",{className:"text-4xl font-display font-black text-white tracking-tight mb-2",children:"SETTINGS"}),g.jsx("p",{className:"text-brand-gold font-mono text-xs uppercase tracking-[0.4em]",children:"Account Security"})]}),g.jsxs("div",{className:"glass-panel p-8 rounded-2xl border border-white/5",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-6 uppercase tracking-wider",children:"Update Security Key"}),g.jsxs("form",{onSubmit:p,className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] uppercase font-bold text-neutral-500 mb-2",children:"Current Password"}),g.jsx("input",{type:"password",value:o.current,onChange:v=>s({...o,current:v.target.value}),className:"w-full bg-black/50 border border-white/10 rounded-xl p-3 text-white focus:border-brand-red outline-none",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] uppercase font-bold text-neutral-500 mb-2",children:"New Password"}),g.jsx("input",{type:"password",value:o.new,onChange:v=>s({...o,new:v.target.value}),className:"w-full bg-black/50 border border-white/10 rounded-xl p-3 text-white focus:border-brand-red outline-none",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] uppercase font-bold text-neutral-500 mb-2",children:"Confirm New Password"}),g.jsx("input",{type:"password",value:o.confirm,onChange:v=>s({...o,confirm:v.target.value}),className:"w-full bg-black/50 border border-white/10 rounded-xl p-3 text-white focus:border-brand-red outline-none",required:!0})]}),r.text&&g.jsx("div",{className:`p-3 rounded text-xs font-bold uppercase ${r.type==="error"?"bg-red-900/20 text-red-500":"bg-emerald-900/20 text-emerald-500"}`,children:r.text}),g.jsx("button",{type:"submit",className:"px-8 py-3 bg-brand-red text-white font-bold uppercase tracking-widest text-xs rounded-lg hover:bg-red-600 transition-colors",children:"Update Key"})]})]}),g.jsxs("div",{className:"glass-panel p-8 rounded-2xl border border-white/5 opacity-50",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2 uppercase tracking-wider",children:"System Info"}),g.jsxs("p",{className:"text-sm text-neutral-400 font-mono",children:["ID: ",i.studentId]}),g.jsxs("p",{className:"text-sm text-neutral-400 font-mono",children:["Rank: ",i.currentCard]}),g.jsxs("p",{className:"text-sm text-neutral-400 font-mono",children:["Joined: ",new Date(i.joinDate).toLocaleDateString()]})]})]})},LC=({onLogin:i,onBack:t})=>{const[o,s]=W.useState("login"),[r,d]=W.useState(""),[p,v]=W.useState(""),[y,h]=W.useState(""),[x,T]=W.useState(!1),[b,_]=W.useState(null);W.useEffect(()=>{pe.getSettings().then(_)},[]);const w=async R=>{R.preventDefault(),h(""),T(!0);const P=r.toUpperCase();if(!P.match(/^S25(\d{4,5})$/)){h("ACCESS DENIED // INVALID FORMAT: S25XXXX"),T(!1);return}if(o==="login"){const G=await pe.getUser(P);if(G){if(G.studentId==="S253456"&&G.isBanned){const J={...G,isBanned:!1};await pe.saveUser(J),i(J),T(!1);return}if(G.isBanned){h("ACCESS REVOKED // YOUR ACCOUNT HAS BEEN BANNED BY THE ACE."),T(!1);return}G.passwordHash===p?i(G):h("AUTHENTICATION FAILED // INVALID KEY")}else h("ACCESS DENIED // ACCOUNT NOT FOUND.")}else if(p.length<8)h("REGISTRATION FAILED // PASSWORD TOO WEAK");else if(await pe.userExists(P))h("REGISTRATION FAILED // ID ALREADY REGISTERED");else{const J={studentId:P,username:P,passwordHash:p,currentRank:"2 of Spades",currentCard:"2",totalPoints:0,joinDate:new Date().toISOString(),lastActive:new Date().toISOString(),yearGroup:13,house:["Phoenix","Dragon","Griffin","Raven"][Math.floor(Math.random()*4)],stats:{postsCreated:0,commentsCreated:0,votesGiven:0,resourcesShared:0,moderationsPerformed:0,minutesStudied:0},isAdmin:P==="S253456",requiresPasswordChange:!1,inventory:[]};await pe.saveUser(J),i(J)}T(!1)},k=async()=>{T(!0);const P={studentId:`GUEST-${Math.floor(1e3+Math.random()*9e3)}`,username:"Visitor",passwordHash:"",currentRank:"2 of Spades",currentCard:"2",totalPoints:0,joinDate:new Date().toISOString(),lastActive:new Date().toISOString(),yearGroup:13,house:"Phoenix",stats:{postsCreated:0,commentsCreated:0,votesGiven:0,resourcesShared:0,moderationsPerformed:0,minutesStudied:0},isAdmin:!1,requiresPasswordChange:!1,inventory:[],isGuest:!0};await pe.saveUser(P),i(P)};return g.jsxs("div",{className:"min-h-screen bg-[#020202] flex items-center justify-center p-4 relative overflow-hidden font-sans",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')] opacity-[0.4] mix-blend-overlay"}),g.jsxs("div",{className:"max-w-[900px] w-full grid grid-cols-1 md:grid-cols-2 bg-[#050505]/80 backdrop-blur-3xl border border-white/5 rounded-[32px] shadow-2xl relative overflow-hidden",children:[g.jsx("button",{onClick:t,className:"absolute top-6 left-6 text-neutral-600 hover:text-white transition-colors z-30",children:g.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),g.jsxs("div",{className:"relative p-12 bg-black/50",children:[g.jsxs("h1",{className:"text-6xl font-display font-black text-white tracking-tighter mb-4",children:["SPA",g.jsx("span",{className:"text-brand-red",children:"DES"})]}),g.jsx("p",{className:"text-brand-gold font-mono text-xs uppercase tracking-[0.4em] font-bold opacity-80",children:"The Spades Protocol"})]}),g.jsxs("div",{className:"p-12 bg-[#080808] border-l border-white/5 flex flex-col justify-center",children:[g.jsx("div",{className:"flex gap-4 mb-10 border-b border-white/5",children:["login","register"].map(R=>g.jsx("button",{onClick:()=>{s(R),h("")},className:`pb-2 text-xs font-bold uppercase tracking-widest ${o===R?"text-white border-b-2 border-brand-red":"text-neutral-500 hover:text-white"}`,children:R},R))}),g.jsxs("form",{onSubmit:w,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:"Student ID"}),g.jsx("input",{type:"text",value:r,onChange:R=>d(R.target.value),placeholder:"S25XXXX",maxLength:8,className:"w-full bg-[#111] border border-[#222] rounded-xl p-4 text-white font-mono"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:"Security Key"}),g.jsx("input",{type:"password",value:p,onChange:R=>v(R.target.value),placeholder:"",className:"w-full bg-[#111] border border-[#222] rounded-xl p-4 text-white font-mono"})]}),y&&g.jsx("div",{className:"p-3 bg-red-950/20 border border-red-900/40 rounded-lg text-red-400 text-[10px] font-mono uppercase leading-relaxed",children:y}),g.jsx("button",{type:"submit",disabled:x,className:"w-full bg-white text-black font-bold py-4 rounded-xl hover:scale-[1.01] transition-all uppercase tracking-widest text-xs",children:x?"Processing...":o==="login"?"Authenticate":"Initiate Identity"})]}),(b==null?void 0:b.allowGuestAccess)&&g.jsx("div",{className:"mt-6 pt-6 border-t border-white/5",children:g.jsxs("button",{onClick:k,disabled:x,className:"w-full py-3 text-neutral-500 hover:text-white font-mono text-xs uppercase tracking-widest transition-colors flex items-center justify-center gap-2",children:[g.jsx("span",{children:"Continue as Guest"}),g.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]})]})]})},PC=({user:i,onSuccess:t})=>{const[o,s]=W.useState(""),[r,d]=W.useState(""),[p,v]=W.useState(""),[y,h]=W.useState(!1),x=async T=>{if(T.preventDefault(),v(""),o.length<8)return v("Password must be at least 8 characters.");if(o!==r)return v("Passwords do not match.");h(!0),await pe.updatePassword(i.studentId,o),h(!1),t()};return g.jsx("div",{className:"min-h-screen bg-[#020202] flex items-center justify-center p-4",children:g.jsxs("div",{className:"max-w-md w-full bg-[#080808] border border-red-900/40 rounded-3xl p-10 shadow-[0_0_50px_rgba(220,38,38,0.2)]",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx("div",{className:"w-16 h-16 rounded-full bg-red-900/20 flex items-center justify-center animate-pulse",children:g.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})}),g.jsx("h2",{className:"text-2xl font-display font-bold text-white text-center mb-2",children:"SECURITY ALERT"}),g.jsx("p",{className:"text-center text-neutral-500 text-xs font-mono uppercase tracking-widest mb-8",children:"Protocol Requires Mandatory Key Change"}),g.jsxs("form",{onSubmit:x,className:"space-y-4",children:[g.jsx("input",{type:"password",value:o,onChange:T=>s(T.target.value),placeholder:"New Secure Key",className:"w-full bg-[#111] border border-[#222] rounded-xl p-4 text-white font-mono"}),g.jsx("input",{type:"password",value:r,onChange:T=>d(T.target.value),placeholder:"Confirm Secure Key",className:"w-full bg-[#111] border border-[#222] rounded-xl p-4 text-white font-mono"}),p&&g.jsx("div",{className:"p-3 bg-red-950/20 text-red-400 text-xs font-bold text-center",children:p}),g.jsx("button",{type:"submit",disabled:y,className:"w-full bg-brand-red text-white font-bold py-4 rounded-xl uppercase tracking-widest text-xs hover:bg-red-600 transition-colors",children:y?"Securing...":"Update Protocol"})]})]})})},GC=()=>{const[i,t]=W.useState(null),[o,s]=W.useState("portfolio"),[r,d]=W.useState("dashboard"),[p,v]=W.useState(0),y=W.useCallback(async b=>{const _=["2","3","4","5","6","7","8","9","10","J","Q","K","A"];let w=_.indexOf(b.currentCard),k=0;for(let R=0;R<_.length;R++)b.totalPoints>=Fn[_[R]].minPoints&&(k=R);if(k>w){const R=_[k],P={...b,currentCard:R,currentRank:Fn[R].name};await pe.saveUser(P),t(P)}else t(b)},[]),h=W.useCallback(async()=>{const b=localStorage.getItem("session_user_id");if(!b)return;const _=await pe.getUser(b);_&&(_.isBanned&&_.studentId!=="S253456"?T():(t(_),y(_),v(w=>w+1)))},[y]);W.useEffect(()=>{const b=localStorage.getItem("session_user_id");b&&pe.getUser(b).then(k=>{if(k){if(k.studentId==="S253456"&&k.isBanned){pe.updateUserStatus("S253456",{isBanned:!1}).then(()=>{const R={...k,isBanned:!1};t(R),s("app")});return}k.isBanned?T():(t(k),s("app"),y(k))}});const _=k=>{(k.key==="users"||k.key==="art_pieces")&&h()},w=()=>{h()};return window.addEventListener("storage",_),window.addEventListener("storage_update",w),()=>{window.removeEventListener("storage",_),window.removeEventListener("storage_update",w)}},[h,y]);const x=b=>{localStorage.setItem("session_user_id",b.studentId),t(b),s("app"),y(b)},T=()=>{localStorage.removeItem("session_user_id"),t(null),s("portfolio")};return o==="portfolio"?g.jsx(Uh,{onEnterSystem:()=>s("auth")}):o==="auth"&&!i?g.jsx(LC,{onLogin:x,onBack:()=>s("portfolio")}):i?i.requiresPasswordChange&&!i.isGuest?g.jsx(PC,{user:i,onSuccess:h}):g.jsxs("div",{className:"min-h-screen bg-[#020202] text-neutral-100 flex font-sans",children:[g.jsx(py,{user:i,activeTab:r,onTabChange:d,onLogout:T}),g.jsx("main",{className:"flex-1 md:ml-72 p-4 md:p-10 overflow-x-hidden relative",children:g.jsxs("div",{className:"max-w-6xl mx-auto mt-20 md:mt-0 relative z-10",children:[r==="dashboard"&&g.jsx(CC,{user:i}),r==="feed"&&g.jsx(_C,{currentUser:i,refreshTrigger:p,onActivity:h}),r==="focus"&&g.jsx(IC,{currentUser:i,onActivity:h}),r==="gallery"&&g.jsx(MC,{currentUser:i,onPurchase:h}),r==="leaderboard"&&g.jsx(AC,{}),r==="council"&&g.jsx(NC,{currentUser:i,refreshTrigger:p,onActivity:h}),r==="guide"&&g.jsx(UC,{}),r==="settings"&&g.jsx(kC,{currentUser:i,onUpdate:h}),r==="admin"&&i.isAdmin&&g.jsx(wC,{currentUser:i,onActivity:h})]})})]}):g.jsx(Uh,{onEnterSystem:()=>s("auth")})};pe.init().then(()=>{const i=document.getElementById("root");if(!i)throw new Error("Failed to find the root element");cy.createRoot(i).render(g.jsx(ny.StrictMode,{children:g.jsx(GC,{})}))});</script>
  <style rel="stylesheet" crossorigin>@tailwind base;@tailwind components;@tailwind utilities;</style>
</head>
  <body>
    <div class="cinematic-bg"></div>
    <div class="noise-overlay"></div>
    <div id="root"></div>
  </body>
</html>